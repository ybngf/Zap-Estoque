var eP=Object.defineProperty;var tP=(e,t,n)=>t in e?eP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Rf=(e,t,n)=>tP(e,typeof t!="symbol"?t+"":t,n);function nP(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function or(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lw={exports:{}},cd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP=Symbol.for("react.transitional.element"),aP=Symbol.for("react.fragment");function Uw(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:rP,type:e,key:r,ref:t!==void 0?t:null,props:n}}cd.Fragment=aP;cd.jsx=Uw;cd.jsxs=Uw;Lw.exports=cd;var d=Lw.exports,zw={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=Symbol.for("react.transitional.element"),iP=Symbol.for("react.portal"),oP=Symbol.for("react.fragment"),lP=Symbol.for("react.strict_mode"),sP=Symbol.for("react.profiler"),uP=Symbol.for("react.consumer"),cP=Symbol.for("react.context"),dP=Symbol.for("react.forward_ref"),fP=Symbol.for("react.suspense"),mP=Symbol.for("react.memo"),Bw=Symbol.for("react.lazy"),pP=Symbol.for("react.activity"),H0=Symbol.iterator;function hP(e){return e===null||typeof e!="object"?null:(e=H0&&e[H0]||e["@@iterator"],typeof e=="function"?e:null)}var qw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hw=Object.assign,Vw={};function No(e,t,n){this.props=e,this.context=t,this.refs=Vw,this.updater=n||qw}No.prototype.isReactComponent={};No.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};No.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $w(){}$w.prototype=No.prototype;function Fh(e,t,n){this.props=e,this.context=t,this.refs=Vw,this.updater=n||qw}var Yh=Fh.prototype=new $w;Yh.constructor=Fh;Hw(Yh,No.prototype);Yh.isPureReactComponent=!0;var V0=Array.isArray;function Hm(){}var Ue={H:null,A:null,T:null,S:null},Gw=Object.prototype.hasOwnProperty;function Kh(e,t,n){var r=n.ref;return{$$typeof:Gh,type:e,key:t,ref:r!==void 0?r:null,props:n}}function gP(e,t){return Kh(e.type,t,e.props)}function Jh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gh}function yP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $0=/\/+/g;function jf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yP(""+e.key):t.toString(36)}function vP(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Hm,Hm):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ki(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gh:case iP:o=!0;break;case Bw:return o=e._init,ki(o(e._payload),t,n,r,a)}}if(o)return a=a(e),o=r===""?"."+jf(e,0):r,V0(a)?(n="",o!=null&&(n=o.replace($0,"$&/")+"/"),ki(a,t,n,"",function(u){return u})):a!=null&&(Jh(a)&&(a=gP(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace($0,"$&/")+"/")+o)),t.push(a)),1;o=0;var l=r===""?".":r+":";if(V0(e))for(var s=0;s<e.length;s++)r=e[s],i=l+jf(r,s),o+=ki(r,t,n,i,a);else if(s=hP(e),typeof s=="function")for(e=s.call(e),s=0;!(r=e.next()).done;)r=r.value,i=l+jf(r,s++),o+=ki(r,t,n,i,a);else if(i==="object"){if(typeof e.then=="function")return ki(vP(e),t,n,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function qs(e,t,n){if(e==null)return e;var r=[],a=0;return ki(e,r,"","",function(i){return t.call(n,i,a++)}),r}function xP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var G0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bP={map:qs,forEach:function(e,t,n){qs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qs(e,function(){t++}),t},toArray:function(e){return qs(e,function(t){return t})||[]},only:function(e){if(!Jh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Activity=pP;ie.Children=bP;ie.Component=No;ie.Fragment=oP;ie.Profiler=sP;ie.PureComponent=Fh;ie.StrictMode=lP;ie.Suspense=fP;ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ue;ie.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ue.H.useMemoCache(e)}};ie.cache=function(e){return function(){return e.apply(null,arguments)}};ie.cacheSignal=function(){return null};ie.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=Hw({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!Gw.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(r[i]=t[i]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];r.children=o}return Kh(e.type,a,r)};ie.createContext=function(e){return e={$$typeof:cP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:uP,_context:e},e};ie.createElement=function(e,t,n){var r,a={},i=null;if(t!=null)for(r in t.key!==void 0&&(i=""+t.key),t)Gw.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var l=Array(o),s=0;s<o;s++)l[s]=arguments[s+2];a.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return Kh(e,i,a)};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:dP,render:e}};ie.isValidElement=Jh;ie.lazy=function(e){return{$$typeof:Bw,_payload:{_status:-1,_result:e},_init:xP}};ie.memo=function(e,t){return{$$typeof:mP,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Ue.T,n={};Ue.T=n;try{var r=e(),a=Ue.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Hm,G0)}catch(i){G0(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),Ue.T=t}};ie.unstable_useCacheRefresh=function(){return Ue.H.useCacheRefresh()};ie.use=function(e){return Ue.H.use(e)};ie.useActionState=function(e,t,n){return Ue.H.useActionState(e,t,n)};ie.useCallback=function(e,t){return Ue.H.useCallback(e,t)};ie.useContext=function(e){return Ue.H.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e,t){return Ue.H.useDeferredValue(e,t)};ie.useEffect=function(e,t){return Ue.H.useEffect(e,t)};ie.useEffectEvent=function(e){return Ue.H.useEffectEvent(e)};ie.useId=function(){return Ue.H.useId()};ie.useImperativeHandle=function(e,t,n){return Ue.H.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return Ue.H.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return Ue.H.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return Ue.H.useMemo(e,t)};ie.useOptimistic=function(e,t){return Ue.H.useOptimistic(e,t)};ie.useReducer=function(e,t,n){return Ue.H.useReducer(e,t,n)};ie.useRef=function(e){return Ue.H.useRef(e)};ie.useState=function(e){return Ue.H.useState(e)};ie.useSyncExternalStore=function(e,t,n){return Ue.H.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return Ue.H.useTransition()};ie.version="19.2.0";zw.exports=ie;var x=zw.exports;const Ga=or(x),SP=nP({__proto__:null,default:Ga},[x]);var Fw={exports:{}},dd={},Yw={exports:{}},Kw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,L){var V=P.length;P.push(L);e:for(;0<V;){var D=V-1>>>1,B=P[D];if(0<a(B,L))P[D]=L,P[V]=B,V=D;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var L=P[0],V=P.pop();if(V!==L){P[0]=V;e:for(var D=0,B=P.length,Q=B>>>1;D<Q;){var J=2*(D+1)-1,se=P[J],te=J+1,le=P[te];if(0>a(se,V))te<B&&0>a(le,se)?(P[D]=le,P[te]=V,D=te):(P[D]=se,P[J]=V,D=J);else if(te<B&&0>a(le,V))P[D]=le,P[te]=V,D=te;else break e}}return L}function a(P,L){var V=P.sortIndex-L.sortIndex;return V!==0?V:P.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var s=[],u=[],c=1,f=null,p=3,g=!1,y=!1,b=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function _(P){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=P)r(u),L.sortIndex=L.expirationTime,t(s,L);else break;L=n(u)}}function T(P){if(b=!1,_(P),!y)if(n(s)!==null)y=!0,A||(A=!0,R());else{var L=n(u);L!==null&&K(T,L.startTime-P)}}var A=!1,N=-1,k=5,I=-1;function O(){return E?!0:!(e.unstable_now()-I<k)}function C(){if(E=!1,A){var P=e.unstable_now();I=P;var L=!0;try{e:{y=!1,b&&(b=!1,S(N),N=-1),g=!0;var V=p;try{t:{for(_(P),f=n(s);f!==null&&!(f.expirationTime>P&&O());){var D=f.callback;if(typeof D=="function"){f.callback=null,p=f.priorityLevel;var B=D(f.expirationTime<=P);if(P=e.unstable_now(),typeof B=="function"){f.callback=B,_(P),L=!0;break t}f===n(s)&&r(s),_(P)}else r(s);f=n(s)}if(f!==null)L=!0;else{var Q=n(u);Q!==null&&K(T,Q.startTime-P),L=!1}}break e}finally{f=null,p=V,g=!1}L=void 0}}finally{L?R():A=!1}}}var R;if(typeof w=="function")R=function(){w(C)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,$=G.port2;G.port1.onmessage=C,R=function(){$.postMessage(null)}}else R=function(){v(C,0)};function K(P,L){N=v(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var V=p;p=L;try{return P()}finally{p=V}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=p;p=P;try{return L()}finally{p=V}},e.unstable_scheduleCallback=function(P,L,V){var D=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?D+V:D):V=D,P){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=V+B,P={id:c++,callback:L,priorityLevel:P,startTime:V,expirationTime:B,sortIndex:-1},V>D?(P.sortIndex=V,t(u,P),n(s)===null&&P===n(u)&&(b?(S(N),N=-1):b=!0,K(T,V-D))):(P.sortIndex=B,t(s,P),y||g||(y=!0,A||(A=!0,R()))),P},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(P){var L=p;return function(){var V=p;p=L;try{return P.apply(this,arguments)}finally{p=V}}}})(Kw);Yw.exports=Kw;var EP=Yw.exports,Jw={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wP=x;function Xw(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Xr(){}var jt={d:{f:Xr,r:function(){throw Error(Xw(522))},D:Xr,C:Xr,L:Xr,m:Xr,X:Xr,S:Xr,M:Xr},p:0,findDOMNode:null},_P=Symbol.for("react.portal");function TP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_P,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var xl=wP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function fd(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=jt;zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Xw(299));return TP(e,t,null,n)};zt.flushSync=function(e){var t=xl.T,n=jt.p;try{if(xl.T=null,jt.p=2,e)return e()}finally{xl.T=t,jt.p=n,jt.d.f()}};zt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,jt.d.C(e,t))};zt.prefetchDNS=function(e){typeof e=="string"&&jt.d.D(e)};zt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=fd(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?jt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):n==="script"&&jt.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};zt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=fd(t.as,t.crossOrigin);jt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&jt.d.M(e)};zt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=fd(n,t.crossOrigin);jt.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};zt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=fd(t.as,t.crossOrigin);jt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else jt.d.m(e)};zt.requestFormReset=function(e){jt.d.r(e)};zt.unstable_batchedUpdates=function(e,t){return e(t)};zt.useFormState=function(e,t,n){return xl.H.useFormState(e,t,n)};zt.useFormStatus=function(){return xl.H.useHostTransitionStatus()};zt.version="19.2.0";function Ww(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ww)}catch(e){console.error(e)}}Ww(),Jw.exports=zt;var md=Jw.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lt=EP,Zw=x,CP=md;function H(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function us(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function e1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function t1(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function F0(e){if(us(e)!==e)throw Error(H(188))}function AP(e){var t=e.alternate;if(!t){if(t=us(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return F0(a),e;if(i===r)return F0(a),t;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function n1(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=n1(e),t!==null)return t;e=e.sibling}return null}var ze=Object.assign,NP=Symbol.for("react.element"),Hs=Symbol.for("react.transitional.element"),fl=Symbol.for("react.portal"),Ii=Symbol.for("react.fragment"),r1=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),a1=Symbol.for("react.consumer"),vr=Symbol.for("react.context"),Xh=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),Wh=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),Fm=Symbol.for("react.activity"),kP=Symbol.for("react.memo_cache_sentinel"),Y0=Symbol.iterator;function Xo(e){return e===null||typeof e!="object"?null:(e=Y0&&e[Y0]||e["@@iterator"],typeof e=="function"?e:null)}var MP=Symbol.for("react.client.reference");function Ym(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===MP?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ii:return"Fragment";case Vm:return"Profiler";case r1:return"StrictMode";case $m:return"Suspense";case Gm:return"SuspenseList";case Fm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case fl:return"Portal";case vr:return e.displayName||"Context";case a1:return(e._context.displayName||"Context")+".Consumer";case Xh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wh:return t=e.displayName||null,t!==null?t:Ym(e.type)||"Memo";case Wr:t=e._payload,e=e._init;try{return Ym(e(t))}catch{}}return null}var ml=Array.isArray,re=Zw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=CP.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fa={pending:!1,data:null,method:null,action:null},Km=[],Di=-1;function lr(e){return{current:e}}function gt(e){0>Di||(e.current=Km[Di],Km[Di]=null,Di--)}function De(e,t){Di++,Km[Di]=e.current,e.current=t}var er=lr(null),Rl=lr(null),da=lr(null),qu=lr(null);function Hu(e,t){switch(De(da,t),De(Rl,e),De(er,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qv(t),e=_T(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}gt(er),De(er,e)}function io(){gt(er),gt(Rl),gt(da)}function Jm(e){e.memoizedState!==null&&De(qu,e);var t=er.current,n=_T(t,e.type);t!==n&&(De(Rl,e),De(er,n))}function Vu(e){Rl.current===e&&(gt(er),gt(Rl)),qu.current===e&&(gt(qu),Fl._currentValue=Fa)}var Lf,K0;function Ra(e){if(Lf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lf=t&&t[1]||"",K0=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lf+e+K0}var Uf=!1;function zf(e,t){if(!e||Uf)return"";Uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(g){var p=g}Reflect.construct(e,[],f)}else{try{f.call()}catch(g){p=g}e.call(f.prototype)}}else{try{throw Error()}catch(g){p=g}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),o=i[0],l=i[1];if(o&&l){var s=o.split(`
`),u=l.split(`
`);for(a=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===s.length||a===u.length)for(r=s.length-1,a=u.length-1;1<=r&&0<=a&&s[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(s[r]!==u[a]){if(r!==1||a!==1)do if(r--,a--,0>a||s[r]!==u[a]){var c=`
`+s[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=a);break}}}finally{Uf=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ra(n):""}function PP(e,t){switch(e.tag){case 26:case 27:case 5:return Ra(e.type);case 16:return Ra("Lazy");case 13:return e.child!==t&&t!==null?Ra("Suspense Fallback"):Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 15:return zf(e.type,!1);case 11:return zf(e.type.render,!1);case 1:return zf(e.type,!0);case 31:return Ra("Activity");default:return""}}function J0(e){try{var t="",n=null;do t+=PP(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Xm=Object.prototype.hasOwnProperty,Zh=lt.unstable_scheduleCallback,Bf=lt.unstable_cancelCallback,IP=lt.unstable_shouldYield,DP=lt.unstable_requestPaint,ln=lt.unstable_now,OP=lt.unstable_getCurrentPriorityLevel,i1=lt.unstable_ImmediatePriority,o1=lt.unstable_UserBlockingPriority,$u=lt.unstable_NormalPriority,RP=lt.unstable_LowPriority,l1=lt.unstable_IdlePriority,jP=lt.log,LP=lt.unstable_setDisableYieldValue,cs=null,sn=null;function oa(e){if(typeof jP=="function"&&LP(e),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(cs,e)}catch{}}var un=Math.clz32?Math.clz32:BP,UP=Math.log,zP=Math.LN2;function BP(e){return e>>>=0,e===0?32:31-(UP(e)/zP|0)|0}var Vs=256,$s=262144,Gs=4194304;function ja(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pd(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=r&134217727;return l!==0?(r=l&~i,r!==0?a=ja(r):(o&=l,o!==0?a=ja(o):n||(n=l&~e,n!==0&&(a=ja(n))))):(l=r&~i,l!==0?a=ja(l):o!==0?a=ja(o):n||(n=r&~e,n!==0&&(a=ja(n)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:a}function ds(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qP(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s1(){var e=Gs;return Gs<<=1,!(Gs&62914560)&&(Gs=4194304),e}function qf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function HP(e,t,n,r,a,i){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-un(n),f=1<<c;l[c]=0,s[c]=-1;var p=u[c];if(p!==null)for(u[c]=null,c=0;c<p.length;c++){var g=p[c];g!==null&&(g.lane&=-536870913)}n&=~f}r!==0&&u1(e,r,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function u1(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-un(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function c1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-un(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function d1(e,t){var n=t&-t;return n=n&42?1:Qh(n),n&(e.suspendedLanes|t)?0:n}function Qh(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function eg(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function f1(){var e=Se.p;return e!==0?e:(e=window.event,e===void 0?32:RT(e.type))}function X0(e,t){var n=Se.p;try{return Se.p=e,t()}finally{Se.p=n}}var Aa=Math.random().toString(36).slice(2),wt="__reactFiber$"+Aa,Jt="__reactProps$"+Aa,ko="__reactContainer$"+Aa,Wm="__reactEvents$"+Aa,VP="__reactListeners$"+Aa,$P="__reactHandles$"+Aa,W0="__reactResources$"+Aa,ms="__reactMarker$"+Aa;function tg(e){delete e[wt],delete e[Jt],delete e[Wm],delete e[VP],delete e[$P]}function Oi(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ko]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ax(e);e!==null;){if(n=e[wt])return n;e=ax(e)}return t}e=n,n=e.parentNode}return null}function Mo(e){if(e=e[wt]||e[ko]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function pl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(H(33))}function Yi(e){var t=e[W0];return t||(t=e[W0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function pt(e){e[ms]=!0}var m1=new Set,p1={};function hi(e,t){oo(e,t),oo(e+"Capture",t)}function oo(e,t){for(p1[e]=t,e=0;e<t.length;e++)m1.add(t[e])}var GP=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Z0={},Q0={};function FP(e){return Xm.call(Q0,e)?!0:Xm.call(Z0,e)?!1:GP.test(e)?Q0[e]=!0:(Z0[e]=!0,!1)}function xu(e,t,n){if(FP(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Fs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ur(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function h1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YP(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zm(e){if(!e._valueTracker){var t=h1(e)?"checked":"value";e._valueTracker=YP(e,t,""+e[t])}}function g1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=h1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var KP=/[\n"\\]/g;function _n(e){return e.replace(KP,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Qm(e,t,n,r,a,i,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?ep(e,o,Sn(t)):n!=null?ep(e,o,Sn(n)):r!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Sn(l):e.removeAttribute("name")}function y1(e,t,n,r,a,i,o,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Zm(e);return}n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=l?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Zm(e)}function ep(e,t,n){t==="number"&&Gu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ki(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function v1(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function x1(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(H(92));if(ml(r)){if(1<r.length)throw Error(H(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),Zm(e)}function lo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var JP=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ev(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||JP.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function b1(e,t,n){if(t!=null&&typeof t!="object")throw Error(H(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&ev(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&ev(e,i,t[i])}function ng(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),WP=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bu(e){return WP.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xr(){}var tp=null;function rg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ri=null,Ji=null;function tv(e){var t=Mo(e);if(t&&(e=t.stateNode)){var n=e[Jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Qm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Jt]||null;if(!a)throw Error(H(90));Qm(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&g1(r)}break e;case"textarea":v1(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ki(e,!!n.multiple,t,!1)}}}var Hf=!1;function S1(e,t,n){if(Hf)return e(t,n);Hf=!0;try{var r=e(t);return r}finally{if(Hf=!1,(Ri!==null||Ji!==null)&&(Cd(),Ri&&(t=Ri,e=Ji,Ji=Ri=null,tv(t),e)))for(t=0;t<e.length;t++)tv(e[t])}}function jl(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Jt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),np=!1;if(Nr)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){np=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{np=!1}var la=null,ag=null,Su=null;function E1(){if(Su)return Su;var e,t=ag,n=t.length,r,a="value"in la?la.value:la.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Su=a.slice(e,1<r?1-r:void 0)}function Eu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ys(){return!0}function nv(){return!1}function Xt(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ys:nv,this.isPropagationStopped=nv,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),t}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hd=Xt(gi),ps=ze({},gi,{view:0,detail:0}),ZP=Xt(ps),Vf,$f,Zo,gd=ze({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ig,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zo&&(Zo&&e.type==="mousemove"?(Vf=e.screenX-Zo.screenX,$f=e.screenY-Zo.screenY):$f=Vf=0,Zo=e),Vf)},movementY:function(e){return"movementY"in e?e.movementY:$f}}),rv=Xt(gd),QP=ze({},gd,{dataTransfer:0}),eI=Xt(QP),tI=ze({},ps,{relatedTarget:0}),Gf=Xt(tI),nI=ze({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),rI=Xt(nI),aI=ze({},gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iI=Xt(aI),oI=ze({},gi,{data:0}),av=Xt(oI),lI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uI[e])?!!t[e]:!1}function ig(){return cI}var dI=ze({},ps,{key:function(e){if(e.key){var t=lI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ig,charCode:function(e){return e.type==="keypress"?Eu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fI=Xt(dI),mI=ze({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iv=Xt(mI),pI=ze({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ig}),hI=Xt(pI),gI=ze({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yI=Xt(gI),vI=ze({},gd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xI=Xt(vI),bI=ze({},gi,{newState:0,oldState:0}),SI=Xt(bI),EI=[9,13,27,32],og=Nr&&"CompositionEvent"in window,bl=null;Nr&&"documentMode"in document&&(bl=document.documentMode);var wI=Nr&&"TextEvent"in window&&!bl,w1=Nr&&(!og||bl&&8<bl&&11>=bl),ov=" ",lv=!1;function _1(e,t){switch(e){case"keyup":return EI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ji=!1;function _I(e,t){switch(e){case"compositionend":return T1(t);case"keypress":return t.which!==32?null:(lv=!0,ov);case"textInput":return e=t.data,e===ov&&lv?null:e;default:return null}}function TI(e,t){if(ji)return e==="compositionend"||!og&&_1(e,t)?(e=E1(),Su=ag=la=null,ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return w1&&t.locale!=="ko"?null:t.data;default:return null}}var CI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CI[e.type]:t==="textarea"}function C1(e,t,n,r){Ri?Ji?Ji.push(r):Ji=[r]:Ri=r,t=uc(t,"onChange"),0<t.length&&(n=new hd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Sl=null,Ll=null;function AI(e){ST(e,0)}function yd(e){var t=pl(e);if(g1(t))return e}function uv(e,t){if(e==="change")return t}var A1=!1;if(Nr){var Ff;if(Nr){var Yf="oninput"in document;if(!Yf){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),Yf=typeof cv.oninput=="function"}Ff=Yf}else Ff=!1;A1=Ff&&(!document.documentMode||9<document.documentMode)}function dv(){Sl&&(Sl.detachEvent("onpropertychange",N1),Ll=Sl=null)}function N1(e){if(e.propertyName==="value"&&yd(Ll)){var t=[];C1(t,Ll,e,rg(e)),S1(AI,t)}}function NI(e,t,n){e==="focusin"?(dv(),Sl=t,Ll=n,Sl.attachEvent("onpropertychange",N1)):e==="focusout"&&dv()}function kI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yd(Ll)}function MI(e,t){if(e==="click")return yd(t)}function PI(e,t){if(e==="input"||e==="change")return yd(t)}function II(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fn=typeof Object.is=="function"?Object.is:II;function Ul(e,t){if(fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Xm.call(t,a)||!fn(e[a],t[a]))return!1}return!0}function fv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mv(e,t){var n=fv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fv(n)}}function k1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?k1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function M1(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Gu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gu(e.document)}return t}function lg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var DI=Nr&&"documentMode"in document&&11>=document.documentMode,Li=null,rp=null,El=null,ap=!1;function pv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ap||Li==null||Li!==Gu(r)||(r=Li,"selectionStart"in r&&lg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),El&&Ul(El,r)||(El=r,r=uc(rp,"onSelect"),0<r.length&&(t=new hd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Li)))}function Oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ui={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Kf={},P1={};Nr&&(P1=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function yi(e){if(Kf[e])return Kf[e];if(!Ui[e])return e;var t=Ui[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in P1)return Kf[e]=t[n];return e}var I1=yi("animationend"),D1=yi("animationiteration"),O1=yi("animationstart"),OI=yi("transitionrun"),RI=yi("transitionstart"),jI=yi("transitioncancel"),R1=yi("transitionend"),j1=new Map,ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ip.push("scrollEnd");function Gn(e,t){j1.set(e,t),hi(t,[e])}var Fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],zi=0,sg=0;function vd(){for(var e=zi,t=sg=zi=0;t<e;){var n=bn[t];bn[t++]=null;var r=bn[t];bn[t++]=null;var a=bn[t];bn[t++]=null;var i=bn[t];if(bn[t++]=null,r!==null&&a!==null){var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}i!==0&&L1(n,a,i)}}function xd(e,t,n,r){bn[zi++]=e,bn[zi++]=t,bn[zi++]=n,bn[zi++]=r,sg|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ug(e,t,n,r){return xd(e,t,n,r),Yu(e)}function vi(e,t){return xd(e,null,null,t),Yu(e)}function L1(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var a=!1,i=e.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-un(n),e=i.hiddenUpdates,r=e[a],r===null?e[a]=[t]:r.push(t),t.lane=n|536870912),i):null}function Yu(e){if(50<Pl)throw Pl=0,Cp=null,Error(H(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Bi={};function LI(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,n,r){return new LI(e,t,n,r)}function cg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wr(e,t){var n=e.alternate;return n===null?(n=rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function U1(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function wu(e,t,n,r,a,i){var o=0;if(r=e,typeof e=="function")cg(e)&&(o=1);else if(typeof e=="string")o=HD(e,n,er.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Fm:return e=rn(31,n,t,a),e.elementType=Fm,e.lanes=i,e;case Ii:return Ya(n.children,a,i,t);case r1:o=8,a|=24;break;case Vm:return e=rn(12,n,t,a|2),e.elementType=Vm,e.lanes=i,e;case $m:return e=rn(13,n,t,a),e.elementType=$m,e.lanes=i,e;case Gm:return e=rn(19,n,t,a),e.elementType=Gm,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vr:o=10;break e;case a1:o=9;break e;case Xh:o=11;break e;case Wh:o=14;break e;case Wr:o=16,r=null;break e}o=29,n=Error(H(130,e===null?"null":typeof e,"")),r=null}return t=rn(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Ya(e,t,n,r){return e=rn(7,e,r,t),e.lanes=n,e}function Jf(e,t,n){return e=rn(6,e,null,t),e.lanes=n,e}function z1(e){var t=rn(18,null,null,0);return t.stateNode=e,t}function Xf(e,t,n){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var hv=new WeakMap;function Tn(e,t){if(typeof e=="object"&&e!==null){var n=hv.get(e);return n!==void 0?n:(t={value:e,source:t,stack:J0(t)},hv.set(e,t),t)}return{value:e,source:t,stack:J0(t)}}var qi=[],Hi=0,Ku=null,zl=0,En=[],wn=0,Sa=null,Xn=1,Wn="";function pr(e,t){qi[Hi++]=zl,qi[Hi++]=Ku,Ku=e,zl=t}function B1(e,t,n){En[wn++]=Xn,En[wn++]=Wn,En[wn++]=Sa,Sa=e;var r=Xn;e=Wn;var a=32-un(r)-1;r&=~(1<<a),n+=1;var i=32-un(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xn=1<<32-un(t)+a|n<<a|r,Wn=i+e}else Xn=1<<i|n<<a|r,Wn=e}function dg(e){e.return!==null&&(pr(e,1),B1(e,1,0))}function fg(e){for(;e===Ku;)Ku=qi[--Hi],qi[Hi]=null,zl=qi[--Hi],qi[Hi]=null;for(;e===Sa;)Sa=En[--wn],En[wn]=null,Wn=En[--wn],En[wn]=null,Xn=En[--wn],En[wn]=null}function q1(e,t){En[wn++]=Xn,En[wn++]=Wn,En[wn++]=Sa,Xn=t.id,Wn=t.overflow,Sa=e}var _t=null,Le=null,pe=!1,fa=null,Cn=!1,op=Error(H(519));function Ea(e){var t=Error(H(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(Tn(t,e)),op}function gv(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[wt]=e,t[Jt]=r,n){case"dialog":ce("cancel",t),ce("close",t);break;case"iframe":case"object":case"embed":ce("load",t);break;case"video":case"audio":for(n=0;n<$l.length;n++)ce($l[n],t);break;case"source":ce("error",t);break;case"img":case"image":case"link":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"input":ce("invalid",t),y1(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ce("invalid",t);break;case"textarea":ce("invalid",t),x1(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||wT(t.textContent,n)?(r.popover!=null&&(ce("beforetoggle",t),ce("toggle",t)),r.onScroll!=null&&ce("scroll",t),r.onScrollEnd!=null&&ce("scrollend",t),r.onClick!=null&&(t.onclick=xr),t=!0):t=!1,t||Ea(e,!0)}function yv(e){for(_t=e.return;_t;)switch(_t.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:_t=_t.return}}function _i(e){if(e!==_t)return!1;if(!pe)return yv(e),pe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Pp(e.type,e.memoizedProps)),n=!n),n&&Le&&Ea(e),yv(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));Le=rx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));Le=rx(e)}else t===27?(t=Le,Na(e.type)?(e=Rp,Rp=null,Le=e):Le=t):Le=_t?kn(e.stateNode.nextSibling):null;return!0}function ti(){Le=_t=null,pe=!1}function Wf(){var e=fa;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),fa=null),e}function Bl(e){fa===null?fa=[e]:fa.push(e)}var lp=lr(null),xi=null,br=null;function ta(e,t,n){De(lp,t._currentValue),t._currentValue=n}function _r(e){e._currentValue=lp.current,gt(lp)}function sp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function up(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=a;for(var s=0;s<t.length;s++)if(l.context===t[s]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),sp(i.return,n,e),r||(o=null);break e}i=l.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(H(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),sp(o,n,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function Po(e,t,n,r){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(H(387));if(o=o.memoizedProps,o!==null){var l=a.type;fn(a.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(a===qu.current){if(o=a.alternate,o===null)throw Error(H(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Fl):e=[Fl])}a=a.return}e!==null&&up(t,e,n,r),t.flags|=262144}function Ju(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ni(e){xi=e,br=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return H1(xi,e)}function Ks(e,t){return xi===null&&ni(e),H1(e,t)}function H1(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},br===null){if(e===null)throw Error(H(308));br=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else br=br.next=t;return n}var UI=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},zI=lt.unstable_scheduleCallback,BI=lt.unstable_NormalPriority,tt={$$typeof:vr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mg(){return{controller:new UI,data:new Map,refCount:0}}function hs(e){e.refCount--,e.refCount===0&&zI(BI,function(){e.controller.abort()})}var wl=null,cp=0,so=0,Xi=null;function qI(e,t){if(wl===null){var n=wl=[];cp=0,so=Ug(),Xi={status:"pending",value:void 0,then:function(r){n.push(r)}}}return cp++,t.then(vv,vv),t}function vv(){if(--cp===0&&wl!==null){Xi!==null&&(Xi.status="fulfilled");var e=wl;wl=null,so=0,Xi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function HI(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var xv=re.S;re.S=function(e,t){nT=ln(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&qI(e,t),xv!==null&&xv(e,t)};var Ka=lr(null);function pg(){var e=Ka.current;return e!==null?e:Me.pooledCache}function _u(e,t){t===null?De(Ka,Ka.current):De(Ka,t.pool)}function V1(){var e=pg();return e===null?null:{parent:tt._currentValue,pool:e}}var Io=Error(H(460)),hg=Error(H(474)),bd=Error(H(542)),Xu={then:function(){}};function bv(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $1(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(xr,xr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ev(e),e;default:if(typeof t.status=="string")t.then(xr,xr);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(H(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=r}},function(r){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ev(e),e}throw Ja=t,Io}}function La(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ja=n,Io):n}}var Ja=null;function Sv(){if(Ja===null)throw Error(H(459));var e=Ja;return Ja=null,e}function Ev(e){if(e===Io||e===bd)throw Error(H(483))}var Wi=null,ql=0;function Js(e){var t=ql;return ql+=1,Wi===null&&(Wi=[]),$1(Wi,e,t)}function Qo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xs(e,t){throw t.$$typeof===NP?Error(H(525)):(e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function G1(e){function t(v,S){if(e){var w=v.deletions;w===null?(v.deletions=[S],v.flags|=16):w.push(S)}}function n(v,S){if(!e)return null;for(;S!==null;)t(v,S),S=S.sibling;return null}function r(v){for(var S=new Map;v!==null;)v.key!==null?S.set(v.key,v):S.set(v.index,v),v=v.sibling;return S}function a(v,S){return v=wr(v,S),v.index=0,v.sibling=null,v}function i(v,S,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<S?(v.flags|=67108866,S):w):(v.flags|=67108866,S)):(v.flags|=1048576,S)}function o(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function l(v,S,w,_){return S===null||S.tag!==6?(S=Jf(w,v.mode,_),S.return=v,S):(S=a(S,w),S.return=v,S)}function s(v,S,w,_){var T=w.type;return T===Ii?c(v,S,w.props.children,_,w.key):S!==null&&(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Wr&&La(T)===S.type)?(S=a(S,w.props),Qo(S,w),S.return=v,S):(S=wu(w.type,w.key,w.props,null,v.mode,_),Qo(S,w),S.return=v,S)}function u(v,S,w,_){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=Xf(w,v.mode,_),S.return=v,S):(S=a(S,w.children||[]),S.return=v,S)}function c(v,S,w,_,T){return S===null||S.tag!==7?(S=Ya(w,v.mode,_,T),S.return=v,S):(S=a(S,w),S.return=v,S)}function f(v,S,w){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Jf(""+S,v.mode,w),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hs:return w=wu(S.type,S.key,S.props,null,v.mode,w),Qo(w,S),w.return=v,w;case fl:return S=Xf(S,v.mode,w),S.return=v,S;case Wr:return S=La(S),f(v,S,w)}if(ml(S)||Xo(S))return S=Ya(S,v.mode,w,null),S.return=v,S;if(typeof S.then=="function")return f(v,Js(S),w);if(S.$$typeof===vr)return f(v,Ks(v,S),w);Xs(v,S)}return null}function p(v,S,w,_){var T=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return T!==null?null:l(v,S,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hs:return w.key===T?s(v,S,w,_):null;case fl:return w.key===T?u(v,S,w,_):null;case Wr:return w=La(w),p(v,S,w,_)}if(ml(w)||Xo(w))return T!==null?null:c(v,S,w,_,null);if(typeof w.then=="function")return p(v,S,Js(w),_);if(w.$$typeof===vr)return p(v,S,Ks(v,w),_);Xs(v,w)}return null}function g(v,S,w,_,T){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return v=v.get(w)||null,l(S,v,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hs:return v=v.get(_.key===null?w:_.key)||null,s(S,v,_,T);case fl:return v=v.get(_.key===null?w:_.key)||null,u(S,v,_,T);case Wr:return _=La(_),g(v,S,w,_,T)}if(ml(_)||Xo(_))return v=v.get(w)||null,c(S,v,_,T,null);if(typeof _.then=="function")return g(v,S,w,Js(_),T);if(_.$$typeof===vr)return g(v,S,w,Ks(S,_),T);Xs(S,_)}return null}function y(v,S,w,_){for(var T=null,A=null,N=S,k=S=0,I=null;N!==null&&k<w.length;k++){N.index>k?(I=N,N=null):I=N.sibling;var O=p(v,N,w[k],_);if(O===null){N===null&&(N=I);break}e&&N&&O.alternate===null&&t(v,N),S=i(O,S,k),A===null?T=O:A.sibling=O,A=O,N=I}if(k===w.length)return n(v,N),pe&&pr(v,k),T;if(N===null){for(;k<w.length;k++)N=f(v,w[k],_),N!==null&&(S=i(N,S,k),A===null?T=N:A.sibling=N,A=N);return pe&&pr(v,k),T}for(N=r(N);k<w.length;k++)I=g(N,v,k,w[k],_),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?k:I.key),S=i(I,S,k),A===null?T=I:A.sibling=I,A=I);return e&&N.forEach(function(C){return t(v,C)}),pe&&pr(v,k),T}function b(v,S,w,_){if(w==null)throw Error(H(151));for(var T=null,A=null,N=S,k=S=0,I=null,O=w.next();N!==null&&!O.done;k++,O=w.next()){N.index>k?(I=N,N=null):I=N.sibling;var C=p(v,N,O.value,_);if(C===null){N===null&&(N=I);break}e&&N&&C.alternate===null&&t(v,N),S=i(C,S,k),A===null?T=C:A.sibling=C,A=C,N=I}if(O.done)return n(v,N),pe&&pr(v,k),T;if(N===null){for(;!O.done;k++,O=w.next())O=f(v,O.value,_),O!==null&&(S=i(O,S,k),A===null?T=O:A.sibling=O,A=O);return pe&&pr(v,k),T}for(N=r(N);!O.done;k++,O=w.next())O=g(N,v,k,O.value,_),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?k:O.key),S=i(O,S,k),A===null?T=O:A.sibling=O,A=O);return e&&N.forEach(function(R){return t(v,R)}),pe&&pr(v,k),T}function E(v,S,w,_){if(typeof w=="object"&&w!==null&&w.type===Ii&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Hs:e:{for(var T=w.key;S!==null;){if(S.key===T){if(T=w.type,T===Ii){if(S.tag===7){n(v,S.sibling),_=a(S,w.props.children),_.return=v,v=_;break e}}else if(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Wr&&La(T)===S.type){n(v,S.sibling),_=a(S,w.props),Qo(_,w),_.return=v,v=_;break e}n(v,S);break}else t(v,S);S=S.sibling}w.type===Ii?(_=Ya(w.props.children,v.mode,_,w.key),_.return=v,v=_):(_=wu(w.type,w.key,w.props,null,v.mode,_),Qo(_,w),_.return=v,v=_)}return o(v);case fl:e:{for(T=w.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){n(v,S.sibling),_=a(S,w.children||[]),_.return=v,v=_;break e}else{n(v,S);break}else t(v,S);S=S.sibling}_=Xf(w,v.mode,_),_.return=v,v=_}return o(v);case Wr:return w=La(w),E(v,S,w,_)}if(ml(w))return y(v,S,w,_);if(Xo(w)){if(T=Xo(w),typeof T!="function")throw Error(H(150));return w=T.call(w),b(v,S,w,_)}if(typeof w.then=="function")return E(v,S,Js(w),_);if(w.$$typeof===vr)return E(v,S,Ks(v,w),_);Xs(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,S!==null&&S.tag===6?(n(v,S.sibling),_=a(S,w),_.return=v,v=_):(n(v,S),_=Jf(w,v.mode,_),_.return=v,v=_),o(v)):n(v,S)}return function(v,S,w,_){try{ql=0;var T=E(v,S,w,_);return Wi=null,T}catch(N){if(N===Io||N===bd)throw N;var A=rn(29,N,null,v.mode);return A.lanes=_,A.return=v,A}finally{}}}var ri=G1(!0),F1=G1(!1),Zr=!1;function gg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Yu(e),L1(e,null,n),t}return xd(e,r,t,n),Yu(e)}function _l(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,c1(e,n)}}function Zf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var fp=!1;function Tl(){if(fp){var e=Xi;if(e!==null)throw e}}function Cl(e,t,n,r){fp=!1;var a=e.updateQueue;Zr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var s=l,u=s.next;s.next=null,o===null?i=u:o.next=u,o=s;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(i!==null){var f=a.baseState;o=0,c=u=s=null,l=i;do{var p=l.lane&-536870913,g=p!==l.lane;if(g?(me&p)===p:(r&p)===p){p!==0&&p===so&&(fp=!0),c!==null&&(c=c.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var y=e,b=l;p=t;var E=n;switch(b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(E,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,p=typeof y=="function"?y.call(E,f,p):y,p==null)break e;f=ze({},f,p);break e;case 2:Zr=!0}}p=l.callback,p!==null&&(e.flags|=64,g&&(e.flags|=8192),g=a.callbacks,g===null?a.callbacks=[p]:g.push(p))}else g={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,s=f):c=c.next=g,o|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;g=l,l=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);c===null&&(s=f),a.baseState=s,a.firstBaseUpdate=u,a.lastBaseUpdate=c,i===null&&(a.shared.lanes=0),_a|=o,e.lanes=o,e.memoizedState=f}}function Y1(e,t){if(typeof e!="function")throw Error(H(191,e));e.call(t)}function K1(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Y1(n[e],t)}var uo=lr(null),Wu=lr(0);function wv(e,t){e=Ir,De(Wu,e),De(uo,t),Ir=e|t.baseLanes}function mp(){De(Wu,Ir),De(uo,uo.current)}function yg(){Ir=Wu.current,gt(uo),gt(Wu)}var mn=lr(null),Nn=null;function na(e){var t=e.alternate;De(Je,Je.current&1),De(mn,e),Nn===null&&(t===null||uo.current!==null||t.memoizedState!==null)&&(Nn=e)}function pp(e){De(Je,Je.current),De(mn,e),Nn===null&&(Nn=e)}function J1(e){e.tag===22?(De(Je,Je.current),De(mn,e),Nn===null&&(Nn=e)):ra()}function ra(){De(Je,Je.current),De(mn,mn.current)}function nn(e){gt(mn),Nn===e&&(Nn=null),gt(Je)}var Je=lr(0);function Zu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Dp(n)||Op(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kr=0,oe=null,Ne=null,Qe=null,Qu=!1,Zi=!1,ai=!1,ec=0,Hl=0,Qi=null,VI=0;function Ge(){throw Error(H(321))}function vg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fn(e[n],t[n]))return!1;return!0}function xg(e,t,n,r,a,i){return kr=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,re.H=e===null||e.memoizedState===null?C_:Mg,ai=!1,i=n(r,a),ai=!1,Zi&&(i=W1(t,n,r,a)),X1(e),i}function X1(e){re.H=Vl;var t=Ne!==null&&Ne.next!==null;if(kr=0,Qe=Ne=oe=null,Qu=!1,Hl=0,Qi=null,t)throw Error(H(300));e===null||nt||(e=e.dependencies,e!==null&&Ju(e)&&(nt=!0))}function W1(e,t,n,r){oe=e;var a=0;do{if(Zi&&(Qi=null),Hl=0,Zi=!1,25<=a)throw Error(H(301));if(a+=1,Qe=Ne=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}re.H=A_,i=t(n,r)}while(Zi);return i}function $I(){var e=re.H,t=e.useState()[0];return t=typeof t.then=="function"?gs(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(oe.flags|=1024),t}function bg(){var e=ec!==0;return ec=0,e}function Sg(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Eg(e){if(Qu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qu=!1}kr=0,Qe=Ne=oe=null,Zi=!1,Hl=ec=0,Qi=null}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?oe.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Xe(){if(Ne===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Qe===null?oe.memoizedState:Qe.next;if(t!==null)Qe=t,Ne=e;else{if(e===null)throw oe.alternate===null?Error(H(467)):Error(H(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Qe===null?oe.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gs(e){var t=Hl;return Hl+=1,Qi===null&&(Qi=[]),e=$1(Qi,e,t),t=oe,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,re.H=t===null||t.memoizedState===null?C_:Mg),e}function Ed(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gs(e);if(e.$$typeof===vr)return Tt(e)}throw Error(H(438,String(e)))}function wg(e){var t=null,n=oe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=oe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Sd(),oe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=kP;return t.index++,n}function Mr(e,t){return typeof t=="function"?t(e):t}function Tu(e){var t=Xe();return _g(t,Ne,e)}function _g(e,t,n){var r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var l=o=null,s=null,u=t,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(me&f)===f:(kr&f)===f){var p=u.revertLane;if(p===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===so&&(c=!0);else if((kr&p)===p){u=u.next,p===so&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(l=s=f,o=i):s=s.next=f,oe.lanes|=p,_a|=p;f=u.action,ai&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(l=s=p,o=i):s=s.next=p,oe.lanes|=f,_a|=f;u=u.next}while(u!==null&&u!==t);if(s===null?o=i:s.next=l,!fn(i,e.memoizedState)&&(nt=!0,c&&(n=Xi,n!==null)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=s,r.lastRenderedState=i}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Qf(e){var t=Xe(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);fn(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Z1(e,t,n){var r=oe,a=Xe(),i=pe;if(i){if(n===void 0)throw Error(H(407));n=n()}else n=t();var o=!fn((Ne||a).memoizedState,n);if(o&&(a.memoizedState=n,nt=!0),a=a.queue,Tg(t_.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,co(9,{destroy:void 0},e_.bind(null,r,a,n,t),null),Me===null)throw Error(H(349));i||kr&127||Q1(r,t,n)}return n}function Q1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t=Sd(),oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function e_(e,t,n,r){t.value=n,t.getSnapshot=r,n_(t)&&r_(e)}function t_(e,t,n){return n(function(){n_(t)&&r_(e)})}function n_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fn(e,n)}catch{return!0}}function r_(e){var t=vi(e,2);t!==null&&Kt(t,e,2)}function hp(e){var t=Ot();if(typeof e=="function"){var n=e;if(e=n(),ai){oa(!0);try{n()}finally{oa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:e},t}function a_(e,t,n,r){return e.baseState=n,_g(e,Ne,typeof r=="function"?r:Mr)}function GI(e,t,n,r,a){if(_d(e))throw Error(H(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};re.T!==null?n(!0):i.isTransition=!1,r(i),n=t.pending,n===null?(i.next=t.pending=i,i_(t,i)):(i.next=n.next,t.pending=n.next=i)}}function i_(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=re.T,o={};re.T=o;try{var l=n(a,r),s=re.S;s!==null&&s(o,l),_v(e,t,l)}catch(u){gp(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),re.T=i}}else try{i=n(a,r),_v(e,t,i)}catch(u){gp(e,t,u)}}function _v(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Tv(e,t,r)},function(r){return gp(e,t,r)}):Tv(e,t,n)}function Tv(e,t,n){t.status="fulfilled",t.value=n,o_(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,i_(e,n)))}function gp(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,o_(t),t=t.next;while(t!==r)}e.action=null}function o_(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function l_(e,t){return t}function Cv(e,t){if(pe){var n=Me.formState;if(n!==null){e:{var r=oe;if(pe){if(Le){t:{for(var a=Le,i=Cn;a.nodeType!==8;){if(!i){a=null;break t}if(a=kn(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Le=kn(a.nextSibling),r=a.data==="F!";break e}}Ea(r)}r=!1}r&&(t=n[0])}}return n=Ot(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l_,lastRenderedState:t},n.queue=r,n=w_.bind(null,oe,r),r.dispatch=n,r=hp(!1),i=kg.bind(null,oe,!1,r.queue),r=Ot(),a={state:t,dispatch:null,action:e,pending:null},r.queue=a,n=GI.bind(null,oe,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Av(e){var t=Xe();return s_(t,Ne,e)}function s_(e,t,n){if(t=_g(e,t,l_)[0],e=Tu(Mr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=gs(t)}catch(o){throw o===Io?bd:o}else r=t;t=Xe();var a=t.queue,i=a.dispatch;return n!==t.memoizedState&&(oe.flags|=2048,co(9,{destroy:void 0},FI.bind(null,a,n),null)),[r,i,e]}function FI(e,t){e.action=t}function Nv(e){var t=Xe(),n=Ne;if(n!==null)return s_(t,n,e);Xe(),t=t.memoizedState,n=Xe();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function co(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=oe.updateQueue,t===null&&(t=Sd(),oe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function u_(){return Xe().memoizedState}function Cu(e,t,n,r){var a=Ot();oe.flags|=e,a.memoizedState=co(1|t,{destroy:void 0},n,r===void 0?null:r)}function wd(e,t,n,r){var a=Xe();r=r===void 0?null:r;var i=a.memoizedState.inst;Ne!==null&&r!==null&&vg(r,Ne.memoizedState.deps)?a.memoizedState=co(t,i,n,r):(oe.flags|=e,a.memoizedState=co(1|t,i,n,r))}function kv(e,t){Cu(8390656,8,e,t)}function Tg(e,t){wd(2048,8,e,t)}function YI(e){oe.flags|=4;var t=oe.updateQueue;if(t===null)t=Sd(),oe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function c_(e){var t=Xe().memoizedState;return YI({ref:t,nextImpl:e}),function(){if(be&2)throw Error(H(440));return t.impl.apply(void 0,arguments)}}function d_(e,t){return wd(4,2,e,t)}function f_(e,t){return wd(4,4,e,t)}function m_(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function p_(e,t,n){n=n!=null?n.concat([e]):null,wd(4,4,m_.bind(null,t,e),n)}function Cg(){}function h_(e,t){var n=Xe();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&vg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function g_(e,t){var n=Xe();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&vg(t,r[1]))return r[0];if(r=e(),ai){oa(!0);try{e()}finally{oa(!1)}}return n.memoizedState=[r,t],r}function Ag(e,t,n){return n===void 0||kr&1073741824&&!(me&261930)?e.memoizedState=t:(e.memoizedState=n,e=aT(),oe.lanes|=e,_a|=e,n)}function y_(e,t,n,r){return fn(n,t)?n:uo.current!==null?(e=Ag(e,n,r),fn(e,t)||(nt=!0),e):!(kr&42)||kr&1073741824&&!(me&261930)?(nt=!0,e.memoizedState=n):(e=aT(),oe.lanes|=e,_a|=e,t)}function v_(e,t,n,r,a){var i=Se.p;Se.p=i!==0&&8>i?i:8;var o=re.T,l={};re.T=l,kg(e,!1,t,n);try{var s=a(),u=re.S;if(u!==null&&u(l,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var c=HI(s,r);Al(e,t,c,cn(e))}else Al(e,t,r,cn(e))}catch(f){Al(e,t,{then:function(){},status:"rejected",reason:f},cn())}finally{Se.p=i,o!==null&&l.types!==null&&(o.types=l.types),re.T=o}}function KI(){}function yp(e,t,n,r){if(e.tag!==5)throw Error(H(476));var a=x_(e).queue;v_(e,a,t,Fa,n===null?KI:function(){return b_(e),n(r)})}function x_(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Fa,baseState:Fa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:Fa},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function b_(e){var t=x_(e);t.next===null&&(t=e.alternate.memoizedState),Al(e,t.next.queue,{},cn())}function Ng(){return Tt(Fl)}function S_(){return Xe().memoizedState}function E_(){return Xe().memoizedState}function JI(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=cn();e=ma(n);var r=pa(t,e,n);r!==null&&(Kt(r,t,n),_l(r,t,n)),t={cache:mg()},e.payload=t;return}t=t.return}}function XI(e,t,n){var r=cn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},_d(e)?__(t,n):(n=ug(e,t,n,r),n!==null&&(Kt(n,e,r),T_(n,t,r)))}function w_(e,t,n){var r=cn();Al(e,t,n,r)}function Al(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(_d(e))__(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,fn(l,o))return xd(e,t,a,0),Me===null&&vd(),!1}catch{}finally{}if(n=ug(e,t,a,r),n!==null)return Kt(n,e,r),T_(n,t,r),!0}return!1}function kg(e,t,n,r){if(r={lane:2,revertLane:Ug(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},_d(e)){if(t)throw Error(H(479))}else t=ug(e,n,r,2),t!==null&&Kt(t,e,2)}function _d(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function __(e,t){Zi=Qu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function T_(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,c1(e,n)}}var Vl={readContext:Tt,use:Ed,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};Vl.useEffectEvent=Ge;var C_={readContext:Tt,use:Ed,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:kv,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Cu(4194308,4,m_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cu(4194308,4,e,t)},useInsertionEffect:function(e,t){Cu(4,2,e,t)},useMemo:function(e,t){var n=Ot();t=t===void 0?null:t;var r=e();if(ai){oa(!0);try{e()}finally{oa(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ot();if(n!==void 0){var a=n(t);if(ai){oa(!0);try{n(t)}finally{oa(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=XI.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:function(e){e=hp(e);var t=e.queue,n=w_.bind(null,oe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Cg,useDeferredValue:function(e,t){var n=Ot();return Ag(n,e,t)},useTransition:function(){var e=hp(!1);return e=v_.bind(null,oe,e.queue,!0,!1),Ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=oe,a=Ot();if(pe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Me===null)throw Error(H(349));me&127||Q1(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,kv(t_.bind(null,r,i,e),[e]),r.flags|=2048,co(9,{destroy:void 0},e_.bind(null,r,i,n,t),null),n},useId:function(){var e=Ot(),t=Me.identifierPrefix;if(pe){var n=Wn,r=Xn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ec++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=VI++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ng,useFormState:Cv,useActionState:Cv,useOptimistic:function(e){var t=Ot();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=kg.bind(null,oe,!0,n),n.dispatch=t,[e,t]},useMemoCache:wg,useCacheRefresh:function(){return Ot().memoizedState=JI.bind(null,oe)},useEffectEvent:function(e){var t=Ot(),n={impl:e};return t.memoizedState=n,function(){if(be&2)throw Error(H(440));return n.impl.apply(void 0,arguments)}}},Mg={readContext:Tt,use:Ed,useCallback:h_,useContext:Tt,useEffect:Tg,useImperativeHandle:p_,useInsertionEffect:d_,useLayoutEffect:f_,useMemo:g_,useReducer:Tu,useRef:u_,useState:function(){return Tu(Mr)},useDebugValue:Cg,useDeferredValue:function(e,t){var n=Xe();return y_(n,Ne.memoizedState,e,t)},useTransition:function(){var e=Tu(Mr)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:gs(e),t]},useSyncExternalStore:Z1,useId:S_,useHostTransitionStatus:Ng,useFormState:Av,useActionState:Av,useOptimistic:function(e,t){var n=Xe();return a_(n,Ne,e,t)},useMemoCache:wg,useCacheRefresh:E_};Mg.useEffectEvent=c_;var A_={readContext:Tt,use:Ed,useCallback:h_,useContext:Tt,useEffect:Tg,useImperativeHandle:p_,useInsertionEffect:d_,useLayoutEffect:f_,useMemo:g_,useReducer:Qf,useRef:u_,useState:function(){return Qf(Mr)},useDebugValue:Cg,useDeferredValue:function(e,t){var n=Xe();return Ne===null?Ag(n,e,t):y_(n,Ne.memoizedState,e,t)},useTransition:function(){var e=Qf(Mr)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:gs(e),t]},useSyncExternalStore:Z1,useId:S_,useHostTransitionStatus:Ng,useFormState:Nv,useActionState:Nv,useOptimistic:function(e,t){var n=Xe();return Ne!==null?a_(n,Ne,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:wg,useCacheRefresh:E_};A_.useEffectEvent=c_;function em(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vp={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cn(),a=ma(r);a.payload=t,n!=null&&(a.callback=n),t=pa(e,a,r),t!==null&&(Kt(t,e,r),_l(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cn(),a=ma(r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=pa(e,a,r),t!==null&&(Kt(t,e,r),_l(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cn(),r=ma(n);r.tag=2,t!=null&&(r.callback=t),t=pa(e,r,n),t!==null&&(Kt(t,e,n),_l(t,e,n))}};function Mv(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ul(n,r)||!Ul(a,i):!0}function Pv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vp.enqueueReplaceState(t,t.state,null)}function ii(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=ze({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function N_(e){Fu(e)}function k_(e){console.error(e)}function M_(e){Fu(e)}function tc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Iv(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function xp(e,t,n){return n=ma(n),n.tag=3,n.payload={element:null},n.callback=function(){tc(e,t)},n}function P_(e){return e=ma(e),e.tag=3,e}function I_(e,t,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){Iv(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Iv(t,n,r),typeof a!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})})}function WI(e,t,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Po(t,n,a,!0),n=mn.current,n!==null){switch(n.tag){case 31:case 13:return Nn===null?oc():n.alternate===null&&Ye===0&&(Ye=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Xu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),dm(e,r,a)),!1;case 22:return n.flags|=65536,r===Xu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),dm(e,r,a)),!1}throw Error(H(435,n.tag))}return dm(e,r,a),oc(),!1}if(pe)return t=mn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==op&&(e=Error(H(422),{cause:r}),Bl(Tn(e,n)))):(r!==op&&(t=Error(H(423),{cause:r}),Bl(Tn(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Tn(r,n),a=xp(e.stateNode,r,a),Zf(e,a),Ye!==4&&(Ye=2)),!1;var i=Error(H(520),{cause:r});if(i=Tn(i,n),Ml===null?Ml=[i]:Ml.push(i),Ye!==4&&(Ye=2),t===null)return!0;r=Tn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=xp(n.stateNode,r,e),Zf(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ha===null||!ha.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,a=P_(a),I_(a,e,n,r),Zf(n,a),!1}n=n.return}while(n!==null);return!1}var Pg=Error(H(461)),nt=!1;function Et(e,t,n,r){t.child=e===null?F1(t,null,n,r):ri(t,e.child,n,r)}function Dv(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var o={};for(var l in r)l!=="ref"&&(o[l]=r[l])}else o=r;return ni(t),r=xg(e,t,n,o,i,a),l=bg(),e!==null&&!nt?(Sg(e,t,a),Pr(e,t,a)):(pe&&l&&dg(t),t.flags|=1,Et(e,t,r,a),t.child)}function Ov(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!cg(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,D_(e,t,i,r,a)):(e=wu(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Ig(e,a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ul,n(o,r)&&e.ref===t.ref)return Pr(e,t,a)}return t.flags|=1,e=wr(i,r),e.ref=t.ref,e.return=t,t.child=e}function D_(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Ul(i,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=i,Ig(e,a))e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,Pr(e,t,a)}return bp(e,t,n,r,a)}function O_(e,t,n,r){var a=r.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~i}else r=0,t.child=null;return Rv(e,t,i,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_u(t,i!==null?i.cachePool:null),i!==null?wv(t,i):mp(),J1(t);else return r=t.lanes=536870912,Rv(e,t,i!==null?i.baseLanes|n:n,n,r)}else i!==null?(_u(t,i.cachePool),wv(t,i),ra(),t.memoizedState=null):(e!==null&&_u(t,null),mp(),ra());return Et(e,t,a,n),t.child}function hl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Rv(e,t,n,r,a){var i=pg();return i=i===null?null:{parent:tt._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&_u(t,null),mp(),J1(t),e!==null&&Po(e,t,r,!0),t.childLanes=a,null}function Au(e,t){return t=nc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function jv(e,t,n){return ri(t,e.child,null,n),e=Au(t,t.pendingProps),e.flags|=2,nn(t),t.memoizedState=null,e}function ZI(e,t,n){var r=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(pe){if(r.mode==="hidden")return e=Au(t,r),t.lanes=536870912,hl(null,e);if(pp(t),(e=Le)?(e=CT(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sa!==null?{id:Xn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=z1(e),n.return=t,t.child=n,_t=t,Le=null)):e=null,e===null)throw Ea(t);return t.lanes=536870912,null}return Au(t,r)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(pp(t),a)if(t.flags&256)t.flags&=-257,t=jv(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(H(558));else if(nt||Po(e,t,n,!1),a=(n&e.childLanes)!==0,nt||a){if(r=Me,r!==null&&(o=d1(r,n),o!==0&&o!==i.retryLane))throw i.retryLane=o,vi(e,o),Kt(r,e,o),Pg;oc(),t=jv(e,t,n)}else e=i.treeContext,Le=kn(o.nextSibling),_t=t,pe=!0,fa=null,Cn=!1,e!==null&&q1(t,e),t=Au(t,r),t.flags|=4096;return t}return e=wr(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Nu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(H(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function bp(e,t,n,r,a){return ni(t),n=xg(e,t,n,r,void 0,a),r=bg(),e!==null&&!nt?(Sg(e,t,a),Pr(e,t,a)):(pe&&r&&dg(t),t.flags|=1,Et(e,t,n,a),t.child)}function Lv(e,t,n,r,a,i){return ni(t),t.updateQueue=null,n=W1(t,r,n,a),X1(e),r=bg(),e!==null&&!nt?(Sg(e,t,i),Pr(e,t,i)):(pe&&r&&dg(t),t.flags|=1,Et(e,t,n,i),t.child)}function Uv(e,t,n,r,a){if(ni(t),t.stateNode===null){var i=Bi,o=n.contextType;typeof o=="object"&&o!==null&&(i=Tt(o)),i=new n(r,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=vp,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=r,i.state=t.memoizedState,i.refs={},gg(t),o=n.contextType,i.context=typeof o=="object"&&o!==null?Tt(o):Bi,i.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(em(t,n,o,r),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&vp.enqueueReplaceState(i,i.state,null),Cl(t,r,i,a),Tl(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,s=ii(n,l);i.props=s;var u=i.context,c=n.contextType;o=Bi,typeof c=="object"&&c!==null&&(o=Tt(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,c||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==o)&&Pv(t,i,r,o),Zr=!1;var p=t.memoizedState;i.state=p,Cl(t,r,i,a),Tl(),u=t.memoizedState,l||p!==u||Zr?(typeof f=="function"&&(em(t,n,f,r),u=t.memoizedState),(s=Zr||Mv(t,n,s,r,p,u,o))?(c||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=o,r=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,dp(e,t),o=t.memoizedProps,c=ii(n,o),i.props=c,f=t.pendingProps,p=i.context,u=n.contextType,s=Bi,typeof u=="object"&&u!==null&&(s=Tt(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||p!==s)&&Pv(t,i,r,s),Zr=!1,p=t.memoizedState,i.state=p,Cl(t,r,i,a),Tl();var g=t.memoizedState;o!==f||p!==g||Zr||e!==null&&e.dependencies!==null&&Ju(e.dependencies)?(typeof l=="function"&&(em(t,n,l,r),g=t.memoizedState),(c=Zr||Mv(t,n,c,r,p,g,s)||e!==null&&e.dependencies!==null&&Ju(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=s,r=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Nu(e,t),r=(t.flags&128)!==0,i||r?(i=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&r?(t.child=ri(t,e.child,null,a),t.child=ri(t,null,n,a)):Et(e,t,n,a),t.memoizedState=i.state,e=t.child):e=Pr(e,t,a),e}function zv(e,t,n,r){return ti(),t.flags|=256,Et(e,t,n,r),t.child}var tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nm(e){return{baseLanes:e,cachePool:V1()}}function rm(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=on),e}function R_(e,t,n){var r=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(pe){if(a?na(t):ra(),(e=Le)?(e=CT(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sa!==null?{id:Xn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=z1(e),n.return=t,t.child=n,_t=t,Le=null)):e=null,e===null)throw Ea(t);return Op(e)?t.lanes=32:t.lanes=536870912,null}var l=r.children;return r=r.fallback,a?(ra(),a=t.mode,l=nc({mode:"hidden",children:l},a),r=Ya(r,a,n,null),l.return=t,r.return=t,l.sibling=r,t.child=l,r=t.child,r.memoizedState=nm(n),r.childLanes=rm(e,o,n),t.memoizedState=tm,hl(null,r)):(na(t),Sp(t,l))}var s=e.memoizedState;if(s!==null&&(l=s.dehydrated,l!==null)){if(i)t.flags&256?(na(t),t.flags&=-257,t=am(e,t,n)):t.memoizedState!==null?(ra(),t.child=e.child,t.flags|=128,t=null):(ra(),l=r.fallback,a=t.mode,r=nc({mode:"visible",children:r.children},a),l=Ya(l,a,n,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,ri(t,e.child,null,n),r=t.child,r.memoizedState=nm(n),r.childLanes=rm(e,o,n),t.memoizedState=tm,t=hl(null,r));else if(na(t),Op(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(H(419)),r.stack="",r.digest=o,Bl({value:r,source:null,stack:null}),t=am(e,t,n)}else if(nt||Po(e,t,n,!1),o=(n&e.childLanes)!==0,nt||o){if(o=Me,o!==null&&(r=d1(o,n),r!==0&&r!==s.retryLane))throw s.retryLane=r,vi(e,r),Kt(o,e,r),Pg;Dp(l)||oc(),t=am(e,t,n)}else Dp(l)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,Le=kn(l.nextSibling),_t=t,pe=!0,fa=null,Cn=!1,e!==null&&q1(t,e),t=Sp(t,r.children),t.flags|=4096);return t}return a?(ra(),l=r.fallback,a=t.mode,s=e.child,u=s.sibling,r=wr(s,{mode:"hidden",children:r.children}),r.subtreeFlags=s.subtreeFlags&65011712,u!==null?l=wr(u,l):(l=Ya(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,hl(null,r),r=t.child,l=e.child.memoizedState,l===null?l=nm(n):(a=l.cachePool,a!==null?(s=tt._currentValue,a=a.parent!==s?{parent:s,pool:s}:a):a=V1(),l={baseLanes:l.baseLanes|n,cachePool:a}),r.memoizedState=l,r.childLanes=rm(e,o,n),t.memoizedState=tm,hl(e.child,r)):(na(t),n=e.child,e=n.sibling,n=wr(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Sp(e,t){return t=nc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function nc(e,t){return e=rn(22,e,null,t),e.lanes=0,e}function am(e,t,n){return ri(t,e.child,null,n),e=Sp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sp(e.return,t,n)}function im(e,t,n,r,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.treeForkCount=i)}function j_(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;r=r.children;var o=Je.current,l=(o&2)!==0;if(l?(o=o&1|2,t.flags|=128):o&=1,De(Je,o),Et(e,t,r,n),r=pe?zl:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bv(e,n,t);else if(e.tag===19)Bv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Zu(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),im(t,!1,a,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Zu(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}im(t,!0,n,null,i,r);break;case"together":im(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Pr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_a|=t.lanes,!(n&t.childLanes))if(e!==null){if(Po(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=wr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ig(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ju(e)))}function QI(e,t,n){switch(t.tag){case 3:Hu(t,t.stateNode.containerInfo),ta(t,tt,e.memoizedState.cache),ti();break;case 27:case 5:Jm(t);break;case 4:Hu(t,t.stateNode.containerInfo);break;case 10:ta(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,pp(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(na(t),t.flags|=128,null):n&t.child.childLanes?R_(e,t,n):(na(t),e=Pr(e,t,n),e!==null?e.sibling:null);na(t);break;case 19:var a=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Po(e,t,n,!1),r=(n&t.childLanes)!==0),a){if(r)return j_(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),De(Je,Je.current),r)break;return null;case 22:return t.lanes=0,O_(e,t,n,t.pendingProps);case 24:ta(t,tt,e.memoizedState.cache)}return Pr(e,t,n)}function L_(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)nt=!0;else{if(!Ig(e,n)&&!(t.flags&128))return nt=!1,QI(e,t,n);nt=!!(e.flags&131072)}else nt=!1,pe&&t.flags&1048576&&B1(t,zl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=La(t.elementType),t.type=e,typeof e=="function")cg(e)?(r=ii(e,r),t.tag=1,t=Uv(null,t,e,r,n)):(t.tag=0,t=bp(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===Xh){t.tag=11,t=Dv(null,t,e,r,n);break e}else if(a===Wh){t.tag=14,t=Ov(null,t,e,r,n);break e}}throw t=Ym(e)||e,Error(H(306,t,""))}}return t;case 0:return bp(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=ii(r,t.pendingProps),Uv(e,t,r,a,n);case 3:e:{if(Hu(t,t.stateNode.containerInfo),e===null)throw Error(H(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,dp(e,t),Cl(t,r,null,n);var o=t.memoizedState;if(r=o.cache,ta(t,tt,r),r!==i.cache&&up(t,[tt],n,!0),Tl(),r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=zv(e,t,r,n);break e}else if(r!==a){a=Tn(Error(H(424)),t),Bl(a),t=zv(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=kn(e.firstChild),_t=t,pe=!0,fa=null,Cn=!0,n=F1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ti(),r===a){t=Pr(e,t,n);break e}Et(e,t,r,n)}t=t.child}return t;case 26:return Nu(e,t),e===null?(n=ox(t.type,null,t.pendingProps,null))?t.memoizedState=n:pe||(n=t.type,e=t.pendingProps,r=cc(da.current).createElement(n),r[wt]=t,r[Jt]=e,At(r,n,e),pt(r),t.stateNode=r):t.memoizedState=ox(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Jm(t),e===null&&pe&&(r=t.stateNode=AT(t.type,t.pendingProps,da.current),_t=t,Cn=!0,a=Le,Na(t.type)?(Rp=a,Le=kn(r.firstChild)):Le=a),Et(e,t,t.pendingProps.children,n),Nu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&pe&&((a=r=Le)&&(r=kD(r,t.type,t.pendingProps,Cn),r!==null?(t.stateNode=r,_t=t,Le=kn(r.firstChild),Cn=!1,a=!0):a=!1),a||Ea(t)),Jm(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,r=i.children,Pp(a,i)?r=null:o!==null&&Pp(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=xg(e,t,$I,null,null,n),Fl._currentValue=a),Nu(e,t),Et(e,t,r,n),t.child;case 6:return e===null&&pe&&((e=n=Le)&&(n=MD(n,t.pendingProps,Cn),n!==null?(t.stateNode=n,_t=t,Le=null,e=!0):e=!1),e||Ea(t)),null;case 13:return R_(e,t,n);case 4:return Hu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ri(t,null,r,n):Et(e,t,r,n),t.child;case 11:return Dv(e,t,t.type,t.pendingProps,n);case 7:return Et(e,t,t.pendingProps,n),t.child;case 8:return Et(e,t,t.pendingProps.children,n),t.child;case 12:return Et(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ta(t,t.type,r.value),Et(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,ni(t),a=Tt(a),r=r(a),t.flags|=1,Et(e,t,r,n),t.child;case 14:return Ov(e,t,t.type,t.pendingProps,n);case 15:return D_(e,t,t.type,t.pendingProps,n);case 19:return j_(e,t,n);case 31:return ZI(e,t,n);case 22:return O_(e,t,n,t.pendingProps);case 24:return ni(t),r=Tt(tt),e===null?(a=pg(),a===null&&(a=Me,i=mg(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},gg(t),ta(t,tt,a)):(e.lanes&n&&(dp(e,t),Cl(t,null,null,n),Tl()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ta(t,tt,r)):(r=i.cache,ta(t,tt,r),r!==a.cache&&up(t,[tt],n,!0))),Et(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(H(156,t.tag))}function cr(e){e.flags|=4}function om(e,t,n,r,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(lT())e.flags|=8192;else throw Ja=Xu,hg}else e.flags&=-16777217}function qv(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!MT(t))if(lT())e.flags|=8192;else throw Ja=Xu,hg}function Ws(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?s1():536870912,e.lanes|=t,fo|=t)}function el(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function eD(e,t,n){var r=t.pendingProps;switch(fg(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_r(tt),io(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_i(t)?cr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wf())),Oe(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(cr(t),i!==null?(Oe(t),qv(t,i)):(Oe(t),om(t,a,null,r,n))):i?i!==e.memoizedState?(cr(t),Oe(t),qv(t,i)):(Oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&cr(t),Oe(t),om(t,a,e,r,n)),null;case 27:if(Vu(t),n=da.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&cr(t);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Oe(t),null}e=er.current,_i(t)?gv(t):(e=AT(a,r,n),t.stateNode=e,cr(t))}return Oe(t),null;case 5:if(Vu(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&cr(t);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Oe(t),null}if(i=er.current,_i(t))gv(t);else{var o=cc(da.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i=typeof r.is=="string"?o.createElement(a,{is:r.is}):o.createElement(a)}}i[wt]=t,i[Jt]=r;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(At(i,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&cr(t)}}return Oe(t),om(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&cr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(e=da.current,_i(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=_t,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[wt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||wT(e.nodeValue,n)),e||Ea(t,!0)}else e=cc(e).createTextNode(r),e[wt]=t,t.stateNode=e}return Oe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=_i(t),n!==null){if(e===null){if(!r)throw Error(H(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(557));e[wt]=t}else ti(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),e=!1}else n=Wf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(nn(t),t):(nn(t),null);if(t.flags&128)throw Error(H(558))}return Oe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=_i(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(H(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(H(317));a[wt]=t}else ti(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),a=!1}else a=Wf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(nn(t),t):(nn(t),null)}return nn(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ws(t,t.updateQueue),Oe(t),null);case 4:return io(),e===null&&zg(t.stateNode.containerInfo),Oe(t),null;case 10:return _r(t.type),Oe(t),null;case 19:if(gt(Je),r=t.memoizedState,r===null)return Oe(t),null;if(a=(t.flags&128)!==0,i=r.rendering,i===null)if(a)el(r,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Zu(e),i!==null){for(t.flags|=128,el(r,!1),e=i.updateQueue,t.updateQueue=e,Ws(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)U1(n,e),n=n.sibling;return De(Je,Je.current&1|2),pe&&pr(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&ln()>ac&&(t.flags|=128,a=!0,el(r,!1),t.lanes=4194304)}else{if(!a)if(e=Zu(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ws(t,e),el(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!pe)return Oe(t),null}else 2*ln()-r.renderingStartTime>ac&&n!==536870912&&(t.flags|=128,a=!0,el(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(e=r.last,e!==null?e.sibling=i:t.child=i,r.last=i)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ln(),e.sibling=null,n=Je.current,De(Je,a?n&1|2:n&1),pe&&pr(t,r.treeForkCount),e):(Oe(t),null);case 22:case 23:return nn(t),yg(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),n=t.updateQueue,n!==null&&Ws(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&gt(Ka),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_r(tt),Oe(t),null;case 25:return null;case 30:return null}throw Error(H(156,t.tag))}function tD(e,t){switch(fg(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _r(tt),io(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Vu(t),null;case 31:if(t.memoizedState!==null){if(nn(t),t.alternate===null)throw Error(H(340));ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(nn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return gt(Je),null;case 4:return io(),null;case 10:return _r(t.type),null;case 22:case 23:return nn(t),yg(),e!==null&&gt(Ka),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _r(tt),null;case 25:return null;default:return null}}function U_(e,t){switch(fg(t),t.tag){case 3:_r(tt),io();break;case 26:case 27:case 5:Vu(t);break;case 4:io();break;case 31:t.memoizedState!==null&&nn(t);break;case 13:nn(t);break;case 19:gt(Je);break;case 10:_r(t.type);break;case 22:case 23:nn(t),yg(),e!==null&&gt(Ka);break;case 24:_r(tt)}}function ys(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,o=n.inst;r=i(),o.destroy=r}n=n.next}while(n!==a)}}catch(l){Te(t,t.return,l)}}function wa(e,t,n){try{var r=t.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var i=a.next;r=i;do{if((r.tag&e)===e){var o=r.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,a=t;var s=n,u=l;try{u()}catch(c){Te(a,s,c)}}}r=r.next}while(r!==i)}}catch(c){Te(t,t.return,c)}}function z_(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{K1(t,n)}catch(r){Te(e,e.return,r)}}}function B_(e,t,n){n.props=ii(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Te(e,t,r)}}function Nl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(a){Te(e,t,a)}}function Zn(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Te(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Te(e,t,a)}else n.current=null}function q_(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Te(e,e.return,a)}}function lm(e,t,n){try{var r=e.stateNode;wD(r,e.type,n,t),r[Jt]=t}catch(a){Te(e,e.return,a)}}function H_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Na(e.type)||e.tag===4}function sm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||H_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Na(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ep(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xr));else if(r!==4&&(r===27&&Na(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ep(e,t,n),e=e.sibling;e!==null;)Ep(e,t,n),e=e.sibling}function rc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Na(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(rc(e,t,n),e=e.sibling;e!==null;)rc(e,t,n),e=e.sibling}function V_(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);At(t,r,n),t[wt]=e,t[Jt]=n}catch(i){Te(e,e.return,i)}}var hr=!1,et=!1,um=!1,Hv=typeof WeakSet=="function"?WeakSet:Set,mt=null;function nD(e,t){if(e=e.containerInfo,kp=pc,e=M1(e),lg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,s=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var g;f!==n||a!==0&&f.nodeType!==3||(l=o+a),f!==i||r!==0&&f.nodeType!==3||(s=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===e)break t;if(p===n&&++u===a&&(l=o),p===i&&++c===r&&(s=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mp={focusedElem:e,selectionRange:n},pc=!1,mt=t;mt!==null;)if(t=mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,mt=e;else for(;mt!==null;){switch(t=mt,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var y=ii(n.type,a);e=r.getSnapshotBeforeUpdate(y,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(b){Te(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ip(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ip(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(H(163))}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}}function $_(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:fr(e,n),r&4&&ys(5,n);break;case 1:if(fr(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){Te(n,n.return,o)}else{var a=ii(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Te(n,n.return,o)}}r&64&&z_(n),r&512&&Nl(n,n.return);break;case 3:if(fr(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{K1(e,t)}catch(o){Te(n,n.return,o)}}break;case 27:t===null&&r&4&&V_(n);case 26:case 5:fr(e,n),t===null&&r&4&&q_(n),r&512&&Nl(n,n.return);break;case 12:fr(e,n);break;case 31:fr(e,n),r&4&&Y_(e,n);break;case 13:fr(e,n),r&4&&K_(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=dD.bind(null,n),PD(e,n))));break;case 22:if(r=n.memoizedState!==null||hr,!r){t=t!==null&&t.memoizedState!==null||et,a=hr;var i=et;hr=r,(et=t)&&!i?mr(e,n,(n.subtreeFlags&8772)!==0):fr(e,n),hr=a,et=i}break;case 30:break;default:fr(e,n)}}function G_(e){var t=e.alternate;t!==null&&(e.alternate=null,G_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&tg(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,Vt=!1;function dr(e,t,n){for(n=n.child;n!==null;)F_(e,t,n),n=n.sibling}function F_(e,t,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(cs,n)}catch{}switch(n.tag){case 26:et||Zn(n,t),dr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:et||Zn(n,t);var r=Be,a=Vt;Na(n.type)&&(Be=n.stateNode,Vt=!1),dr(e,t,n),Il(n.stateNode),Be=r,Vt=a;break;case 5:et||Zn(n,t);case 6:if(r=Be,a=Vt,Be=null,dr(e,t,n),Be=r,Vt=a,Be!==null)if(Vt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(n.stateNode)}catch(i){Te(n,t,i)}else try{Be.removeChild(n.stateNode)}catch(i){Te(n,t,i)}break;case 18:Be!==null&&(Vt?(e=Be,tx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),go(e)):tx(Be,n.stateNode));break;case 4:r=Be,a=Vt,Be=n.stateNode.containerInfo,Vt=!0,dr(e,t,n),Be=r,Vt=a;break;case 0:case 11:case 14:case 15:wa(2,n,t),et||wa(4,n,t),dr(e,t,n);break;case 1:et||(Zn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&B_(n,t,r)),dr(e,t,n);break;case 21:dr(e,t,n);break;case 22:et=(r=et)||n.memoizedState!==null,dr(e,t,n),et=r;break;default:dr(e,t,n)}}function Y_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{go(e)}catch(n){Te(t,t.return,n)}}}function K_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{go(e)}catch(n){Te(t,t.return,n)}}function rD(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hv),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hv),t;default:throw Error(H(435,e.tag))}}function Zs(e,t){var n=rD(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var a=fD.bind(null,e,r);r.then(a,a)}})}function qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(Na(l.type)){Be=l.stateNode,Vt=!1;break e}break;case 5:Be=l.stateNode,Vt=!1;break e;case 3:case 4:Be=l.stateNode.containerInfo,Vt=!0;break e}l=l.return}if(Be===null)throw Error(H(160));F_(i,o,a),Be=null,Vt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)J_(t,e),t=t.sibling}var zn=null;function J_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Ht(e),r&4&&(wa(3,e,e.return),ys(3,e),wa(5,e,e.return));break;case 1:qt(t,e),Ht(e),r&512&&(et||n===null||Zn(n,n.return)),r&64&&hr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=zn;if(qt(t,e),Ht(e),r&512&&(et||n===null||Zn(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":i=a.getElementsByTagName("title")[0],(!i||i[ms]||i[wt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),At(i,r,n),i[wt]=e,pt(i),r=i;break e;case"link":var o=sx("link","href",a).get(r+(n.href||""));if(o){for(var l=0;l<o.length;l++)if(i=o[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(l,1);break t}}i=a.createElement(r),At(i,r,n),a.head.appendChild(i);break;case"meta":if(o=sx("meta","content",a).get(r+(n.content||""))){for(l=0;l<o.length;l++)if(i=o[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(l,1);break t}}i=a.createElement(r),At(i,r,n),a.head.appendChild(i);break;default:throw Error(H(468,r))}i[wt]=e,pt(i),r=i}e.stateNode=r}else ux(a,e.type,e.stateNode);else e.stateNode=lx(a,r,e.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?ux(a,e.type,e.stateNode):lx(a,r,e.memoizedProps)):r===null&&e.stateNode!==null&&lm(e,e.memoizedProps,n.memoizedProps)}break;case 27:qt(t,e),Ht(e),r&512&&(et||n===null||Zn(n,n.return)),n!==null&&r&4&&lm(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qt(t,e),Ht(e),r&512&&(et||n===null||Zn(n,n.return)),e.flags&32){a=e.stateNode;try{lo(a,"")}catch(y){Te(e,e.return,y)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,lm(e,a,n!==null?n.memoizedProps:a)),r&1024&&(um=!0);break;case 6:if(qt(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(H(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(y){Te(e,e.return,y)}}break;case 3:if(Pu=null,a=zn,zn=dc(t.containerInfo),qt(t,e),zn=a,Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{go(t.containerInfo)}catch(y){Te(e,e.return,y)}um&&(um=!1,X_(e));break;case 4:r=zn,zn=dc(e.stateNode.containerInfo),qt(t,e),Ht(e),zn=r;break;case 12:qt(t,e),Ht(e);break;case 31:qt(t,e),Ht(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Zs(e,r)));break;case 13:qt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Td=ln()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Zs(e,r)));break;case 22:a=e.memoizedState!==null;var s=n!==null&&n.memoizedState!==null,u=hr,c=et;if(hr=u||a,et=c||s,qt(t,e),et=c,hr=u,Ht(e),r&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||s||hr||et||Ua(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){s=n=t;try{if(i=s.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=s.stateNode;var f=s.memoizedProps.style,p=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(y){Te(s,s.return,y)}}}else if(t.tag===6){if(n===null){s=t;try{s.stateNode.nodeValue=a?"":s.memoizedProps}catch(y){Te(s,s.return,y)}}}else if(t.tag===18){if(n===null){s=t;try{var g=s.stateNode;a?nx(g,!0):nx(s.stateNode,!1)}catch(y){Te(s,s.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Zs(e,n))));break;case 19:qt(t,e),Ht(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Zs(e,r)));break;case 30:break;case 21:break;default:qt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(H_(r)){n=r;break}r=r.return}if(n==null)throw Error(H(160));switch(n.tag){case 27:var a=n.stateNode,i=sm(e);rc(e,i,a);break;case 5:var o=n.stateNode;n.flags&32&&(lo(o,""),n.flags&=-33);var l=sm(e);rc(e,l,o);break;case 3:case 4:var s=n.stateNode.containerInfo,u=sm(e);Ep(e,u,s);break;default:throw Error(H(161))}}catch(c){Te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;X_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$_(e,t.alternate,t),t=t.sibling}function Ua(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wa(4,t,t.return),Ua(t);break;case 1:Zn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&B_(t,t.return,n),Ua(t);break;case 27:Il(t.stateNode);case 26:case 5:Zn(t,t.return),Ua(t);break;case 22:t.memoizedState===null&&Ua(t);break;case 30:Ua(t);break;default:Ua(t)}e=e.sibling}}function mr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:mr(a,i,n),ys(4,i);break;case 1:if(mr(a,i,n),r=i,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Te(r,r.return,u)}if(r=i,a=r.updateQueue,a!==null){var l=r.stateNode;try{var s=a.shared.hiddenCallbacks;if(s!==null)for(a.shared.hiddenCallbacks=null,a=0;a<s.length;a++)Y1(s[a],l)}catch(u){Te(r,r.return,u)}}n&&o&64&&z_(i),Nl(i,i.return);break;case 27:V_(i);case 26:case 5:mr(a,i,n),n&&r===null&&o&4&&q_(i),Nl(i,i.return);break;case 12:mr(a,i,n);break;case 31:mr(a,i,n),n&&o&4&&Y_(a,i);break;case 13:mr(a,i,n),n&&o&4&&K_(a,i);break;case 22:i.memoizedState===null&&mr(a,i,n),Nl(i,i.return);break;case 30:break;default:mr(a,i,n)}t=t.sibling}}function Dg(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&hs(n))}function Og(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hs(e))}function Un(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)W_(e,t,n,r),t=t.sibling}function W_(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,n,r),a&2048&&ys(9,t);break;case 1:Un(e,t,n,r);break;case 3:Un(e,t,n,r),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hs(e)));break;case 12:if(a&2048){Un(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,l=i.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){Te(t,t.return,s)}}else Un(e,t,n,r);break;case 31:Un(e,t,n,r);break;case 13:Un(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Un(e,t,n,r):kl(e,t):i._visibility&2?Un(e,t,n,r):(i._visibility|=2,Mi(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),a&2048&&Dg(o,t);break;case 24:Un(e,t,n,r),a&2048&&Og(t.alternate,t);break;default:Un(e,t,n,r)}}function Mi(e,t,n,r,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,l=n,s=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Mi(i,o,l,s,a),ys(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?Mi(i,o,l,s,a):kl(i,o):(c._visibility|=2,Mi(i,o,l,s,a)),a&&u&2048&&Dg(o.alternate,o);break;case 24:Mi(i,o,l,s,a),a&&u&2048&&Og(o.alternate,o);break;default:Mi(i,o,l,s,a)}t=t.sibling}}function kl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:kl(n,r),a&2048&&Dg(r.alternate,r);break;case 24:kl(n,r),a&2048&&Og(r.alternate,r);break;default:kl(n,r)}t=t.sibling}}var gl=8192;function Ti(e,t,n){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)Z_(e,t,n),e=e.sibling}function Z_(e,t,n){switch(e.tag){case 26:Ti(e,t,n),e.flags&gl&&e.memoizedState!==null&&VD(n,zn,e.memoizedState,e.memoizedProps);break;case 5:Ti(e,t,n);break;case 3:case 4:var r=zn;zn=dc(e.stateNode.containerInfo),Ti(e,t,n),zn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=gl,gl=16777216,Ti(e,t,n),gl=r):Ti(e,t,n));break;default:Ti(e,t,n)}}function Q_(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function tl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];mt=r,tT(r,e)}Q_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eT(e),e=e.sibling}function eT(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&wa(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ku(e)):tl(e);break;default:tl(e)}}function ku(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];mt=r,tT(r,e)}Q_(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wa(8,t,t.return),ku(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ku(t));break;default:ku(t)}e=e.sibling}}function tT(e,t){for(;mt!==null;){var n=mt;switch(n.tag){case 0:case 11:case 15:wa(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:hs(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,mt=r;else e:for(n=e;mt!==null;){r=mt;var a=r.sibling,i=r.return;if(G_(r),r===n){mt=null;break e}if(a!==null){a.return=i,mt=a;break e}mt=i}}}var aD={getCacheForType:function(e){var t=Tt(tt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Tt(tt).controller.signal}},iD=typeof WeakMap=="function"?WeakMap:Map,be=0,Me=null,de=null,me=0,we=0,en=null,sa=!1,Do=!1,Rg=!1,Ir=0,Ye=0,_a=0,Xa=0,jg=0,on=0,fo=0,Ml=null,$t=null,wp=!1,Td=0,nT=0,ac=1/0,ic=null,ha=null,ot=0,ga=null,mo=null,Tr=0,_p=0,Tp=null,rT=null,Pl=0,Cp=null;function cn(){return be&2&&me!==0?me&-me:re.T!==null?Ug():f1()}function aT(){if(on===0)if(!(me&536870912)||pe){var e=$s;$s<<=1,!($s&3932160)&&($s=262144),on=e}else on=536870912;return e=mn.current,e!==null&&(e.flags|=32),on}function Kt(e,t,n){(e===Me&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(po(e,0),ua(e,me,on,!1)),fs(e,n),(!(be&2)||e!==Me)&&(e===Me&&(!(be&2)&&(Xa|=n),Ye===4&&ua(e,me,on,!1)),sr(e))}function iT(e,t,n){if(be&6)throw Error(H(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ds(e,t),a=r?sD(e,t):cm(e,t,!0),i=r;do{if(a===0){Do&&!r&&ua(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!oD(n)){a=cm(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;a=Ml;var s=l.current.memoizedState.isDehydrated;if(s&&(po(l,o).flags|=256),o=cm(l,o,!1),o!==2){if(Rg&&!s){l.errorRecoveryDisabledLanes|=i,Xa|=i,a=4;break e}i=$t,$t=a,i!==null&&($t===null?$t=i:$t.push.apply($t,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){po(e,0),ua(e,t,0,!0);break}e:{switch(r=e,i=a,i){case 0:case 1:throw Error(H(345));case 4:if((t&4194048)!==t)break;case 6:ua(r,t,on,!sa);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(H(329))}if((t&62914560)===t&&(a=Td+300-ln(),10<a)){if(ua(r,t,on,!sa),pd(r,0,!0)!==0)break e;Tr=t,r.timeoutHandle=TT(Vv.bind(null,r,n,$t,ic,wp,t,on,Xa,fo,sa,i,"Throttled",-0,0),a);break e}Vv(r,n,$t,ic,wp,t,on,Xa,fo,sa,i,null,-0,0)}}break}while(!0);sr(e)}function Vv(e,t,n,r,a,i,o,l,s,u,c,f,p,g){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xr},Z_(t,i,f);var y=(i&62914560)===i?Td-ln():(i&4194048)===i?nT-ln():0;if(y=$D(f,y),y!==null){Tr=i,e.cancelPendingCommit=y(Gv.bind(null,e,t,i,n,r,a,o,l,s,c,f,null,p,g)),ua(e,i,o,!u);return}}Gv(e,t,i,n,r,a,o,l,s)}function oD(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!fn(i(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ua(e,t,n,r){t&=~jg,t&=~Xa,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-un(a),o=1<<i;r[i]=-1,a&=~o}n!==0&&u1(e,n,t)}function Cd(){return be&6?!0:(vs(0),!1)}function Lg(){if(de!==null){if(we===0)var e=de.return;else e=de,br=xi=null,Eg(e),Wi=null,ql=0,e=de;for(;e!==null;)U_(e.alternate,e),e=e.return;de=null}}function po(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,CD(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Tr=0,Lg(),Me=e,de=n=wr(e.current,null),me=t,we=0,en=null,sa=!1,Do=ds(e,t),Rg=!1,fo=on=jg=Xa=_a=Ye=0,$t=Ml=null,wp=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var a=31-un(r),i=1<<a;t|=e[a],r&=~i}return Ir=t,vd(),n}function oT(e,t){oe=null,re.H=Vl,t===Io||t===bd?(t=Sv(),we=3):t===hg?(t=Sv(),we=4):we=t===Pg?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,en=t,de===null&&(Ye=1,tc(e,Tn(t,e.current)))}function lT(){var e=mn.current;return e===null?!0:(me&4194048)===me?Nn===null:(me&62914560)===me||me&536870912?e===Nn:!1}function sT(){var e=re.H;return re.H=Vl,e===null?Vl:e}function uT(){var e=re.A;return re.A=aD,e}function oc(){Ye=4,sa||(me&4194048)!==me&&mn.current!==null||(Do=!0),!(_a&134217727)&&!(Xa&134217727)||Me===null||ua(Me,me,on,!1)}function cm(e,t,n){var r=be;be|=2;var a=sT(),i=uT();(Me!==e||me!==t)&&(ic=null,po(e,t)),t=!1;var o=Ye;e:do try{if(we!==0&&de!==null){var l=de,s=en;switch(we){case 8:Lg(),o=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(t=!0);var u=we;if(we=0,en=null,Vi(e,l,s,u),n&&Do){o=0;break e}break;default:u=we,we=0,en=null,Vi(e,l,s,u)}}lD(),o=Ye;break}catch(c){oT(e,c)}while(!0);return t&&e.shellSuspendCounter++,br=xi=null,be=r,re.H=a,re.A=i,de===null&&(Me=null,me=0,vd()),o}function lD(){for(;de!==null;)cT(de)}function sD(e,t){var n=be;be|=2;var r=sT(),a=uT();Me!==e||me!==t?(ic=null,ac=ln()+500,po(e,t)):Do=ds(e,t);e:do try{if(we!==0&&de!==null){t=de;var i=en;t:switch(we){case 1:we=0,en=null,Vi(e,t,i,1);break;case 2:case 9:if(bv(i)){we=0,en=null,$v(t);break}t=function(){we!==2&&we!==9||Me!==e||(we=7),sr(e)},i.then(t,t);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:bv(i)?(we=0,en=null,$v(t)):(we=0,en=null,Vi(e,t,i,7));break;case 5:var o=null;switch(de.tag){case 26:o=de.memoizedState;case 5:case 27:var l=de;if(o?MT(o):l.stateNode.complete){we=0,en=null;var s=l.sibling;if(s!==null)de=s;else{var u=l.return;u!==null?(de=u,Ad(u)):de=null}break t}}we=0,en=null,Vi(e,t,i,5);break;case 6:we=0,en=null,Vi(e,t,i,6);break;case 8:Lg(),Ye=6;break e;default:throw Error(H(462))}}uD();break}catch(c){oT(e,c)}while(!0);return br=xi=null,re.H=r,re.A=a,be=n,de!==null?0:(Me=null,me=0,vd(),Ye)}function uD(){for(;de!==null&&!IP();)cT(de)}function cT(e){var t=L_(e.alternate,e,Ir);e.memoizedProps=e.pendingProps,t===null?Ad(e):de=t}function $v(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Lv(n,t,t.pendingProps,t.type,void 0,me);break;case 11:t=Lv(n,t,t.pendingProps,t.type.render,t.ref,me);break;case 5:Eg(t);default:U_(n,t),t=de=U1(t,Ir),t=L_(n,t,Ir)}e.memoizedProps=e.pendingProps,t===null?Ad(e):de=t}function Vi(e,t,n,r){br=xi=null,Eg(t),Wi=null,ql=0;var a=t.return;try{if(WI(e,a,t,n,me)){Ye=1,tc(e,Tn(n,e.current)),de=null;return}}catch(i){if(a!==null)throw de=a,i;Ye=1,tc(e,Tn(n,e.current)),de=null;return}t.flags&32768?(pe||r===1?e=!0:Do||me&536870912?e=!1:(sa=e=!0,(r===2||r===9||r===3||r===6)&&(r=mn.current,r!==null&&r.tag===13&&(r.flags|=16384))),dT(t,e)):Ad(t)}function Ad(e){var t=e;do{if(t.flags&32768){dT(t,sa);return}e=t.return;var n=eD(t.alternate,t,Ir);if(n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);Ye===0&&(Ye=5)}function dT(e,t){do{var n=tD(e.alternate,e);if(n!==null){n.flags&=32767,de=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=n}while(e!==null);Ye=6,de=null}function Gv(e,t,n,r,a,i,o,l,s){e.cancelPendingCommit=null;do Nd();while(ot!==0);if(be&6)throw Error(H(327));if(t!==null){if(t===e.current)throw Error(H(177));if(i=t.lanes|t.childLanes,i|=sg,HP(e,n,i,o,l,s),e===Me&&(de=Me=null,me=0),mo=t,ga=e,Tr=n,_p=i,Tp=a,rT=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,mD($u,function(){return gT(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=re.T,re.T=null,a=Se.p,Se.p=2,o=be,be|=4;try{nD(e,t,n)}finally{be=o,Se.p=a,re.T=r}}ot=1,fT(),mT(),pT()}}function fT(){if(ot===1){ot=0;var e=ga,t=mo,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=re.T,re.T=null;var r=Se.p;Se.p=2;var a=be;be|=4;try{J_(t,e);var i=Mp,o=M1(e.containerInfo),l=i.focusedElem,s=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&k1(l.ownerDocument.documentElement,l)){if(s!==null&&lg(l)){var u=s.start,c=s.end;if(c===void 0&&(c=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(c,l.value.length);else{var f=l.ownerDocument||document,p=f&&f.defaultView||window;if(p.getSelection){var g=p.getSelection(),y=l.textContent.length,b=Math.min(s.start,y),E=s.end===void 0?b:Math.min(s.end,y);!g.extend&&b>E&&(o=E,E=b,b=o);var v=mv(l,b),S=mv(l,E);if(v&&S&&(g.rangeCount!==1||g.anchorNode!==v.node||g.anchorOffset!==v.offset||g.focusNode!==S.node||g.focusOffset!==S.offset)){var w=f.createRange();w.setStart(v.node,v.offset),g.removeAllRanges(),b>E?(g.addRange(w),g.extend(S.node,S.offset)):(w.setEnd(S.node,S.offset),g.addRange(w))}}}}for(f=[],g=l;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var _=f[l];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}pc=!!kp,Mp=kp=null}finally{be=a,Se.p=r,re.T=n}}e.current=t,ot=2}}function mT(){if(ot===2){ot=0;var e=ga,t=mo,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=re.T,re.T=null;var r=Se.p;Se.p=2;var a=be;be|=4;try{$_(e,t.alternate,t)}finally{be=a,Se.p=r,re.T=n}}ot=3}}function pT(){if(ot===4||ot===3){ot=0,DP();var e=ga,t=mo,n=Tr,r=rT;t.subtreeFlags&10256||t.flags&10256?ot=5:(ot=0,mo=ga=null,hT(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(ha=null),eg(n),t=t.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(cs,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=re.T,a=Se.p,Se.p=2,re.T=null;try{for(var i=e.onRecoverableError,o=0;o<r.length;o++){var l=r[o];i(l.value,{componentStack:l.stack})}}finally{re.T=t,Se.p=a}}Tr&3&&Nd(),sr(e),a=e.pendingLanes,n&261930&&a&42?e===Cp?Pl++:(Pl=0,Cp=e):Pl=0,vs(0)}}function hT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,hs(t)))}function Nd(){return fT(),mT(),pT(),gT()}function gT(){if(ot!==5)return!1;var e=ga,t=_p;_p=0;var n=eg(Tr),r=re.T,a=Se.p;try{Se.p=32>n?32:n,re.T=null,n=Tp,Tp=null;var i=ga,o=Tr;if(ot=0,mo=ga=null,Tr=0,be&6)throw Error(H(331));var l=be;if(be|=4,eT(i.current),W_(i,i.current,o,n),be=l,vs(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(cs,i)}catch{}return!0}finally{Se.p=a,re.T=r,hT(e,t)}}function Fv(e,t,n){t=Tn(n,t),t=xp(e.stateNode,t,2),e=pa(e,t,2),e!==null&&(fs(e,2),sr(e))}function Te(e,t,n){if(e.tag===3)Fv(e,e,n);else for(;t!==null;){if(t.tag===3){Fv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ha===null||!ha.has(r))){e=Tn(n,e),n=P_(2),r=pa(t,n,2),r!==null&&(I_(n,r,t,e),fs(r,2),sr(r));break}}t=t.return}}function dm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new iD;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(Rg=!0,a.add(n),e=cD.bind(null,e,t,n),t.then(e,e))}function cD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Me===e&&(me&n)===n&&(Ye===4||Ye===3&&(me&62914560)===me&&300>ln()-Td?!(be&2)&&po(e,0):jg|=n,fo===me&&(fo=0)),sr(e)}function yT(e,t){t===0&&(t=s1()),e=vi(e,t),e!==null&&(fs(e,t),sr(e))}function dD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yT(e,n)}function fD(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(H(314))}r!==null&&r.delete(t),yT(e,n)}function mD(e,t){return Zh(e,t)}var lc=null,Pi=null,Ap=!1,sc=!1,fm=!1,ca=0;function sr(e){e!==Pi&&e.next===null&&(Pi===null?lc=Pi=e:Pi=Pi.next=e),sc=!0,Ap||(Ap=!0,hD())}function vs(e,t){if(!fm&&sc){fm=!0;do for(var n=!1,r=lc;r!==null;){if(e!==0){var a=r.pendingLanes;if(a===0)var i=0;else{var o=r.suspendedLanes,l=r.pingedLanes;i=(1<<31-un(42|e)+1)-1,i&=a&~(o&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Yv(r,i))}else i=me,i=pd(r,r===Me?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(i&3)||ds(r,i)||(n=!0,Yv(r,i));r=r.next}while(n);fm=!1}}function pD(){vT()}function vT(){sc=Ap=!1;var e=0;ca!==0&&TD()&&(e=ca);for(var t=ln(),n=null,r=lc;r!==null;){var a=r.next,i=xT(r,t);i===0?(r.next=null,n===null?lc=a:n.next=a,a===null&&(Pi=n)):(n=r,(e!==0||i&3)&&(sc=!0)),r=a}ot!==0&&ot!==5||vs(e),ca!==0&&(ca=0)}function xT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-un(i),l=1<<o,s=a[o];s===-1?(!(l&n)||l&r)&&(a[o]=qP(l,t)):s<=t&&(e.expiredLanes|=l),i&=~l}if(t=Me,n=me,n=pd(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Bf(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||ds(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Bf(r),eg(n)){case 2:case 8:n=o1;break;case 32:n=$u;break;case 268435456:n=l1;break;default:n=$u}return r=bT.bind(null,e),n=Zh(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Bf(r),e.callbackPriority=2,e.callbackNode=null,2}function bT(e,t){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Nd()&&e.callbackNode!==n)return null;var r=me;return r=pd(e,e===Me?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(iT(e,r,t),xT(e,ln()),e.callbackNode!=null&&e.callbackNode===n?bT.bind(null,e):null)}function Yv(e,t){if(Nd())return null;iT(e,t,!0)}function hD(){AD(function(){be&6?Zh(i1,pD):vT()})}function Ug(){if(ca===0){var e=so;e===0&&(e=Vs,Vs<<=1,!(Vs&261888)&&(Vs=256)),ca=e}return ca}function Kv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:bu(""+e)}function Jv(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function gD(e,t,n,r,a){if(t==="submit"&&n&&n.stateNode===a){var i=Kv((a[Jt]||null).action),o=r.submitter;o&&(t=(t=o[Jt]||null)?Kv(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var l=new hd("action","action",null,r,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ca!==0){var s=o?Jv(a,o):new FormData(a);yp(n,{pending:!0,data:s,method:a.method,action:i},null,s)}}else typeof i=="function"&&(l.preventDefault(),s=o?Jv(a,o):new FormData(a),yp(n,{pending:!0,data:s,method:a.method,action:i},i,s))},currentTarget:a}]})}}for(var mm=0;mm<ip.length;mm++){var pm=ip[mm],yD=pm.toLowerCase(),vD=pm[0].toUpperCase()+pm.slice(1);Gn(yD,"on"+vD)}Gn(I1,"onAnimationEnd");Gn(D1,"onAnimationIteration");Gn(O1,"onAnimationStart");Gn("dblclick","onDoubleClick");Gn("focusin","onFocus");Gn("focusout","onBlur");Gn(OI,"onTransitionRun");Gn(RI,"onTransitionStart");Gn(jI,"onTransitionCancel");Gn(R1,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function ST(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=u;try{i(a)}catch(c){Fu(c)}a.currentTarget=null,i=s}else for(o=0;o<r.length;o++){if(l=r[o],s=l.instance,u=l.currentTarget,l=l.listener,s!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=u;try{i(a)}catch(c){Fu(c)}a.currentTarget=null,i=s}}}}function ce(e,t){var n=t[Wm];n===void 0&&(n=t[Wm]=new Set);var r=e+"__bubble";n.has(r)||(ET(t,e,2,!1),n.add(r))}function hm(e,t,n){var r=0;t&&(r|=4),ET(n,e,r,t)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function zg(e){if(!e[Qs]){e[Qs]=!0,m1.forEach(function(n){n!=="selectionchange"&&(xD.has(n)||hm(n,!1,e),hm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qs]||(t[Qs]=!0,hm("selectionchange",!1,t))}}function ET(e,t,n,r){switch(RT(t)){case 2:var a=YD;break;case 8:a=KD;break;default:a=Vg}n=a.bind(null,t,n,e),a=void 0,!np||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function gm(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a)break;if(o===4)for(o=r.return;o!==null;){var s=o.tag;if((s===3||s===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;l!==null;){if(o=Oi(l),o===null)return;if(s=o.tag,s===5||s===6||s===26||s===27){r=i=o;continue e}l=l.parentNode}}r=r.return}S1(function(){var u=i,c=rg(n),f=[];e:{var p=j1.get(e);if(p!==void 0){var g=hd,y=e;switch(e){case"keypress":if(Eu(n)===0)break e;case"keydown":case"keyup":g=fI;break;case"focusin":y="focus",g=Gf;break;case"focusout":y="blur",g=Gf;break;case"beforeblur":case"afterblur":g=Gf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=eI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=hI;break;case I1:case D1:case O1:g=rI;break;case R1:g=yI;break;case"scroll":case"scrollend":g=ZP;break;case"wheel":g=xI;break;case"copy":case"cut":case"paste":g=iI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=iv;break;case"toggle":case"beforetoggle":g=SI}var b=(t&4)!==0,E=!b&&(e==="scroll"||e==="scrollend"),v=b?p!==null?p+"Capture":null:p;b=[];for(var S=u,w;S!==null;){var _=S;if(w=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||w===null||v===null||(_=jl(S,v),_!=null&&b.push(Gl(S,_,w))),E)break;S=S.return}0<b.length&&(p=new g(p,y,null,n,c),f.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==tp&&(y=n.relatedTarget||n.fromElement)&&(Oi(y)||y[ko]))break e;if((g||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Oi(y):null,y!==null&&(E=us(y),b=y.tag,y!==E||b!==5&&b!==27&&b!==6)&&(y=null)):(g=null,y=u),g!==y)){if(b=rv,_="onMouseLeave",v="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(b=iv,_="onPointerLeave",v="onPointerEnter",S="pointer"),E=g==null?p:pl(g),w=y==null?p:pl(y),p=new b(_,S+"leave",g,n,c),p.target=E,p.relatedTarget=w,_=null,Oi(c)===u&&(b=new b(v,S+"enter",y,n,c),b.target=w,b.relatedTarget=E,_=b),E=_,g&&y)t:{for(b=bD,v=g,S=y,w=0,_=v;_;_=b(_))w++;_=0;for(var T=S;T;T=b(T))_++;for(;0<w-_;)v=b(v),w--;for(;0<_-w;)S=b(S),_--;for(;w--;){if(v===S||S!==null&&v===S.alternate){b=v;break t}v=b(v),S=b(S)}b=null}else b=null;g!==null&&Xv(f,p,g,b,!1),y!==null&&E!==null&&Xv(f,E,y,b,!0)}}e:{if(p=u?pl(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var A=uv;else if(sv(p))if(A1)A=PI;else{A=kI;var N=NI}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?u&&ng(u.elementType)&&(A=uv):A=MI;if(A&&(A=A(e,u))){C1(f,A,n,c);break e}N&&N(e,p,u),e==="focusout"&&u&&p.type==="number"&&u.memoizedProps.value!=null&&ep(p,"number",p.value)}switch(N=u?pl(u):window,e){case"focusin":(sv(N)||N.contentEditable==="true")&&(Li=N,rp=u,El=null);break;case"focusout":El=rp=Li=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":ap=!1,pv(f,n,c);break;case"selectionchange":if(DI)break;case"keydown":case"keyup":pv(f,n,c)}var k;if(og)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ji?_1(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(w1&&n.locale!=="ko"&&(ji||I!=="onCompositionStart"?I==="onCompositionEnd"&&ji&&(k=E1()):(la=c,ag="value"in la?la.value:la.textContent,ji=!0)),N=uc(u,I),0<N.length&&(I=new av(I,e,null,n,c),f.push({event:I,listeners:N}),k?I.data=k:(k=T1(n),k!==null&&(I.data=k)))),(k=wI?_I(e,n):TI(e,n))&&(I=uc(u,"onBeforeInput"),0<I.length&&(N=new av("onBeforeInput","beforeinput",null,n,c),f.push({event:N,listeners:I}),N.data=k)),gD(f,e,u,n,c)}ST(f,t)})}function Gl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function uc(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=jl(e,n),a!=null&&r.unshift(Gl(e,a,i)),a=jl(e,t),a!=null&&r.push(Gl(e,a,i))),e.tag===3)return r;e=e.return}return[]}function bD(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xv(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(l=l.tag,s!==null&&s===r)break;l!==5&&l!==26&&l!==27||u===null||(s=u,a?(u=jl(n,i),u!=null&&o.unshift(Gl(n,u,s))):a||(u=jl(n,i),u!=null&&o.push(Gl(n,u,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var SD=/\r\n?/g,ED=/\u0000|\uFFFD/g;function Wv(e){return(typeof e=="string"?e:""+e).replace(SD,`
`).replace(ED,"")}function wT(e,t){return t=Wv(t),Wv(e)===t}function Ae(e,t,n,r,a,i){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||lo(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&lo(e,""+r);break;case"className":Fs(e,"class",r);break;case"tabIndex":Fs(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Fs(e,n,r);break;case"style":b1(e,r,i);break;case"data":if(t!=="object"){Fs(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=bu(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&Ae(e,t,"name",a.name,a,null),Ae(e,t,"formEncType",a.formEncType,a,null),Ae(e,t,"formMethod",a.formMethod,a,null),Ae(e,t,"formTarget",a.formTarget,a,null)):(Ae(e,t,"encType",a.encType,a,null),Ae(e,t,"method",a.method,a,null),Ae(e,t,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=bu(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=xr);break;case"onScroll":r!=null&&ce("scroll",e);break;case"onScrollEnd":r!=null&&ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(H(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(H(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=bu(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ce("beforetoggle",e),ce("toggle",e),xu(e,"popover",r);break;case"xlinkActuate":ur(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ur(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ur(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ur(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ur(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ur(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ur(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ur(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ur(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":xu(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=XP.get(n)||n,xu(e,n,r))}}function Np(e,t,n,r,a,i){switch(n){case"style":b1(e,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(H(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(H(60));e.innerHTML=n}}break;case"children":typeof r=="string"?lo(e,r):(typeof r=="number"||typeof r=="bigint")&&lo(e,""+r);break;case"onScroll":r!=null&&ce("scroll",e);break;case"onScrollEnd":r!=null&&ce("scrollend",e);break;case"onClick":r!=null&&(e.onclick=xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!p1.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),i=e[Jt]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof r=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):xu(e,n,r)}}}function At(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",e),ce("load",e);var r=!1,a=!1,i;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(o!=null)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(H(137,t));default:Ae(e,t,i,o,n,null)}}a&&Ae(e,t,"srcSet",n.srcSet,n,null),r&&Ae(e,t,"src",n.src,n,null);return;case"input":ce("invalid",e);var l=i=o=a=null,s=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":a=c;break;case"type":o=c;break;case"checked":s=c;break;case"defaultChecked":u=c;break;case"value":i=c;break;case"defaultValue":l=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(H(137,t));break;default:Ae(e,t,r,c,n,null)}}y1(e,i,l,s,u,o,a,!1);return;case"select":ce("invalid",e),r=o=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":r=l;default:Ae(e,t,a,l,n,null)}t=i,n=o,e.multiple=!!r,t!=null?Ki(e,!!r,t,!1):n!=null&&Ki(e,!!r,n,!0);return;case"textarea":ce("invalid",e),i=a=r=null;for(o in n)if(n.hasOwnProperty(o)&&(l=n[o],l!=null))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(H(91));break;default:Ae(e,t,o,l,n,null)}x1(e,r,a,i);return;case"option":for(s in n)if(n.hasOwnProperty(s)&&(r=n[s],r!=null))switch(s){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ae(e,t,s,r,n,null)}return;case"dialog":ce("beforetoggle",e),ce("toggle",e),ce("cancel",e),ce("close",e);break;case"iframe":case"object":ce("load",e);break;case"video":case"audio":for(r=0;r<$l.length;r++)ce($l[r],e);break;case"image":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"embed":case"source":case"link":ce("error",e),ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(H(137,t));default:Ae(e,t,u,r,n,null)}return;default:if(ng(t)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&Np(e,t,c,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(r=n[l],r!=null&&Ae(e,t,l,r,n,null))}function wD(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,s=null,u=null,c=null;for(g in n){var f=n[g];if(n.hasOwnProperty(g)&&f!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":s=f;default:r.hasOwnProperty(g)||Ae(e,t,g,null,r,f)}}for(var p in r){var g=r[p];if(f=n[p],r.hasOwnProperty(p)&&(g!=null||f!=null))switch(p){case"type":i=g;break;case"name":a=g;break;case"checked":u=g;break;case"defaultChecked":c=g;break;case"value":o=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(H(137,t));break;default:g!==f&&Ae(e,t,p,g,r,f)}}Qm(e,o,l,s,u,c,i,a);return;case"select":g=o=l=p=null;for(i in n)if(s=n[i],n.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":g=s;default:r.hasOwnProperty(i)||Ae(e,t,i,null,r,s)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==s&&Ae(e,t,a,i,r,s)}t=l,n=o,r=g,p!=null?Ki(e,!!n,p,!1):!!r!=!!n&&(t!=null?Ki(e,!!n,t,!0):Ki(e,!!n,n?[]:"",!1));return;case"textarea":g=p=null;for(l in n)if(a=n[l],n.hasOwnProperty(l)&&a!=null&&!r.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ae(e,t,l,null,r,a)}for(o in r)if(a=r[o],i=n[o],r.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":p=a;break;case"defaultValue":g=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(H(91));break;default:a!==i&&Ae(e,t,o,a,r,i)}v1(e,p,g);return;case"option":for(var y in n)if(p=n[y],n.hasOwnProperty(y)&&p!=null&&!r.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:Ae(e,t,y,null,r,p)}for(s in r)if(p=r[s],g=n[s],r.hasOwnProperty(s)&&p!==g&&(p!=null||g!=null))switch(s){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ae(e,t,s,p,r,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)p=n[b],n.hasOwnProperty(b)&&p!=null&&!r.hasOwnProperty(b)&&Ae(e,t,b,null,r,p);for(u in r)if(p=r[u],g=n[u],r.hasOwnProperty(u)&&p!==g&&(p!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(H(137,t));break;default:Ae(e,t,u,p,r,g)}return;default:if(ng(t)){for(var E in n)p=n[E],n.hasOwnProperty(E)&&p!==void 0&&!r.hasOwnProperty(E)&&Np(e,t,E,void 0,r,p);for(c in r)p=r[c],g=n[c],!r.hasOwnProperty(c)||p===g||p===void 0&&g===void 0||Np(e,t,c,p,r,g);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Ae(e,t,v,null,r,p);for(f in r)p=r[f],g=n[f],!r.hasOwnProperty(f)||p===g||p==null&&g==null||Ae(e,t,f,p,r,g)}function Zv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _D(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],i=a.transferSize,o=a.initiatorType,l=a.duration;if(i&&l&&Zv(o)){for(o=0,l=a.responseEnd,r+=1;r<n.length;r++){var s=n[r],u=s.startTime;if(u>l)break;var c=s.transferSize,f=s.initiatorType;c&&Zv(f)&&(s=s.responseEnd,o+=c*(s<l?1:(l-u)/(s-u)))}if(--r,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kp=null,Mp=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Qv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _T(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Pp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ym=null;function TD(){var e=window.event;return e&&e.type==="popstate"?e===ym?!1:(ym=e,!0):(ym=null,!1)}var TT=typeof setTimeout=="function"?setTimeout:void 0,CD=typeof clearTimeout=="function"?clearTimeout:void 0,ex=typeof Promise=="function"?Promise:void 0,AD=typeof queueMicrotask=="function"?queueMicrotask:typeof ex<"u"?function(e){return ex.resolve(null).then(e).catch(ND)}:TT;function ND(e){setTimeout(function(){throw e})}function Na(e){return e==="head"}function tx(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(a),go(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Il(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Il(n);for(var i=n.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[ms]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=o}}else n==="body"&&Il(e.ownerDocument.body);n=a}while(n);go(t)}function nx(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function Ip(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ip(n),tg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function kD(e,t,n,r){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[ms])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function MD(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function CT(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=kn(e.nextSibling),e===null))return null;return e}function Dp(e){return e.data==="$?"||e.data==="$~"}function Op(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function PD(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Rp=null;function rx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return kn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ax(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function AT(e,t,n){switch(t=cc(n),e){case"html":if(e=t.documentElement,!e)throw Error(H(452));return e;case"head":if(e=t.head,!e)throw Error(H(453));return e;case"body":if(e=t.body,!e)throw Error(H(454));return e;default:throw Error(H(451))}}function Il(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);tg(e)}var Pn=new Map,ix=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qr=Se.d;Se.d={f:ID,r:DD,D:OD,C:RD,L:jD,m:LD,X:zD,S:UD,M:BD};function ID(){var e=qr.f(),t=Cd();return e||t}function DD(e){var t=Mo(e);t!==null&&t.tag===5&&t.type==="form"?b_(t):qr.r(e)}var Oo=typeof document>"u"?null:document;function NT(e,t,n){var r=Oo;if(r&&typeof t=="string"&&t){var a=_n(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),ix.has(a)||(ix.add(a),e={rel:e,crossOrigin:n,href:t},r.querySelector(a)===null&&(t=r.createElement("link"),At(t,"link",e),pt(t),r.head.appendChild(t)))}}function OD(e){qr.D(e),NT("dns-prefetch",e,null)}function RD(e,t){qr.C(e,t),NT("preconnect",e,t)}function jD(e,t,n){qr.L(e,t,n);var r=Oo;if(r&&e&&t){var a='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+_n(n.imageSizes)+'"]')):a+='[href="'+_n(e)+'"]';var i=a;switch(t){case"style":i=ho(e);break;case"script":i=Ro(e)}Pn.has(i)||(e=ze({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Pn.set(i,e),r.querySelector(a)!==null||t==="style"&&r.querySelector(xs(i))||t==="script"&&r.querySelector(bs(i))||(t=r.createElement("link"),At(t,"link",e),pt(t),r.head.appendChild(t)))}}function LD(e,t){qr.m(e,t);var n=Oo;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+_n(r)+'"][href="'+_n(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ro(e)}if(!Pn.has(i)&&(e=ze({rel:"modulepreload",href:e},t),Pn.set(i,e),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(bs(i)))return}r=n.createElement("link"),At(r,"link",e),pt(r),n.head.appendChild(r)}}}function UD(e,t,n){qr.S(e,t,n);var r=Oo;if(r&&e){var a=Yi(r).hoistableStyles,i=ho(e);t=t||"default";var o=a.get(i);if(!o){var l={loading:0,preload:null};if(o=r.querySelector(xs(i)))l.loading=5;else{e=ze({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Pn.get(i))&&Bg(e,n);var s=o=r.createElement("link");pt(s),At(s,"link",e),s._p=new Promise(function(u,c){s.onload=u,s.onerror=c}),s.addEventListener("load",function(){l.loading|=1}),s.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Mu(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:l},a.set(i,o)}}}function zD(e,t){qr.X(e,t);var n=Oo;if(n&&e){var r=Yi(n).hoistableScripts,a=Ro(e),i=r.get(a);i||(i=n.querySelector(bs(a)),i||(e=ze({src:e,async:!0},t),(t=Pn.get(a))&&qg(e,t),i=n.createElement("script"),pt(i),At(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function BD(e,t){qr.M(e,t);var n=Oo;if(n&&e){var r=Yi(n).hoistableScripts,a=Ro(e),i=r.get(a);i||(i=n.querySelector(bs(a)),i||(e=ze({src:e,async:!0,type:"module"},t),(t=Pn.get(a))&&qg(e,t),i=n.createElement("script"),pt(i),At(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function ox(e,t,n,r){var a=(a=da.current)?dc(a):null;if(!a)throw Error(H(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ho(n.href),n=Yi(a).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ho(n.href);var i=Yi(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(xs(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Pn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Pn.set(e,n),i||qD(a,e,n,o.state))),t&&r===null)throw Error(H(528,""));return o}if(t&&r!==null)throw Error(H(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ro(n),n=Yi(a).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(H(444,e))}}function ho(e){return'href="'+_n(e)+'"'}function xs(e){return'link[rel="stylesheet"]['+e+"]"}function kT(e){return ze({},e,{"data-precedence":e.precedence,precedence:null})}function qD(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),At(t,"link",n),pt(t),e.head.appendChild(t))}function Ro(e){return'[src="'+_n(e)+'"]'}function bs(e){return"script[async]"+e}function lx(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+_n(n.href)+'"]');if(r)return t.instance=r,pt(r),r;var a=ze({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),pt(r),At(r,"style",a),Mu(r,n.precedence,e),t.instance=r;case"stylesheet":a=ho(n.href);var i=e.querySelector(xs(a));if(i)return t.state.loading|=4,t.instance=i,pt(i),i;r=kT(n),(a=Pn.get(a))&&Bg(r,a),i=(e.ownerDocument||e).createElement("link"),pt(i);var o=i;return o._p=new Promise(function(l,s){o.onload=l,o.onerror=s}),At(i,"link",r),t.state.loading|=4,Mu(i,n.precedence,e),t.instance=i;case"script":return i=Ro(n.src),(a=e.querySelector(bs(i)))?(t.instance=a,pt(a),a):(r=n,(a=Pn.get(i))&&(r=ze({},n),qg(r,a)),e=e.ownerDocument||e,a=e.createElement("script"),pt(a),At(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(H(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Mu(r,n.precedence,e));return t.instance}function Mu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,o=0;o<r.length;o++){var l=r[o];if(l.dataset.precedence===t)i=l;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Bg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Pu=null;function sx(e,t,n){if(Pu===null){var r=new Map,a=Pu=new Map;a.set(n,r)}else a=Pu,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[ms]||i[wt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var l=r.get(o);l?l.push(i):r.set(o,[i])}}return r}function ux(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function HD(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function MT(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function VD(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=ho(r.href),i=t.querySelector(xs(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=fc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,pt(i);return}i=t.ownerDocument||t,r=kT(r),(a=Pn.get(a))&&Bg(r,a),i=i.createElement("link"),pt(i);var o=i;o._p=new Promise(function(l,s){o.onload=l,o.onerror=s}),At(i,"link",r),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=fc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var vm=0;function $D(e,t){return e.stylesheets&&e.count===0&&Iu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&vm===0&&(vm=62500*_D());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>vm?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function Iu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,t.forEach(GD,e),mc=null,fc.call(e))}function GD(e,t){if(!(t.state.loading&4)){var n=mc.get(e);if(n)var r=n.get(null);else{n=new Map,mc.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}a=t.instance,o=a.getAttribute("data-precedence"),i=n.get(o)||r,i===r&&n.set(null,a),n.set(o,a),this.count++,r=fc.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Fl={$$typeof:vr,Provider:null,Consumer:null,_currentValue:Fa,_currentValue2:Fa,_threadCount:0};function FD(e,t,n,r,a,i,o,l,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qf(0),this.hiddenUpdates=qf(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function PT(e,t,n,r,a,i,o,l,s,u,c,f){return e=new FD(e,t,n,o,s,u,c,f,l),t=1,i===!0&&(t|=24),i=rn(3,null,null,t),e.current=i,i.stateNode=e,t=mg(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},gg(i),e}function IT(e){return e?(e=Bi,e):Bi}function DT(e,t,n,r,a,i){a=IT(a),r.context===null?r.context=a:r.pendingContext=a,r=ma(t),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=pa(e,r,t),n!==null&&(Kt(n,e,t),_l(n,e,t))}function cx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hg(e,t){cx(e,t),(e=e.alternate)&&cx(e,t)}function OT(e){if(e.tag===13||e.tag===31){var t=vi(e,67108864);t!==null&&Kt(t,e,67108864),Hg(e,67108864)}}function dx(e){if(e.tag===13||e.tag===31){var t=cn();t=Qh(t);var n=vi(e,t);n!==null&&Kt(n,e,t),Hg(e,t)}}var pc=!0;function YD(e,t,n,r){var a=re.T;re.T=null;var i=Se.p;try{Se.p=2,Vg(e,t,n,r)}finally{Se.p=i,re.T=a}}function KD(e,t,n,r){var a=re.T;re.T=null;var i=Se.p;try{Se.p=8,Vg(e,t,n,r)}finally{Se.p=i,re.T=a}}function Vg(e,t,n,r){if(pc){var a=jp(r);if(a===null)gm(e,t,r,hc,n),fx(e,r);else if(XD(a,e,t,n,r))r.stopPropagation();else if(fx(e,r),t&4&&-1<JD.indexOf(e)){for(;a!==null;){var i=Mo(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=ja(i.pendingLanes);if(o!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var s=1<<31-un(o);l.entanglements[1]|=s,o&=~s}sr(i),!(be&6)&&(ac=ln()+500,vs(0))}}break;case 31:case 13:l=vi(i,2),l!==null&&Kt(l,i,2),Cd(),Hg(i,2)}if(i=jp(r),i===null&&gm(e,t,r,hc,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else gm(e,t,r,null,n)}}function jp(e){return e=rg(e),$g(e)}var hc=null;function $g(e){if(hc=null,e=Oi(e),e!==null){var t=us(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=e1(t),e!==null)return e;e=null}else if(n===31){if(e=t1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hc=e,null}function RT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(OP()){case i1:return 2;case o1:return 8;case $u:case RP:return 32;case l1:return 268435456;default:return 32}default:return 32}}var Lp=!1,ya=null,va=null,xa=null,Yl=new Map,Kl=new Map,aa=[],JD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fx(e,t){switch(e){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(t.pointerId)}}function nl(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Mo(t),t!==null&&OT(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function XD(e,t,n,r,a){switch(t){case"focusin":return ya=nl(ya,e,t,n,r,a),!0;case"dragenter":return va=nl(va,e,t,n,r,a),!0;case"mouseover":return xa=nl(xa,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Yl.set(i,nl(Yl.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Kl.set(i,nl(Kl.get(i)||null,e,t,n,r,a)),!0}return!1}function jT(e){var t=Oi(e.target);if(t!==null){var n=us(t);if(n!==null){if(t=n.tag,t===13){if(t=e1(n),t!==null){e.blockedOn=t,X0(e.priority,function(){dx(n)});return}}else if(t===31){if(t=t1(n),t!==null){e.blockedOn=t,X0(e.priority,function(){dx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Du(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);tp=r,n.target.dispatchEvent(r),tp=null}else return t=Mo(n),t!==null&&OT(t),e.blockedOn=n,!1;t.shift()}return!0}function mx(e,t,n){Du(e)&&n.delete(t)}function WD(){Lp=!1,ya!==null&&Du(ya)&&(ya=null),va!==null&&Du(va)&&(va=null),xa!==null&&Du(xa)&&(xa=null),Yl.forEach(mx),Kl.forEach(mx)}function eu(e,t){e.blockedOn===t&&(e.blockedOn=null,Lp||(Lp=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,WD)))}var tu=null;function px(e){tu!==e&&(tu=e,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,function(){tu===e&&(tu=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if(typeof r!="function"){if($g(r||n)===null)continue;break}var i=Mo(n);i!==null&&(e.splice(t,3),t-=3,yp(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function go(e){function t(s){return eu(s,e)}ya!==null&&eu(ya,e),va!==null&&eu(va,e),xa!==null&&eu(xa,e),Yl.forEach(t),Kl.forEach(t);for(var n=0;n<aa.length;n++){var r=aa[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<aa.length&&(n=aa[0],n.blockedOn===null);)jT(n),n.blockedOn===null&&aa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],o=a[Jt]||null;if(typeof i=="function")o||px(n);else if(o){var l=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Jt]||null)l=o.formAction;else if($g(a)!==null)continue}else l=o.action;typeof l=="function"?n[r+1]=l:(n.splice(r,3),r-=3),px(n)}}}function LT(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Gg(e){this._internalRoot=e}kd.prototype.render=Gg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));var n=t.current,r=cn();DT(n,r,e,t,null,null)};kd.prototype.unmount=Gg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;DT(e.current,2,null,e,null,null),Cd(),t[ko]=null}};function kd(e){this._internalRoot=e}kd.prototype.unstable_scheduleHydration=function(e){if(e){var t=f1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<aa.length&&t!==0&&t<aa[n].priority;n++);aa.splice(n,0,e),n===0&&jT(e)}};var hx=Zw.version;if(hx!=="19.2.0")throw Error(H(527,hx,"19.2.0"));Se.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=AP(t),e=e!==null?n1(e):null,e=e===null?null:e.stateNode,e};var ZD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{cs=nu.inject(ZD),sn=nu}catch{}}dd.createRoot=function(e,t){if(!Qw(e))throw Error(H(299));var n=!1,r="",a=N_,i=k_,o=M_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=PT(e,1,!1,null,null,n,r,null,a,i,o,LT),e[ko]=t.current,zg(e),new Gg(t)};dd.hydrateRoot=function(e,t,n){if(!Qw(e))throw Error(H(299));var r=!1,a="",i=N_,o=k_,l=M_,s=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(s=n.formState)),t=PT(e,1,!0,t,n??null,r,a,s,i,o,l,LT),t.context=IT(null),n=t.current,r=cn(),r=Qh(r),a=ma(r),a.callback=null,pa(n,a,r),n=r,t.current.lanes=n,fs(t,n),sr(t),e[ko]=t.current,zg(e),new kd(t)};dd.version="19.2.0";function UT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UT)}catch(e){console.error(e)}}UT(),Fw.exports=dd;var QD=Fw.exports;const eO=or(QD);var ge=(e=>(e.SuperAdmin="Super Admin",e.Admin="Admin",e.Manager="Manager",e.Employee="Employee",e))(ge||{}),tr=(e=>(e.In="Entrada",e.Out="Sada",e.Adjustment="Ajuste",e))(tr||{}),Ou=(e=>(e.Insert="INSERT",e.Update="UPDATE",e.Delete="DELETE",e))(Ou||{});const zT=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",tO=()=>{if(zT){if(window.location.port==="5173"||window.location.port==="5174")return"/api";const t=window.location.pathname.match(/^(\/[^\/]+\/)/);return(t?t[1]:"/")+"api.php"}return"/EstoqueGemini/api.php"},BT=tO();console.log(" API_URL initialized:",BT,"| isDevelopment:",zT,"| Port:",window.location.port,"| Current path:",window.location.pathname);const fe=async(e,t)=>{const n=await fetch(`${BT}${e}`,{headers:{"Content-Type":"application/json",...t==null?void 0:t.headers},...t});if(!n.ok){const r=await n.json().catch(()=>({error:"Erro na requisio"}));throw new Error(r.error||"Erro na requisio")}return n.json()},yo=async()=>fe("/products"),qT=async e=>fe("/products",{method:"POST",body:JSON.stringify(e)}),gx=async(e,t)=>fe(`/products/${e}`,{method:"PUT",body:JSON.stringify(t)}),nO=async e=>fe(`/products/${e}`,{method:"DELETE"}),vo=async()=>fe("/categories"),rO=async e=>fe("/categories",{method:"POST",body:JSON.stringify(e)}),aO=async(e,t)=>fe(`/categories/${e}`,{method:"PUT",body:JSON.stringify(t)}),iO=async e=>fe(`/categories/${e}`,{method:"DELETE"}),Jl=async()=>fe("/suppliers"),oO=async e=>fe("/suppliers",{method:"POST",body:JSON.stringify(e)}),lO=async(e,t)=>fe(`/suppliers/${e}`,{method:"PUT",body:JSON.stringify(t)}),sO=async e=>fe(`/suppliers/${e}`,{method:"DELETE"}),HT=async()=>fe("/users"),uO=async e=>fe("/users",{method:"POST",body:JSON.stringify(e)}),cO=async(e,t)=>fe(`/users/${e}`,{method:"PUT",body:JSON.stringify(t)}),dO=async e=>fe(`/users/${e}`,{method:"DELETE"}),Ss=async()=>fe("/companies"),fO=async e=>fe("/companies",{method:"POST",body:JSON.stringify(e)}),mO=async(e,t)=>fe(`/companies/${e}`,{method:"PUT",body:JSON.stringify(t)}),pO=async e=>fe(`/companies/${e}`,{method:"DELETE"}),VT=async()=>fe("/stock-movements"),$T=async e=>fe("/stock-movements",{method:"POST",body:JSON.stringify(e)}),hO=async(e,t)=>{try{return await fe("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}catch{return null}},gO=async()=>fe("/dashboard"),yO=async()=>fe("/activity-log"),vO=async(e,t)=>fe("/products-import",{method:"POST",body:JSON.stringify({products:e,options:t})}),xO=async(e,t)=>fe("/categories-import",{method:"POST",body:JSON.stringify({categories:e,options:t})}),bO=async(e,t)=>fe("/suppliers-import",{method:"POST",body:JSON.stringify({suppliers:e,options:t})}),jo=async()=>fe("/settings"),SO=async e=>fe("/settings",{method:"PUT",body:JSON.stringify(e)}),Fg=async()=>fe("/company-settings"),EO=async e=>fe("/company-settings",{method:"PUT",body:JSON.stringify(e)}),wO=async e=>fe("/bulk-operations",{method:"POST",body:JSON.stringify({action:"zero-stock",categoryIds:e})}),_O=async e=>fe("/bulk-operations",{method:"POST",body:JSON.stringify({action:"clear-movements",categoryIds:e})}),TO=async e=>fe("/bulk-operations",{method:"POST",body:JSON.stringify({action:"delete-products",categoryIds:e})}),CO=async e=>fe("/bulk-operations",{method:"POST",body:JSON.stringify({action:"update-images",categoryIds:e})}),AO=async e=>{const t=new URLSearchParams;return e!=null&&e.startDate&&t.append("start_date",e.startDate),e!=null&&e.endDate&&t.append("end_date",e.endDate),e!=null&&e.userId&&t.append("user_id",e.userId),e!=null&&e.companyId&&t.append("company_id",e.companyId),e!=null&&e.actionType&&t.append("action_type",e.actionType),e!=null&&e.tableName&&t.append("table_name",e.tableName),fe(`/activity-log?${t.toString()}`)},NO=({onLogin:e})=>{const[t,n]=x.useState(""),[r,a]=x.useState(""),[i,o]=x.useState(""),[l,s]=x.useState(!1),[u,c]=x.useState("Estoque Gemini"),[f,p]=x.useState("");Ga.useEffect(()=>{(async()=>{var b,E;try{const v=await jo();(b=v.system_name)!=null&&b.value&&c(v.system_name.value),(E=v.system_logo_url)!=null&&E.value&&p(v.system_logo_url.value)}catch(v){console.warn("Could not load system settings for login page:",v)}})()},[]);const g=async y=>{y.preventDefault(),o(""),s(!0),await e(t,r)||o("Credenciais invlidas. Tente novamente."),s(!1)};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:d.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl",children:[d.jsxs("div",{className:"text-center",children:[f?d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("img",{src:f,alt:u,className:"h-16 object-contain",onError:y=>{y.target.style.display="none"}})}):d.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-500",children:u}),d.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Controle de Estoque"})]}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:y=>n(y.target.value),className:"peer h-10 w-full border-b-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white bg-transparent placeholder-transparent focus:outline-none focus:border-emerald-500",placeholder:"seu@email.com"}),d.jsx("label",{htmlFor:"email-address",className:"absolute left-0 -top-3.5 text-gray-600 dark:text-gray-400 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 dark:peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-2 peer-focus:-top-3.5 peer-focus:text-gray-600 dark:peer-focus:text-gray-400 peer-focus:text-sm",children:"Email"})]}),d.jsxs("div",{className:"mt-4 relative",children:[d.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:y=>a(y.target.value),className:"peer h-10 w-full border-b-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white bg-transparent placeholder-transparent focus:outline-none focus:border-emerald-500",placeholder:"Senha"}),d.jsx("label",{htmlFor:"password",className:"absolute left-0 -top-3.5 text-gray-600 dark:text-gray-400 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 dark:peer-placeholder-shown:text-gray-500 peer-placeholder-shown:top-2 peer-focus:-top-3.5 peer-focus:text-gray-600 dark:peer-focus:text-gray-400 peer-focus:text-sm",children:"Senha"})]}),i&&d.jsx("p",{className:"text-sm text-red-500 text-center",children:i}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 dark:focus:ring-offset-gray-800 transition-transform transform hover:scale-105 disabled:bg-emerald-400 disabled:cursor-not-allowed",children:l?"Entrando...":"Entrar"})})]}),d.jsxs("div",{className:"mt-6 text-center",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sistema de Gesto de Estoque"}),d.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[" ",new Date().getFullYear()," Todos os direitos reservados"]})]})]})})},kO=e=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"})]}),GT=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})}),MO=e=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),PO=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5v-9m17.25 9v-9m-17.25-3.375h15.75c.621 0 1.125.504 1.125 1.125v4.5m-17.25-5.625L12 6.375m0 0l-3.375 3.375M12 6.375l3.375 3.375"})}),IO=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663M12 3.375c-3.418 0-6.162 2.46-6.162 5.5s2.744 5.5 6.162 5.5 6.162-2.46 6.162-5.5-2.744-5.5-6.162-5.5z"})}),FT=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h18m-7.5-12L21 9m0 0L16.5 12M21 9H3"})}),Ru=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),DO=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1012.728 0M12 3v9"})}),YT=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-3.75-.625m3.75.625V3.375"})}),KT=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6L9 12.75l4.286-4.286a11.948 11.948 0 014.306 6.43l.776 2.898m0 0l3.182-5.511m-3.182 5.511l-5.511-3.182"})}),OO=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),oi=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})}),li=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.077-2.09.921-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Es=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Yg=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),RO=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6h1.5m-1.5 3h1.5m-1.5 3h1.5M6.75 21v-2.25a2.25 2.25 0 012.25-2.25h3a2.25 2.25 0 012.25 2.25V21m-8.25 0H18M5.25 3h.008v.008H5.25V3zm13.5 0h.008v.008h-.008V3z"})}),jO=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),Xl=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),yx=e=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]});function JT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=JT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=JT(e))&&(r&&(r+=" "),r+=t);return r}var LO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Kg(e){if(typeof e!="string")return!1;var t=LO;return t.includes(e)}var UO=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function XT(e){if(typeof e!="string")return!1;var t=UO;return t.includes(e)}function WT(e){return typeof e=="string"&&e.startsWith("data-")}function Hn(e){var t=Object.entries(e).filter(n=>{var[r]=n;return XT(r)||WT(r)});return Object.fromEntries(t)}function ws(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Hn(t)}return typeof e=="object"&&!Array.isArray(e)?Hn(e):null}function Ut(e){var t=Object.entries(e).filter(n=>{var[r]=n;return XT(r)||WT(r)||Kg(r)});return Object.fromEntries(t)}function zO(e){return e==null?null:x.isValidElement(e)?Ut(e.props):typeof e=="object"&&!Array.isArray(e)?Ut(e):null}var BO=["children","width","height","viewBox","className","style","title","desc"];function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Up.apply(null,arguments)}function qO(e,t){if(e==null)return{};var n,r,a=HO(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function HO(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jg=x.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:l,title:s,desc:u}=e,c=qO(e,BO),f=i||{width:r,height:a,x:0,y:0},p=Ce("recharts-surface",o);return x.createElement("svg",Up({},Ut(c),{className:p,width:r,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,s),x.createElement("desc",null,u),n)}),VO=["children","className"];function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zp.apply(null,arguments)}function $O(e,t){if(e==null)return{};var n,r,a=GO(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function GO(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var In=x.forwardRef((e,t)=>{var{children:n,className:r}=e,a=$O(e,VO),i=Ce("recharts-layer",r);return x.createElement("g",zp({className:i},Ut(a),{ref:t}),n)}),ZT=x.createContext(null),FO=()=>x.useContext(ZT);function Ie(e){return function(){return e}}const QT=Math.cos,gc=Math.sin,Fn=Math.sqrt,yc=Math.PI,Md=2*yc,Bp=Math.PI,qp=2*Bp,za=1e-6,YO=qp-za;function eC(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function KO(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return eC;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class JO{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?eC:KO(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,s=r-t,u=a-n,c=o-t,f=l-n,p=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>za)if(!(Math.abs(f*s-u*c)>za)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-o,y=a-l,b=s*s+u*u,E=g*g+y*y,v=Math.sqrt(b),S=Math.sqrt(p),w=i*Math.tan((Bp-Math.acos((b+p-E)/(2*v*S)))/2),_=w/S,T=w/v;Math.abs(_-1)>za&&this._append`L${t+_*c},${n+_*f}`,this._append`A${i},${i},0,0,${+(f*g>c*y)},${this._x1=t+T*s},${this._y1=n+T*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),s=r*Math.sin(a),u=t+l,c=n+s,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>za||Math.abs(this._y1-c)>za)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%qp+qp),p>YO?this._append`A${r},${r},0,1,${f},${t-l},${n-s}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:p>za&&this._append`A${r},${r},0,${+(p>=Bp)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Xg(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new JO(t)}function Wg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tC(e){this._context=e}tC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Pd(e){return new tC(e)}function nC(e){return e[0]}function rC(e){return e[1]}function aC(e,t){var n=Ie(!0),r=null,a=Pd,i=null,o=Xg(l);e=typeof e=="function"?e:e===void 0?nC:Ie(e),t=typeof t=="function"?t:t===void 0?rC:Ie(t);function l(s){var u,c=(s=Wg(s)).length,f,p=!1,g;for(r==null&&(i=a(g=o())),u=0;u<=c;++u)!(u<c&&n(f=s[u],u,s))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,s),+t(f,u,s));if(g)return i=null,g+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Ie(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Ie(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Ie(!!s),l):n},l.curve=function(s){return arguments.length?(a=s,r!=null&&(i=a(r)),l):a},l.context=function(s){return arguments.length?(s==null?r=i=null:i=a(r=s),l):r},l}function ru(e,t,n){var r=null,a=Ie(!0),i=null,o=Pd,l=null,s=Xg(u);e=typeof e=="function"?e:e===void 0?nC:Ie(+e),t=typeof t=="function"?t:Ie(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?rC:Ie(+n);function u(f){var p,g,y,b=(f=Wg(f)).length,E,v=!1,S,w=new Array(b),_=new Array(b);for(i==null&&(l=o(S=s())),p=0;p<=b;++p){if(!(p<b&&a(E=f[p],p,f))===v)if(v=!v)g=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=g;--y)l.point(w[y],_[y]);l.lineEnd(),l.areaEnd()}v&&(w[p]=+e(E,p,f),_[p]=+t(E,p,f),l.point(r?+r(E,p,f):w[p],n?+n(E,p,f):_[p]))}if(S)return l=null,S+""||null}function c(){return aC().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ie(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ie(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ie(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ie(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ie(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ie(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ie(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class iC{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function XO(e){return new iC(e,!0)}function WO(e){return new iC(e,!1)}const Zg={draw(e,t){const n=Fn(t/yc);e.moveTo(n,0),e.arc(0,0,n,0,Md)}},ZO={draw(e,t){const n=Fn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},oC=Fn(1/3),QO=oC*2,eR={draw(e,t){const n=Fn(t/QO),r=n*oC;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},tR={draw(e,t){const n=Fn(t),r=-n/2;e.rect(r,r,n,n)}},nR=.8908130915292852,lC=gc(yc/10)/gc(7*yc/10),rR=gc(Md/10)*lC,aR=-QT(Md/10)*lC,iR={draw(e,t){const n=Fn(t*nR),r=rR*n,a=aR*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=Md*i/5,l=QT(o),s=gc(o);e.lineTo(s*n,-l*n),e.lineTo(l*r-s*a,s*r+l*a)}e.closePath()}},xm=Fn(3),oR={draw(e,t){const n=-Fn(t/(xm*3));e.moveTo(0,n*2),e.lineTo(-xm*n,-n),e.lineTo(xm*n,-n),e.closePath()}},gn=-.5,yn=Fn(3)/2,Hp=1/Fn(12),lR=(Hp/2+1)*3,sR={draw(e,t){const n=Fn(t/lR),r=n/2,a=n*Hp,i=r,o=n*Hp+n,l=-i,s=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,s),e.lineTo(gn*r-yn*a,yn*r+gn*a),e.lineTo(gn*i-yn*o,yn*i+gn*o),e.lineTo(gn*l-yn*s,yn*l+gn*s),e.lineTo(gn*r+yn*a,gn*a-yn*r),e.lineTo(gn*i+yn*o,gn*o-yn*i),e.lineTo(gn*l+yn*s,gn*s-yn*l),e.closePath()}};function uR(e,t){let n=null,r=Xg(a);e=typeof e=="function"?e:Ie(e||Zg),t=typeof t=="function"?t:Ie(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ie(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ie(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function vc(){}function xc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function sC(e){this._context=e}sC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cR(e){return new sC(e)}function uC(e){this._context=e}uC.prototype={areaStart:vc,areaEnd:vc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dR(e){return new uC(e)}function cC(e){this._context=e}cC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fR(e){return new cC(e)}function dC(e){this._context=e}dC.prototype={areaStart:vc,areaEnd:vc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mR(e){return new dC(e)}function vx(e){return e<0?-1:1}function xx(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(vx(i)+vx(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function bx(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bm(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function bc(e){this._context=e}bc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bm(this,this._t0,bx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bm(this,bx(this,n=xx(this,e,t)),n);break;default:bm(this,this._t0,n=xx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function fC(e){this._context=new mC(e)}(fC.prototype=Object.create(bc.prototype)).point=function(e,t){bc.prototype.point.call(this,t,e)};function mC(e){this._context=e}mC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function pR(e){return new bc(e)}function hR(e){return new fC(e)}function pC(e){this._context=e}pC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Sx(e),a=Sx(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Sx(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function gR(e){return new pC(e)}function Id(e,t){this._context=e,this._t=t}Id.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function yR(e){return new Id(e,.5)}function vR(e){return new Id(e,0)}function xR(e){return new Id(e,1)}function xo(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Vp(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function bR(e,t){return e[t]}function SR(e){const t=[];return t.key=e,t}function ER(){var e=Ie([]),t=Vp,n=xo,r=bR;function a(i){var o=Array.from(e.apply(this,arguments),SR),l,s=o.length,u=-1,c;for(const f of i)for(l=0,++u;l<s;++l)(o[l][u]=[0,+r(f,o[l].key,u,i)]).data=f;for(l=0,c=Wg(t(o));l<s;++l)o[c[l]].index=l;return n(o,c),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ie(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Ie(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?Vp:typeof i=="function"?i:Ie(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??xo,a):n},a}function wR(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}xo(e,t)}}function _R(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}xo(e,t)}}function TR(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,s=0,u=0;l<o;++l){for(var c=e[t[l]],f=c[r][1]||0,p=c[r-1][1]||0,g=(f-p)/2,y=0;y<l;++y){var b=e[t[y]],E=b[r][1]||0,v=b[r-1][1]||0;g+=E-v}s+=f,u+=g*f}a[r-1][1]+=a[r-1][0]=n,s&&(n-=u/s)}a[r-1][1]+=a[r-1][0]=n,xo(e,t)}}var Dd={},hC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(hC);var Qg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Qg);var Od={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Od);var Rd={},gC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(gC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gC,n=Od;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,s="",u="",c=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,s+=a[l]):f===u?u="":s+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,i.push(s),s=""):s+=f:f==="["?(c=!0,s&&(i.push(s),s="")):f==="."?s&&(i.push(s),s=""):s+=f,l++}return s&&i.push(s),i}e.toPath=r})(Rd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hC,n=Qg,r=Od,a=Rd;function i(l,s,u){if(l==null)return u;switch(typeof s){case"string":{if(t.isUnsafeProperty(s))return u;const c=l[s];return c===void 0?n.isDeepKey(s)?i(l,a.toPath(s),u):u:c}case"number":case"symbol":{typeof s=="number"&&(s=r.toKey(s));const c=l[s];return c===void 0?u:c}default:{if(Array.isArray(s))return o(l,s,u);if(Object.is(s==null?void 0:s.valueOf(),-0)?s="-0":s=String(s),t.isUnsafeProperty(s))return u;const c=l[s];return c===void 0?u:c}}}function o(l,s,u){if(s.length===0)return u;let c=l;for(let f=0;f<s.length;f++){if(c==null||t.isUnsafeProperty(s[f]))return u;c=c[s[f]]}return c===void 0?u:c}e.get=i})(Dd);var CR=Dd.get;const bo=or(CR);var Ft=e=>e===0?0:e>0?1:-1,Vn=e=>typeof e=="number"&&e!=+e,Dr=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,W=e=>(typeof e=="number"||e instanceof Number)&&!Vn(e),rr=e=>W(e)||typeof e=="string",AR=0,Wl=e=>{var t=++AR;return"".concat(e||"").concat(t)},$n=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!W(t)&&typeof t!="string")return r;var i;if(Dr(t)){if(n==null)return r;var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Vn(i)&&(i=r),a&&n!=null&&i>n&&(i=n),i},yC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Fe(e,t,n){return W(e)&&W(t)?e+n*(t-e):t}function vC(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):bo(r,t))===n)}var He=e=>e===null||typeof e>"u",_s=e=>He(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function NR(e){return e!=null}function Lo(){}var kR=["type","size","sizeType"];function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$p.apply(null,arguments)}function Ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ex(Object(n),!0).forEach(function(r){MR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MR(e,t,n){return(t=PR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PR(e){var t=IR(e,"string");return typeof t=="symbol"?t:t+""}function IR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DR(e,t){if(e==null)return{};var n,r,a=OR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function OR(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xC={symbolCircle:Zg,symbolCross:ZO,symbolDiamond:eR,symbolSquare:tR,symbolStar:iR,symbolTriangle:oR,symbolWye:sR},RR=Math.PI/180,jR=e=>{var t="symbol".concat(_s(e));return xC[t]||Zg},LR=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*RR;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UR=(e,t)=>{xC["symbol".concat(_s(e))]=t},ey=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=DR(e,kR),i=wx(wx({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var p=jR(o),g=uR().type(p).size(LR(n,r,o)),y=g();if(y!==null)return y},{className:s,cx:u,cy:c}=i,f=Ut(i);return W(u)&&W(c)&&W(n)?x.createElement("path",$p({},f,{className:Ce("recharts-symbols",s),transform:"translate(".concat(u,", ").concat(c,")"),d:l()})):null};ey.registerSymbol=UR;var bC=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ty=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Kg(a)&&(r[a]=i=>n[a](n,i))}),r},zR=(e,t,n)=>r=>(e(t,n,r),null),jd=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];Kg(a)&&typeof i=="function"&&(r||(r={}),r[a]=zR(i,t,n))}),r};function _x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function BR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_x(Object(n),!0).forEach(function(r){qR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_x(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qR(e,t,n){return(t=HR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HR(e){var t=VR(e,"string");return typeof t=="symbol"?t:t+""}function VR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nt(e,t){var n=BR({},e),r=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return i}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sc.apply(null,arguments)}function Tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $R(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tx(Object(n),!0).forEach(function(r){GR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GR(e,t,n){return(t=FR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FR(e){var t=YR(e,"string");return typeof t=="symbol"?t:t+""}function YR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xn=32,KR={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function JR(e){var{data:t,iconType:n,inactiveColor:r}=e,a=xn/2,i=xn/6,o=xn/3,l=t.inactive?r:t.color,s=n??t.type;if(s==="none")return null;if(s==="plainline"){var u;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:xn,y2:a,className:"recharts-legend-icon"})}if(s==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(xn,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(s==="rect")return x.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(xn/8,"h").concat(xn,"v").concat(xn*3/4,"h").concat(-xn,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var c=$R({},t);return delete c.legendIcon,x.cloneElement(t.legendIcon,c)}return x.createElement(ey,{fill:l,cx:a,cy:a,size:xn,sizeType:"diameter",type:s})}function XR(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,l={x:0,y:0,width:xn,height:xn},s={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,f)=>{var p=c.formatter||a,g=Ce({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:c.inactive});if(c.type==="none")return null;var y=c.inactive?i:c.color,b=p?p(c.value,c,f):c.value;return x.createElement("li",Sc({className:g,style:s,key:"legend-item-".concat(f)},jd(e,c,f)),x.createElement(Jg,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(b," legend icon")},x.createElement(JR,{data:c,iconType:o,inactiveColor:i})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b))})}var WR=e=>{var t=Nt(e,KR),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},x.createElement(XR,Sc({},t,{payload:n})))},SC={},EC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],l=r(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(EC);var ny={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(ny);var wC={},Ld={},_C={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(_C);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_C;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Ld);var TC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(TC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ld,n=TC;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(wC);var CC={},AC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dd;function n(r){return function(a){return t.get(a,r)}}e.property=n})(AC);var NC={},ry={},kC={},ay={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(ay);var iy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(iy);var oy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(oy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ay,n=iy,r=oy;function a(c,f,p){return typeof p!="function"?a(c,f,()=>{}):i(c,f,function g(y,b,E,v,S,w){const _=p(y,b,E,v,S,w);return _!==void 0?!!_:i(y,b,g,w)},new Map)}function i(c,f,p,g){if(f===c)return!0;switch(typeof f){case"object":return o(c,f,p,g);case"function":return Object.keys(f).length>0?i(c,{...f},p,g):r.eq(c,f);default:return t.isObject(c)?typeof f=="string"?f==="":!0:r.eq(c,f)}}function o(c,f,p,g){if(f==null)return!0;if(Array.isArray(f))return s(c,f,p,g);if(f instanceof Map)return l(c,f,p,g);if(f instanceof Set)return u(c,f,p,g);const y=Object.keys(f);if(c==null)return y.length===0;if(y.length===0)return!0;if(g!=null&&g.has(f))return g.get(f)===c;g==null||g.set(f,c);try{for(let b=0;b<y.length;b++){const E=y[b];if(!n.isPrimitive(c)&&!(E in c)||f[E]===void 0&&c[E]!==void 0||f[E]===null&&c[E]!==null||!p(c[E],f[E],E,c,f,g))return!1}return!0}finally{g==null||g.delete(f)}}function l(c,f,p,g){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[y,b]of f.entries()){const E=c.get(y);if(p(E,b,y,c,f,g)===!1)return!1}return!0}function s(c,f,p,g){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const y=new Set;for(let b=0;b<f.length;b++){const E=f[b];let v=!1;for(let S=0;S<c.length;S++){if(y.has(S))continue;const w=c[S];let _=!1;if(p(w,E,b,c,f,g)&&(_=!0),_){y.add(S),v=!0;break}}if(!v)return!1}return!0}function u(c,f,p,g){return f.size===0?!0:c instanceof Set?s([...c],[...f],p,g):!1}e.isMatchWith=a,e.isSetMatch=u})(kC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kC;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(ry);var MC={},ly={},PC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(PC);var sy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(sy);var uy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",s="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",p="[object ArrayBuffer]",g="[object Object]",y="[object Error]",b="[object DataView]",E="[object Uint8Array]",v="[object Uint8ClampedArray]",S="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",T="[object Int8Array]",A="[object Int16Array]",N="[object Int32Array]",k="[object BigInt64Array]",I="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=c,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=b,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=I,e.float64ArrayTag=O,e.functionTag=f,e.int16ArrayTag=A,e.int32ArrayTag=N,e.int8ArrayTag=T,e.mapTag=s,e.numberTag=r,e.objectTag=g,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=S,e.uint32ArrayTag=w,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=v})(uy);var IC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(IC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PC,n=sy,r=uy,a=iy,i=IC;function o(c,f){return l(c,void 0,c,new Map,f)}function l(c,f,p,g=new Map,y=void 0){const b=y==null?void 0:y(c,f,p,g);if(b!==void 0)return b;if(a.isPrimitive(c))return c;if(g.has(c))return g.get(c);if(Array.isArray(c)){const E=new Array(c.length);g.set(c,E);for(let v=0;v<c.length;v++)E[v]=l(c[v],v,p,g,y);return Object.hasOwn(c,"index")&&(E.index=c.index),Object.hasOwn(c,"input")&&(E.input=c.input),E}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const E=new RegExp(c.source,c.flags);return E.lastIndex=c.lastIndex,E}if(c instanceof Map){const E=new Map;g.set(c,E);for(const[v,S]of c)E.set(v,l(S,v,p,g,y));return E}if(c instanceof Set){const E=new Set;g.set(c,E);for(const v of c)E.add(l(v,void 0,p,g,y));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(i.isTypedArray(c)){const E=new(Object.getPrototypeOf(c)).constructor(c.length);g.set(c,E);for(let v=0;v<c.length;v++)E[v]=l(c[v],v,p,g,y);return E}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const E=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return g.set(c,E),s(E,c,p,g,y),E}if(typeof File<"u"&&c instanceof File){const E=new File([c],c.name,{type:c.type});return g.set(c,E),s(E,c,p,g,y),E}if(typeof Blob<"u"&&c instanceof Blob){const E=new Blob([c],{type:c.type});return g.set(c,E),s(E,c,p,g,y),E}if(c instanceof Error){const E=new c.constructor;return g.set(c,E),E.message=c.message,E.name=c.name,E.stack=c.stack,E.cause=c.cause,s(E,c,p,g,y),E}if(c instanceof Boolean){const E=new Boolean(c.valueOf());return g.set(c,E),s(E,c,p,g,y),E}if(c instanceof Number){const E=new Number(c.valueOf());return g.set(c,E),s(E,c,p,g,y),E}if(c instanceof String){const E=new String(c.valueOf());return g.set(c,E),s(E,c,p,g,y),E}if(typeof c=="object"&&u(c)){const E=Object.create(Object.getPrototypeOf(c));return g.set(c,E),s(E,c,p,g,y),E}return c}function s(c,f,p=c,g,y){const b=[...Object.keys(f),...t.getSymbols(f)];for(let E=0;E<b.length;E++){const v=b[E],S=Object.getOwnPropertyDescriptor(c,v);(S==null||S.writable)&&(c[v]=l(f[v],v,p,g,y))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=s})(ly);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ly;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(MC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ry,n=MC;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(NC);var DC={},OC={},RC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ly,n=uy;function r(a,i){return t.cloneDeepWith(a,(o,l,s,u)=>{const c=i==null?void 0:i(o,l,s,u);if(c!==void 0)return c;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case n.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(RC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RC;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(OC);var jC={},cy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(cy);var LC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sy;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(LC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qg,n=cy,r=LC,a=Rd;function i(o,l){let s;if(Array.isArray(l)?s=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?s=a.toPath(l):s=[l],s.length===0)return!1;let u=o;for(let c=0;c<s.length;c++){const f=s[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(jC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ry,n=Od,r=OC,a=Dd,i=jC;function o(l,s){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return s=r.cloneDeep(s),function(u){const c=a.get(u,l);return c===void 0?i.has(u,l):s===void 0?c===void 0:t.isMatch(c,s)}}e.matchesProperty=o})(DC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ny,n=AC,r=NC,a=DC;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(CC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EC,n=ny,r=wC,a=CC;function i(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(SC);var ZR=SC.uniqBy;const Cx=or(ZR);function UC(e,t,n){return t===!0?Cx(e,n):typeof t=="function"?Cx(e,t):e}var zC={exports:{}},BC={},qC={exports:{}},HC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So=x;function QR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ej=typeof Object.is=="function"?Object.is:QR,tj=So.useState,nj=So.useEffect,rj=So.useLayoutEffect,aj=So.useDebugValue;function ij(e,t){var n=t(),r=tj({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return rj(function(){a.value=n,a.getSnapshot=t,Sm(a)&&i({inst:a})},[e,n,t]),nj(function(){return Sm(a)&&i({inst:a}),e(function(){Sm(a)&&i({inst:a})})},[e]),aj(n),n}function Sm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ej(e,n)}catch{return!0}}function oj(e,t){return t()}var lj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oj:ij;HC.useSyncExternalStore=So.useSyncExternalStore!==void 0?So.useSyncExternalStore:lj;qC.exports=HC;var sj=qC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud=x,uj=sj;function cj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dj=typeof Object.is=="function"?Object.is:cj,fj=uj.useSyncExternalStore,mj=Ud.useRef,pj=Ud.useEffect,hj=Ud.useMemo,gj=Ud.useDebugValue;BC.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=mj(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=hj(function(){function s(g){if(!u){if(u=!0,c=g,g=r(g),a!==void 0&&o.hasValue){var y=o.value;if(a(y,g))return f=y}return f=g}if(y=f,dj(c,g))return y;var b=r(g);return a!==void 0&&a(y,b)?(c=g,y):(c=g,f=b)}var u=!1,c,f,p=n===void 0?null:n;return[function(){return s(t())},p===null?void 0:function(){return s(p())}]},[t,n,r,a]);var l=fj(e,i[0],i[1]);return pj(function(){o.hasValue=!0,o.value=l},[l]),gj(l),l};zC.exports=BC;var yj=zC.exports,dy=x.createContext(null),vj=e=>e,Ve=()=>{var e=x.useContext(dy);return e?e.store.dispatch:vj},ju=()=>{},xj=()=>ju,bj=(e,t)=>e===t;function Z(e){var t=x.useContext(dy);return yj.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:xj,t?t.store.getState:ju,t?t.store.getState:ju,t?e:ju,bj)}function Sj(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Ej(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function wj(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Ax=e=>Array.isArray(e)?e:[e];function _j(e){const t=Array.isArray(e[0])?e[0]:e;return wj(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Tj(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var Cj=class{constructor(e){this.value=e}deref(){return this.value}},Aj=typeof WeakRef<"u"?WeakRef:Cj,Nj=0,Nx=1;function au(){return{s:Nj,v:void 0,o:null,p:null}}function VC(e,t={}){let n=au();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var f;let l=n;const{length:s}=arguments;for(let p=0,g=s;p<g;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const E=b.get(y);E===void 0?(l=au(),b.set(y,l)):l=E}else{let b=l.p;b===null&&(l.p=b=new Map);const E=b.get(y);E===void 0?(l=au(),b.set(y,l)):l=E}}const u=l;let c;if(l.s===Nx)c=l.v;else if(c=e.apply(null,arguments),i++,r){const p=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;p!=null&&r(p,c)&&(c=p,i!==0&&i--),a=typeof c=="object"&&c!==null||typeof c=="function"?new Aj(c):c}return u.s=Nx,u.v=c,c}return o.clearCache=()=>{n=au(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function kj(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,l,s={},u=a.pop();typeof u=="object"&&(s=u,u=a.pop()),Sj(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...s},{memoize:f,memoizeOptions:p=[],argsMemoize:g=VC,argsMemoizeOptions:y=[]}=c,b=Ax(p),E=Ax(y),v=_j(a),S=f(function(){return i++,u.apply(null,arguments)},...b),w=g(function(){o++;const T=Tj(v,arguments);return l=S.apply(null,T),l},...E);return Object.assign(w,{resultFunc:u,memoizedResultFunc:S,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var U=kj(VC),Mj=Object.assign((e,t=U)=>{Ej(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(i=>e[i]);return t(r,(...i)=>i.reduce((o,l,s)=>(o[n[s]]=l,o),{}))},{withTypes:()=>Mj}),$C={},GC={},FC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),l=t(a);if(o===l&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=n})(FC);var YC={},fy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(fy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fy,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(YC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FC,n=YC,r=Rd;function a(i,o,l,s){if(i==null)return[];l=s?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(g=>String(g));const u=(g,y)=>{let b=g;for(let E=0;E<y.length&&b!=null;++E)b=b[y[E]];return b},c=(g,y)=>y==null||g==null?y:typeof g=="object"&&"key"in g?Object.hasOwn(y,g.key)?y[g.key]:u(y,g.path):typeof g=="function"?g(y):Array.isArray(g)?u(y,g):typeof y=="object"?y[g]:y,f=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||n.isKey(g)?g:{key:g,path:r.toPath(g)}));return i.map(g=>({original:g,criteria:f.map(y=>c(y,g))})).slice().sort((g,y)=>{for(let b=0;b<f.length;b++){const E=t.compareValues(g.criteria[b],y.criteria[b],l[b]);if(E!==0)return E}return 0}).map(g=>g.original)}e.orderBy=a})(GC);var KC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(l,s)=>{for(let u=0;u<l.length;u++){const c=l[u];Array.isArray(c)&&s<i?o(c,s+1):a.push(c)}};return o(n,0),a}e.flatten=t})(KC);var my={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cy,n=Ld,r=ay,a=oy;function i(o,l,s){return r.isObject(s)&&(typeof l=="number"&&n.isArrayLike(s)&&t.isIndex(l)&&l<s.length||typeof l=="string"&&l in s)?a.eq(s[l],o):!1}e.isIterateeCall=i})(my);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GC,n=KC,r=my;function a(i,...o){const l=o.length;return l>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})($C);var Pj=$C.sortBy;const zd=or(Pj);var JC=e=>e.legend.settings,Ij=e=>e.legend.size,Dj=e=>e.legend.payload,Oj=U([Dj,JC],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?zd(r,n):r});function Rj(){return Z(Oj)}var iu=1;function XC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>iu||Math.abs(o.left-t.left)>iu||Math.abs(o.top-t.top)>iu||Math.abs(o.width-t.width)>iu)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function St(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jj=typeof Symbol=="function"&&Symbol.observable||"@@observable",kx=jj,Em=()=>Math.random().toString(36).substring(7).split("").join("."),Lj={INIT:`@@redux/INIT${Em()}`,REPLACE:`@@redux/REPLACE${Em()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Em()}`},Ec=Lj;function py(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function WC(e,t,n){if(typeof e!="function")throw new Error(St(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(St(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(St(1));return n(WC)(e,t)}let r=e,a=t,i=new Map,o=i,l=0,s=!1;function u(){o===i&&(o=new Map,i.forEach((E,v)=>{o.set(v,E)}))}function c(){if(s)throw new Error(St(3));return a}function f(E){if(typeof E!="function")throw new Error(St(4));if(s)throw new Error(St(5));let v=!0;u();const S=l++;return o.set(S,E),function(){if(v){if(s)throw new Error(St(6));v=!1,u(),o.delete(S),i=null}}}function p(E){if(!py(E))throw new Error(St(7));if(typeof E.type>"u")throw new Error(St(8));if(typeof E.type!="string")throw new Error(St(17));if(s)throw new Error(St(9));try{s=!0,a=r(a,E)}finally{s=!1}return(i=o).forEach(S=>{S()}),E}function g(E){if(typeof E!="function")throw new Error(St(10));r=E,p({type:Ec.REPLACE})}function y(){const E=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(St(11));function S(){const _=v;_.next&&_.next(c())}return S(),{unsubscribe:E(S)}},[kx](){return this}}}return p({type:Ec.INIT}),{dispatch:p,subscribe:f,getState:c,replaceReducer:g,[kx]:y}}function Uj(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ec.INIT})>"u")throw new Error(St(12));if(typeof n(void 0,{type:Ec.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(St(13))})}function ZC(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{Uj(n)}catch(i){a=i}return function(o={},l){if(a)throw a;let s=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],p=n[f],g=o[f],y=p(g,l);if(typeof y>"u")throw l&&l.type,new Error(St(14));u[f]=y,s=s||y!==g}return s=s||r.length!==Object.keys(o).length,s?u:o}}function wc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function zj(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(St(15))};const o={getState:a.getState,dispatch:(s,...u)=>i(s,...u)},l=e.map(s=>s(o));return i=wc(...l)(a.dispatch),{...a,dispatch:i}}}function QC(e){return py(e)&&"type"in e&&typeof e.type=="string"}var eA=Symbol.for("immer-nothing"),Mx=Symbol.for("immer-draftable"),pn=Symbol.for("immer-state");function Bn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zl=Object.getPrototypeOf;function si(e){return!!e&&!!e[pn]}function Or(e){var t;return e?tA(e)||Array.isArray(e)||!!e[Mx]||!!((t=e.constructor)!=null&&t[Mx])||Ts(e)||qd(e):!1}var Bj=Object.prototype.constructor.toString(),Px=new WeakMap;function tA(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Px.get(n);return r===void 0&&(r=Function.toString.call(n),Px.set(n,r)),r===Bj}function _c(e,t,n=!0){Bd(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Bd(e){const t=e[pn];return t?t.type_:Array.isArray(e)?1:Ts(e)?2:qd(e)?3:0}function Gp(e,t){return Bd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nA(e,t,n){const r=Bd(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function qj(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ts(e){return e instanceof Map}function qd(e){return e instanceof Set}function Ba(e){return e.copy_||e.base_}function Fp(e,t){if(Ts(e))return new Map(e);if(qd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=tA(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[pn];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Zl(e),r)}else{const r=Zl(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function hy(e,t=!1){return Hd(e)||si(e)||!Or(e)||(Bd(e)>1&&Object.defineProperties(e,{set:ou,add:ou,clear:ou,delete:ou}),Object.freeze(e),t&&Object.values(e).forEach(n=>hy(n,!0))),e}function Hj(){Bn(2)}var ou={value:Hj};function Hd(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Vj={};function ui(e){const t=Vj[e];return t||Bn(0,e),t}var Ql;function rA(){return Ql}function $j(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ix(e,t){t&&(ui("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Yp(e){Kp(e),e.drafts_.forEach(Gj),e.drafts_=null}function Kp(e){e===Ql&&(Ql=e.parent_)}function Dx(e){return Ql=$j(Ql,e)}function Gj(e){const t=e[pn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ox(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[pn].modified_&&(Yp(t),Bn(4)),Or(e)&&(e=Tc(t,e),t.parent_||Cc(t,e)),t.patches_&&ui("Patches").generateReplacementPatches_(n[pn].base_,e,t.patches_,t.inversePatches_)):e=Tc(t,n,[]),Yp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eA?e:void 0}function Tc(e,t,n){if(Hd(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[pn];if(!a)return _c(t,(i,o)=>Rx(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Cc(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),_c(o,(s,u)=>Rx(e,a,i,s,u,n,l),r),Cc(e,i,!1),n&&e.patches_&&ui("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function Rx(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=Hd(a);if(!(l&&!o)){if(si(a)){const s=i&&t&&t.type_!==3&&!Gp(t.assigned_,r)?i.concat(r):void 0,u=Tc(e,a,s);if(nA(n,r,u),si(u))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(Or(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&l)return;Tc(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Ts(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Cc(e,a)}}}function Cc(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&hy(t,n)}function Fj(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:rA(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=gy;n&&(a=[r],i=es);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return r.draft_=l,r.revoke_=o,l}var gy={get(e,t){if(t===pn)return e;const n=Ba(e);if(!Gp(n,t))return Yj(e,n,t);const r=n[t];return e.finalized_||!Or(r)?r:r===wm(e.base_,t)?(_m(e),e.copy_[t]=Xp(r,e)):r},has(e,t){return t in Ba(e)},ownKeys(e){return Reflect.ownKeys(Ba(e))},set(e,t,n){const r=aA(Ba(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=wm(Ba(e),t),i=a==null?void 0:a[pn];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(qj(n,a)&&(n!==void 0||Gp(e.base_,t)))return!0;_m(e),Jp(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_m(e),Jp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ba(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Bn(11)},getPrototypeOf(e){return Zl(e.base_)},setPrototypeOf(){Bn(12)}},es={};_c(gy,(e,t)=>{es[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});es.deleteProperty=function(e,t){return es.set.call(this,e,t,void 0)};es.set=function(e,t,n){return gy.set.call(this,e[0],t,n,e[0])};function wm(e,t){const n=e[pn];return(n?Ba(n):e)[t]}function Yj(e,t,n){var a;const r=aA(t,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function aA(e,t){if(!(t in e))return;let n=Zl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Zl(n)}}function Jp(e){e.modified_||(e.modified_=!0,e.parent_&&Jp(e.parent_))}function _m(e){e.copy_||(e.copy_=Fp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Kj=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...u){return o.produce(s,c=>n.call(this,c,...u))}}typeof n!="function"&&Bn(6),r!==void 0&&typeof r!="function"&&Bn(7);let a;if(Or(t)){const i=Dx(this),o=Xp(t,void 0);let l=!0;try{a=n(o),l=!1}finally{l?Yp(i):Kp(i)}return Ix(i,r),Ox(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===eA&&(a=void 0),this.autoFreeze_&&hy(a,!0),r){const i=[],o=[];ui("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else Bn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,s=>t(s,...l));let r,a;return[this.produce(t,n,(o,l)=>{r=o,a=l}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Or(e)||Bn(8),si(e)&&(e=Cr(e));const t=Dx(this),n=Xp(e,void 0);return n[pn].isManual_=!0,Kp(t),n}finishDraft(e,t){const n=e&&e[pn];(!n||!n.isManual_)&&Bn(9);const{scope_:r}=n;return Ix(r,t),Ox(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=ui("Patches").applyPatches_;return si(e)?r(e,t):this.produce(e,a=>r(a,t))}};function Xp(e,t){const n=Ts(e)?ui("MapSet").proxyMap_(e,t):qd(e)?ui("MapSet").proxySet_(e,t):Fj(e,t);return(t?t.scope_:rA()).drafts_.push(n),n}function Cr(e){return si(e)||Bn(10,e),iA(e)}function iA(e){if(!Or(e)||Hd(e))return e;const t=e[pn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Fp(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Fp(e,!0);return _c(n,(a,i)=>{nA(n,a,iA(i))},r),t&&(t.finalized_=!1),n}var Wp=new Kj,oA=Wp.produce,Jj=Wp.setUseStrictIteration.bind(Wp);function lA(e){return({dispatch:n,getState:r})=>a=>i=>typeof i=="function"?i(n,r,e):a(i)}var Xj=lA(),Wj=lA,Zj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wc:wc.apply(null,arguments)};function Dn(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(dn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>QC(r)&&r.type===e,n}var sA=class yl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,yl.prototype)}static get[Symbol.species](){return yl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new yl(...t[0].concat(this)):new yl(...t.concat(this))}};function jx(e){return Or(e)?oA(e,()=>{}):e}function lu(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Qj(e){return typeof e=="boolean"}var e3=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new sA;return n&&(Qj(n)?o.push(Xj):o.push(Wj(n.extraArgument))),o},uA="RTK_autoBatch",it=()=>e=>({payload:e,meta:{[uA]:!0}}),Lx=e=>t=>{setTimeout(t,e)},cA=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const l=new Set,s=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Lx(10):e.type==="callback"?e.queueNotification:Lx(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>a&&c(),p=r.subscribe(f);return l.add(c),()=>{p(),l.delete(c)}},dispatch(c){var f;try{return a=!((f=c==null?void 0:c.meta)!=null&&f[uA]),i=!a,i&&(o||(o=!0,s(u))),r.dispatch(c)}finally{a=!0}}})},t3=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new sA(e);return r&&a.push(cA(typeof r=="object"?r:void 0)),a};function n3(e){const t=e3(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(py(n))l=ZC(n);else throw new Error(dn(1));let s;typeof r=="function"?s=r(t):s=t();let u=wc;a&&(u=Zj({trace:!1,...typeof a=="object"&&a}));const c=zj(...s),f=t3(c);let p=typeof o=="function"?o(f):f();const g=u(...p);return WC(l,i,g)}function dA(e){const t={},n=[];let r;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(dn(28));if(l in t)throw new Error(dn(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}Jj(!1);function r3(e){return typeof e=="function"}function a3(e,t){let[n,r,a]=dA(t),i;if(r3(e))i=()=>jx(e());else{const l=jx(e);i=()=>l}function o(l=i(),s){let u=[n[s.type],...r.filter(({matcher:c})=>c(s)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[a]),u.reduce((c,f)=>{if(f)if(si(c)){const g=f(c,s);return g===void 0?c:g}else{if(Or(c))return oA(c,p=>f(p,s));{const p=f(c,s);if(p===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return c},l)}return o.getInitialState=i,o}var i3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",o3=(e=21)=>{let t="",n=e;for(;n--;)t+=i3[Math.random()*64|0];return t},l3=Symbol.for("rtk-slice-createasyncthunk");function s3(e,t){return`${e}/${t}`}function u3({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[l3];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(dn(11));const l=(typeof a.reducers=="function"?a.reducers(d3()):a.reducers)||{},s=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(_,T){const A=typeof _=="string"?_:_.type;if(!A)throw new Error(dn(12));if(A in u.sliceCaseReducersByType)throw new Error(dn(13));return u.sliceCaseReducersByType[A]=T,c},addMatcher(_,T){return u.sliceMatchers.push({matcher:_,reducer:T}),c},exposeAction(_,T){return u.actionCreators[_]=T,c},exposeCaseReducer(_,T){return u.sliceCaseReducersByName[_]=T,c}};s.forEach(_=>{const T=l[_],A={reducerName:_,type:s3(i,_),createNotation:typeof a.reducers=="function"};m3(T)?h3(A,T,c,t):f3(A,T,c)});function f(){const[_={},T=[],A=void 0]=typeof a.extraReducers=="function"?dA(a.extraReducers):[a.extraReducers],N={..._,...u.sliceCaseReducersByType};return a3(a.initialState,k=>{for(let I in N)k.addCase(I,N[I]);for(let I of u.sliceMatchers)k.addMatcher(I.matcher,I.reducer);for(let I of T)k.addMatcher(I.matcher,I.reducer);A&&k.addDefaultCase(A)})}const p=_=>_,g=new Map,y=new WeakMap;let b;function E(_,T){return b||(b=f()),b(_,T)}function v(){return b||(b=f()),b.getInitialState()}function S(_,T=!1){function A(k){let I=k[_];return typeof I>"u"&&T&&(I=lu(y,A,v)),I}function N(k=p){const I=lu(g,T,()=>new WeakMap);return lu(I,k,()=>{const O={};for(const[C,R]of Object.entries(a.selectors??{}))O[C]=c3(R,k,()=>lu(y,k,v),T);return O})}return{reducerPath:_,getSelectors:N,get selectors(){return N(A)},selectSlice:A}}const w={name:i,reducer:E,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...S(o),injectInto(_,{reducerPath:T,...A}={}){const N=T??o;return _.inject({reducerPath:N,reducer:E},A),{...w,...S(N,!0)}}};return w}}function c3(e,t,n,r){function a(i,...o){let l=t(i);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return a.unwrapped=e,a}var Wt=u3();function d3(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function f3({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!p3(r))throw new Error(dn(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Dn(e,o):Dn(e))}function m3(e){return e._reducerDefinitionType==="asyncThunk"}function p3(e){return e._reducerDefinitionType==="reducerWithPrepare"}function h3({type:e,reducerName:t},n,r,a){if(!a)throw new Error(dn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:s,settled:u,options:c}=n,f=a(e,i,c);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),l&&r.addCase(f.pending,l),s&&r.addCase(f.rejected,s),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:o||su,pending:l||su,rejected:s||su,settled:u||su})}function su(){}var g3="task",fA="listener",mA="completed",yy="cancelled",y3=`task-${yy}`,v3=`task-${mA}`,Zp=`${fA}-${yy}`,x3=`${fA}-${mA}`,Vd=class{constructor(e){Rf(this,"name","TaskAbortError");Rf(this,"message");this.code=e,this.message=`${g3} ${yy} (reason: ${e})`}},vy=(e,t)=>{if(typeof e!="function")throw new TypeError(dn(32))},Ac=()=>{},pA=(e,t=Ac)=>(e.catch(t),e),hA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Wa=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Za=e=>{if(e.aborted){const{reason:t}=e;throw new Vd(t)}};function gA(e,t){let n=Ac;return new Promise((r,a)=>{const i=()=>a(new Vd(e.reason));if(e.aborted){i();return}n=hA(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Ac})}var b3=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Vd?"cancelled":"rejected",error:n}}finally{t==null||t()}},Nc=e=>t=>pA(gA(e,t).then(n=>(Za(e),n))),yA=e=>{const t=Nc(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:eo}=Object,Ux={},$d="listenerMiddleware",S3=(e,t)=>{const n=r=>hA(e,()=>Wa(r,e.reason));return(r,a)=>{vy(r);const i=new AbortController;n(i);const o=b3(async()=>{Za(e),Za(i.signal);const l=await r({pause:Nc(i.signal),delay:yA(i.signal),signal:i.signal});return Za(i.signal),l},()=>Wa(i,v3));return a!=null&&a.autoJoin&&t.push(o.catch(Ac)),{result:Nc(e)(o),cancel(){Wa(i,y3)}}}},E3=(e,t)=>{const n=async(r,a)=>{Za(t);let i=()=>{};const l=[new Promise((s,u)=>{let c=e({predicate:r,effect:(f,p)=>{p.unsubscribe(),s([f,p.getState(),p.getOriginalState()])}});i=()=>{c(),u()}})];a!=null&&l.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await gA(t,Promise.race(l));return Za(t),s}finally{i()}};return(r,a)=>pA(n(r,a))},vA=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=Dn(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(dn(21));return vy(i),{predicate:a,type:t,effect:i}},xA=eo(e=>{const{type:t,predicate:n,effect:r}=vA(e);return{id:o3(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(dn(22))}}},{withTypes:()=>xA}),zx=(e,t)=>{const{type:n,effect:r,predicate:a}=vA(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},Qp=e=>{e.pending.forEach(t=>{Wa(t,Zp)})},w3=(e,t)=>()=>{for(const n of t.keys())Qp(n);e.clear()},Bx=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},bA=eo(Dn(`${$d}/add`),{withTypes:()=>bA}),_3=Dn(`${$d}/removeAll`),SA=eo(Dn(`${$d}/remove`),{withTypes:()=>SA}),T3=(...e)=>{console.error(`${$d}/error`,...e)},Cs=(e={})=>{const t=new Map,n=new Map,r=g=>{const y=n.get(g)??0;n.set(g,y+1)},a=g=>{const y=n.get(g)??1;y===1?n.delete(g):n.set(g,y-1)},{extra:i,onError:o=T3}=e;vy(o);const l=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),y=>{g.unsubscribe(),y!=null&&y.cancelActive&&Qp(g)}),s=g=>{const y=zx(t,g)??xA(g);return l(y)};eo(s,{withTypes:()=>s});const u=g=>{const y=zx(t,g);return y&&(y.unsubscribe(),g.cancelActive&&Qp(y)),!!y};eo(u,{withTypes:()=>u});const c=async(g,y,b,E)=>{const v=new AbortController,S=E3(s,v.signal),w=[];try{g.pending.add(v),r(g),await Promise.resolve(g.effect(y,eo({},b,{getOriginalState:E,condition:(_,T)=>S(_,T).then(Boolean),take:S,delay:yA(v.signal),pause:Nc(v.signal),extra:i,signal:v.signal,fork:S3(v.signal,w),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((_,T,A)=>{_!==v&&(Wa(_,Zp),A.delete(_))})},cancel:()=>{Wa(v,Zp),g.pending.delete(v)},throwIfCancelled:()=>{Za(v.signal)}})))}catch(_){_ instanceof Vd||Bx(o,_,{raisedBy:"effect"})}finally{await Promise.all(w),Wa(v,x3),a(g),g.pending.delete(v)}},f=w3(t,n);return{middleware:g=>y=>b=>{if(!QC(b))return y(b);if(bA.match(b))return s(b.payload);if(_3.match(b)){f();return}if(SA.match(b))return u(b.payload);let E=g.getState();const v=()=>{if(E===Ux)throw new Error(dn(23));return E};let S;try{if(S=y(b),t.size>0){const w=g.getState(),_=Array.from(t.values());for(const T of _){let A=!1;try{A=T.predicate(b,w,E)}catch(N){A=!1,Bx(o,N,{raisedBy:"predicate"})}A&&c(T,b,g,v)}}}finally{E=Ux}return S},startListening:s,stopListening:u,clearListeners:f}};function dn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var C3={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},EA=Wt({name:"chartLayout",initialState:C3,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:A3,setLayout:N3,setChartSize:k3,setScale:M3}=EA.actions,P3=EA.reducer;function wA(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function qx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qx(Object(n),!0).forEach(function(r){I3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I3(e,t,n){return(t=D3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D3(e){var t=O3(e,"string");return typeof t=="symbol"?t:t+""}function O3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yt(e,t,n){return He(e)||He(t)?n:rr(t)?bo(e,t,n):typeof t=="function"?t(e):n}var R3=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&W(e[i]))return $i($i({},e),{},{[i]:e[i]+(r||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&W(e[o]))return $i($i({},e),{},{[o]:e[o]+(a||0)})}return e},ka=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",_A=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===n&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(n),o},TA=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:l,isCategorical:s,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:p,axisType:g}=e;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=a==="category"&&o.bandwidth?o.bandwidth()/y:0;if(b=g==="angleAxis"&&i&&i.length>=2?Ft(i[0]-i[1])*2*b:b,f||p){var E=(f||p||[]).map((v,S)=>{var w=r?r.indexOf(v):v;return{coordinate:o(w)+b,value:v,offset:b,index:S}});return E.filter(v=>!Vn(v.coordinate))}return s&&u?u.map((v,S)=>({coordinate:o(v)+b,value:v,index:S,offset:b})):o.ticks&&c!=null?o.ticks(c).map((v,S)=>({coordinate:o(v)+b,value:v,offset:b,index:S})):o.domain().map((v,S)=>({coordinate:o(v)+b,value:r?r[v]:v,index:S,offset:b}))},Hx=1e-4,j3=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Hx,i=Math.max(r[0],r[1])+Hx,o=e(t[0]),l=e(t[n-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[n-1]])}},L3=(e,t)=>{if(!t||t.length!==2||!W(t[0])||!W(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!W(e[0])||e[0]<n)&&(a[0]=n),(!W(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},U3=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,o=0;o<t;++o){var l=Vn(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1])}},z3=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var o=Vn(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},B3={sign:U3,expand:wR,none:xo,silhouette:_R,wiggle:TR,positive:z3},q3=(e,t,n)=>{var r=B3[n],a=ER().keys(t).value((i,o)=>Number(yt(i,o,0))).order(Vp).offset(r);return a(e)};function H3(e){return e==null?void 0:String(e)}function Vx(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!He(a[t.dataKey])){var l=vC(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var s=yt(a,He(o)?t.dataKey:o);return He(s)?null:t.scale(s)}var $x=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var l=yt(i,t.dataKey,t.scale.domain()[o]);return He(l)?null:t.scale(l)-a/2+r},V3=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},$3=e=>{var t=e.flat(2).filter(W);return[Math.min(...t),Math.max(...t)]},G3=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],F3=(e,t,n)=>{if(e!=null)return G3(Object.keys(e).reduce((r,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((s,u)=>{var c=wA(u,t,n),f=$3(c);return[Math.min(s[0],f[0]),Math.max(s[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},Gx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Eo=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=zd(t,c=>c.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var s=a[o],u=a[o-1];i=Math.min((s.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function Yx(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return $i($i({},t),{},{dataKey:n,payload:r,value:a,name:i})}function Gd(e,t){if(e)return String(e);if(typeof t=="string")return t}var Y3=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},K3=(e,t)=>t==="centric"?e.angle:e.radius,Hr=e=>e.layout.width,Vr=e=>e.layout.height,J3=e=>e.layout.scale,CA=e=>e.layout.margin,Fd=U(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Yd=U(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),X3="data-recharts-item-index",W3="data-recharts-item-data-key",As=60;function Kx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(n),!0).forEach(function(r){Z3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z3(e,t,n){return(t=Q3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q3(e){var t=e5(e,"string");return typeof t=="symbol"?t:t+""}function e5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t5=e=>e.brush.height;function n5(e){var t=Yd(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:As;return n+a}return n},0)}function r5(e){var t=Yd(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:As;return n+a}return n},0)}function a5(e){var t=Fd(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function i5(e){var t=Fd(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var vt=U([Hr,Vr,CA,t5,n5,r5,a5,i5,JC,Ij],(e,t,n,r,a,i,o,l,s,u)=>{var c={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+l},p=uu(uu({},f),c),g=p.bottom;p.bottom+=r,p=R3(p,s,u);var y=e-p.left-p.right,b=t-p.top-p.bottom;return uu(uu({brushBottom:g},p),{},{width:Math.max(y,0),height:Math.max(b,0)})}),o5=U(vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),xy=U(Hr,Vr,(e,t)=>({x:0,y:0,width:e,height:t})),l5=x.createContext(null),Dt=()=>x.useContext(l5)!=null,Kd=e=>e.brush,Jd=U([Kd,vt,CA],(e,t,n)=>({height:e.height,x:W(e.x)?e.x:t.left,y:W(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:W(e.width)?e.width:t.width})),AA={},NA={},kA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,l=null;const s=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),c=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},f=()=>{u&&c(),b()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},y=()=>{p!==null&&(clearTimeout(p),p=null)},b=()=>{y(),o=void 0,l=null},E=()=>{c()},v=function(...S){if(a!=null&&a.aborted)return;o=this,l=S;const w=p==null;g(),s&&w&&c()};return v.schedule=g,v.cancel=b,v.flush=E,a==null||a.addEventListener("abort",b,{once:!0}),v}e.debounce=t})(kA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kA;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:s}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let c,f=null;const p=t.debounce(function(...b){c=r.apply(this,b),f=null},a,{edges:u}),g=function(...b){return s!=null&&(f===null&&(f=Date.now()),Date.now()-f>=s)?(c=r.apply(this,b),f=Date.now(),p.cancel(),p.schedule(),c):(p.apply(this,b),c)},y=()=>(p.flush(),c);return g.cancel=p.cancel,g.flush=y,g}e.debounce=n})(NA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NA;function n(r,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:l})}e.throttle=n})(AA);var s5=AA.throttle;const u5=or(s5);var kc=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},MA=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,l=Dr(r)?e:Number(r),s=Dr(a)?t:Number(a);return i&&i>0&&(l?s=l/i:s&&(l=s*i),o&&s!=null&&s>o&&(s=o)),{calculatedWidth:l,calculatedHeight:s}},c5={width:0,height:0,overflow:"visible"},d5={width:0,overflowX:"visible"},f5={height:0,overflowY:"visible"},m5={},p5=e=>{var{width:t,height:n}=e,r=Dr(t),a=Dr(n);return r&&a?c5:r?d5:a?f5:m5};function h5(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function We(e){return Number.isFinite(e)}function ar(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eh.apply(null,arguments)}function Jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jx(Object(n),!0).forEach(function(r){g5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g5(e,t,n){return(t=y5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y5(e){var t=v5(e,"string");return typeof t=="symbol"?t:t+""}function v5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PA=x.createContext({width:-1,height:-1});function x5(e){return ar(e.width)&&ar(e.height)}function IA(e){var{children:t,width:n,height:r}=e,a=x.useMemo(()=>({width:n,height:r}),[n,r]);return x5(a)?x.createElement(PA.Provider,{value:a},t):null}var by=()=>x.useContext(PA),b5=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:s,children:u,debounce:c=0,id:f,className:p,onResize:g,style:y={}}=e,b=x.useRef(null),E=x.useRef();E.current=g,x.useImperativeHandle(t,()=>b.current);var[v,S]=x.useState({containerWidth:r.width,containerHeight:r.height}),w=x.useCallback((k,I)=>{S(O=>{var C=Math.round(k),R=Math.round(I);return O.containerWidth===C&&O.containerHeight===R?O:{containerWidth:C,containerHeight:R}})},[]);x.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return Lo;var k=R=>{var G,{width:$,height:K}=R[0].contentRect;w($,K),(G=E.current)===null||G===void 0||G.call(E,$,K)};c>0&&(k=u5(k,c,{trailing:!0,leading:!1}));var I=new ResizeObserver(k),{width:O,height:C}=b.current.getBoundingClientRect();return w(O,C),I.observe(b.current),()=>{I.disconnect()}},[w,c]);var{containerWidth:_,containerHeight:T}=v;kc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:A,calculatedHeight:N}=MA(_,T,{width:a,height:i,aspect:n,maxHeight:s});return kc(A!=null&&A>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,N,a,i,o,l,n),x.createElement("div",{id:f?"".concat(f):void 0,className:Ce("recharts-responsive-container",p),style:Xx(Xx({},y),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:s}),ref:b},x.createElement("div",{style:p5({width:a,height:i})},x.createElement(IA,{width:A,height:N},u)))}),Wx=x.forwardRef((e,t)=>{var n=by();if(ar(n.width)&&ar(n.height))return e.children;var{width:r,height:a}=h5({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=MA(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return W(i)&&W(o)?x.createElement(IA,{width:i,height:o},e.children):x.createElement(b5,eh({},e,{width:r,height:a,ref:t}))});function DA(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Xd=()=>{var e,t=Dt(),n=Z(o5),r=Z(Jd),a=(e=Z(Kd))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},S5={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},OA=()=>{var e;return(e=Z(vt))!==null&&e!==void 0?e:S5},Sy=()=>Z(Hr),Ey=()=>Z(Vr),E5=()=>Z(e=>e.layout.margin),Ee=e=>e.layout.layoutType,Ns=()=>Z(Ee),w5=()=>{var e=Ns();return e!==void 0},Wd=e=>{var t=Ve(),n=Dt(),{width:r,height:a}=e,i=by(),o=r,l=a;return i&&(o=i.width>0?i.width:r,l=i.height>0?i.height:a),x.useEffect(()=>{!n&&ar(o)&&ar(l)&&t(k3({width:o,height:l}))},[t,n,o,l]),null},_5={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},RA=Wt({name:"legend",initialState:_5,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:it()},removeLegendPayload:{reducer(e,t){var n=Cr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:it()}}}),{setLegendSize:Zx,setLegendSettings:T5,addLegendPayload:C5,removeLegendPayload:A5}=RA.actions,N5=RA.reducer,k5=["contextPayload"];function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},th.apply(null,arguments)}function Qx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qx(Object(n),!0).forEach(function(r){M5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M5(e,t,n){return(t=P5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P5(e){var t=I5(e,"string");return typeof t=="symbol"?t:t+""}function I5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D5(e,t){if(e==null)return{};var n,r,a=O5(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function O5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function R5(e){return e.value}function j5(e){var{contextPayload:t}=e,n=D5(e,k5),r=UC(t,e.payloadUniqBy,R5),a=wo(wo({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,a):typeof e.content=="function"?x.createElement(e.content,a):x.createElement(WR,a)}function L5(e,t,n,r,a,i){var{layout:o,align:l,verticalAlign:s}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((r||0)-i.width)/2}:u=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(s==="middle"?c={top:((a||0)-i.height)/2}:c=s==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),wo(wo({},u),c)}function U5(e){var t=Ve();return x.useEffect(()=>{t(T5(e))},[t,e]),null}function z5(e){var t=Ve();return x.useEffect(()=>(t(Zx(e)),()=>{t(Zx({width:0,height:0}))}),[t,e]),null}function B5(e,t,n,r){return e==="vertical"&&W(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var q5={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function nh(e){var t=Nt(e,q5),n=Rj(),r=FO(),a=E5(),{width:i,height:o,wrapperStyle:l,portal:s}=t,[u,c]=XC([n]),f=Sy(),p=Ey();if(f==null||p==null)return null;var g=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),y=B5(t.layout,o,i,g),b=s?l:wo(wo({position:"absolute",width:(y==null?void 0:y.width)||i||"auto",height:(y==null?void 0:y.height)||o||"auto"},L5(l,t,a,f,p,u)),l),E=s??r;if(E==null||n==null)return null;var v=x.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:c},x.createElement(U5,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),x.createElement(z5,{width:u.width,height:u.height}),x.createElement(j5,th({},t,y,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return md.createPortal(v,E)}nh.displayName="Legend";function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rh.apply(null,arguments)}function eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eb(Object(n),!0).forEach(function(r){H5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H5(e,t,n){return(t=V5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V5(e){var t=$5(e,"string");return typeof t=="symbol"?t:t+""}function $5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G5(e){return Array.isArray(e)&&rr(e[0])&&rr(e[1])?e.join(" ~ "):e}var F5=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:s,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:p=!1}=e,g=()=>{if(i&&i.length){var T={padding:0,margin:0},A=(l?zd(i,l):i).map((N,k)=>{if(N.type==="none")return null;var I=N.formatter||o||G5,{value:O,name:C}=N,R=O,G=C;if(I){var $=I(O,C,N,k,i);if(Array.isArray($))[R,G]=$;else if($!=null)R=$;else return null}var K=Tm({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:K},rr(G)?x.createElement("span",{className:"recharts-tooltip-item-name"},G):null,rr(G)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},R),x.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},A)}return null},y=Tm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),b=Tm({margin:0},a),E=!He(c),v=E?c:"",S=Ce("recharts-default-tooltip",s),w=Ce("recharts-tooltip-label",u);E&&f&&i!==void 0&&i!==null&&(v=f(c,i));var _=p?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",rh({className:S,style:y},_),x.createElement("p",{className:w,style:b},x.isValidElement(v)?v:"".concat(v)),g())},rl="recharts-tooltip-wrapper",Y5={visibility:"hidden"};function K5(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ce(rl,{["".concat(rl,"-right")]:W(n)&&t&&W(t.x)&&n>=t.x,["".concat(rl,"-left")]:W(n)&&t&&W(t.x)&&n<t.x,["".concat(rl,"-bottom")]:W(r)&&t&&W(t.y)&&r>=t.y,["".concat(rl,"-top")]:W(r)&&t&&W(t.y)&&r<t.y})}function tb(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:s,viewBoxDimension:u}=e;if(i&&W(i[r]))return i[r];var c=n[r]-l-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?c:f;var p=s[r];if(p==null)return 0;if(o[r]){var g=c,y=p;return g<y?Math.max(f,p):Math.max(c,p)}if(u==null)return 0;var b=f+l,E=p+u;return b>E?Math.max(c,p):Math.max(f,p)}function J5(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function X5(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:s}=e,u,c,f;return o.height>0&&o.width>0&&n?(c=tb({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:s,viewBoxDimension:s.width}),f=tb({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:s,viewBoxDimension:s.height}),u=J5({translateX:c,translateY:f,useTranslate3d:l})):u=Y5,{cssProperties:u,cssClasses:K5({translateX:c,translateY:f,coordinate:n})}}function nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nb(Object(n),!0).forEach(function(r){ah(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ah(e,t,n){return(t=W5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W5(e){var t=Z5(e,"string");return typeof t=="symbol"?t:t+""}function Z5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Q5 extends x.PureComponent{constructor(){super(...arguments),ah(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ah(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:s,offset:u,position:c,reverseDirection:f,useTranslate3d:p,viewBox:g,wrapperStyle:y,lastBoundingBox:b,innerRef:E,hasPortalFromProps:v}=this.props,{cssClasses:S,cssProperties:w}=X5({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:c,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:p,viewBox:g}),_=v?{}:cu(cu({transition:s&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),T=cu(cu({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:T,ref:E},i)}}var e4=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),bi={devToolsEnabled:!1,isSsr:e4()},jA=()=>{var e;return(e=Z(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ih.apply(null,arguments)}function rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ab(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(n),!0).forEach(function(r){t4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t4(e,t,n){return(t=n4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n4(e){var t=r4(e,"string");return typeof t=="symbol"?t:t+""}function r4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ib={curveBasisClosed:dR,curveBasisOpen:fR,curveBasis:cR,curveBumpX:XO,curveBumpY:WO,curveLinearClosed:mR,curveLinear:Pd,curveMonotoneX:pR,curveMonotoneY:hR,curveNatural:gR,curveStep:yR,curveStepAfter:xR,curveStepBefore:vR},Mc=e=>We(e.x)&&We(e.y),ob=e=>e.base!=null&&Mc(e.base)&&Mc(e),al=e=>e.x,il=e=>e.y,a4=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(_s(e));return(n==="curveMonotone"||n==="curveBump")&&t?ib["".concat(n).concat(t==="vertical"?"Y":"X")]:ib[n]||Pd},i4=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=a4(t,a),l=i?n.filter(Mc):n,s;if(Array.isArray(r)){var u=n.map((g,y)=>ab(ab({},g),{},{base:r[y]}));a==="vertical"?s=ru().y(il).x1(al).x0(g=>g.base.x):s=ru().x(al).y1(il).y0(g=>g.base.y);var c=s.defined(ob).curve(o),f=i?u.filter(ob):u;return c(f)}a==="vertical"&&W(r)?s=ru().y(il).x1(al).x0(r):W(r)?s=ru().x(al).y1(il).y0(r):s=aC().x(al).y(il);var p=s.defined(Mc).curve(o);return p(l)},LA=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var i=n&&n.length?i4(e):r;return x.createElement("path",ih({},Hn(e),ty(e),{className:Ce("recharts-curve",t),d:i===null?void 0:i,ref:a}))},o4=["x","y","top","left","width","height","className"];function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oh.apply(null,arguments)}function lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function l4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lb(Object(n),!0).forEach(function(r){s4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s4(e,t,n){return(t=u4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u4(e){var t=c4(e,"string");return typeof t=="symbol"?t:t+""}function c4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d4(e,t){if(e==null)return{};var n,r,a=f4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f4(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var m4=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),p4=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:l}=e,s=d4(e,o4),u=l4({x:t,y:n,top:r,left:a,width:i,height:o},s);return!W(t)||!W(n)||!W(i)||!W(o)||!W(r)||!W(a)?null:x.createElement("path",oh({},Ut(u),{className:Ce("recharts-cross",l),d:m4(t,n,i,o,r,a)}))};function h4(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function sb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ub(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sb(Object(n),!0).forEach(function(r){g4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g4(e,t,n){return(t=y4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y4(e){var t=v4(e,"string");return typeof t=="symbol"?t:t+""}function v4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x4=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),UA=(e,t,n)=>e.map(r=>"".concat(x4(r)," ").concat(t,"ms ").concat(n)).join(","),b4=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),ts=(e,t)=>Object.keys(t).reduce((n,r)=>ub(ub({},n),{},{[r]:e(r,t[r])}),{});function cb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cb(Object(n),!0).forEach(function(r){S4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S4(e,t,n){return(t=E4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E4(e){var t=w4(e,"string");return typeof t=="symbol"?t:t+""}function w4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pc=(e,t,n)=>e+(t-e)*n,lh=e=>{var{from:t,to:n}=e;return t!==n},zA=(e,t,n)=>{var r=ts((a,i)=>{if(lh(i)){var[o,l]=e(i.from,i.to,i.velocity);return at(at({},i),{},{from:o,velocity:l})}return i},t);return n<1?ts((a,i)=>lh(i)?at(at({},i),{},{velocity:Pc(i.velocity,r[a].velocity,n),from:Pc(i.from,r[a].from,n)}):i,t):zA(e,r,n-1)};function _4(e,t,n,r,a,i){var o,l=r.reduce((p,g)=>at(at({},p),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),s=()=>ts((p,g)=>g.from,l),u=()=>!Object.values(l).filter(lh).length,c=null,f=p=>{o||(o=p);var g=p-o,y=g/n.dt;l=zA(n,l,y),a(at(at(at({},e),t),s())),o=p,u()||(c=i.setTimeout(f))};return()=>(c=i.setTimeout(f),()=>{var p;(p=c)===null||p===void 0||p()})}function T4(e,t,n,r,a,i,o){var l=null,s=a.reduce((f,p)=>at(at({},f),{},{[p]:[e[p],t[p]]}),{}),u,c=f=>{u||(u=f);var p=(f-u)/r,g=ts((b,E)=>Pc(...E,n(p)),s);if(i(at(at(at({},e),t),g)),p<1)l=o.setTimeout(c);else{var y=ts((b,E)=>Pc(...E,n(1)),s);i(at(at(at({},e),t),y))}};return()=>(l=o.setTimeout(c),()=>{var f;(f=l)===null||f===void 0||f()})}const C4=(e,t,n,r,a,i)=>{var o=b4(e,t);return n==null?()=>(a(at(at({},e),t)),()=>{}):n.isStepper===!0?_4(e,t,n,o,a,i):T4(e,t,n,r,o,a,i)};var Ic=1e-4,BA=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],qA=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),db=(e,t)=>n=>{var r=BA(e,t);return qA(r,n)},A4=(e,t)=>n=>{var r=BA(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return qA(a,n)},N4=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,i=n[0].split("(");if(i[0]==="cubic-bezier"&&((a=i[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var o=i[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},k4=(e,t,n,r)=>{var a=db(e,n),i=db(t,r),o=A4(e,n),l=u=>u>1?1:u<0?0:u,s=u=>{for(var c=u>1?1:u,f=c,p=0;p<8;++p){var g=a(f)-c,y=o(f);if(Math.abs(g-c)<Ic||y<Ic)return i(f);f=l(f-g/y)}return i(f)};return s.isStepper=!1,s},fb=function(){return k4(...N4(...arguments))},M4=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,i=(o,l,s)=>{var u=-(o-l)*n,c=s*r,f=s+(u-c)*a/1e3,p=s*a/1e3+o;return Math.abs(p-l)<Ic&&Math.abs(f)<Ic?[l,0]:[p,f]};return i.isStepper=!0,i.dt=a,i},P4=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fb(e);case"spring":return M4();default:if(e.split("(")[0]==="cubic-bezier")return fb(e)}return typeof e=="function"?e:null};function I4(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[s,...u]=l;if(typeof s=="number"){a=e.setTimeout(i.bind(null,u),s);return}i(s),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class D4{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function O4(){return I4(new D4)}var R4=x.createContext(O4);function j4(e,t){var n=x.useContext(R4);return x.useMemo(()=>t??n(e),[e,t,n])}var L4={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mb={t:0},Cm={t:1};function Zd(e){var t=Nt(e,L4),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:s,children:u}=t,c=j4(t.animationId,t.animationManager),[f,p]=x.useState(n?mb:Cm),g=x.useRef(null);return x.useEffect(()=>{n||p(Cm)},[n]),x.useEffect(()=>{if(!n||!r)return Lo;var y=C4(mb,Cm,P4(i),a,p,c.getTimeoutController()),b=()=>{g.current=y()};return c.start([s,o,b,a,l]),()=>{c.stop(),g.current&&g.current(),l()}},[n,r,a,i,o,s,l,c]),u(f.t)}function Qd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(Wl(t)),r=x.useRef(e);return r.current!==e&&(n.current=Wl(t),r.current=e),n.current}var U4=["radius"],z4=["radius"];function pb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pb(Object(n),!0).forEach(function(r){B4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B4(e,t,n){return(t=q4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q4(e){var t=H4(e,"string");return typeof t=="symbol"?t:t+""}function H4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dc.apply(null,arguments)}function gb(e,t){if(e==null)return{};var n,r,a=V4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function V4(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yb=(e,t,n,r,a)=>{var i=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,s=r>=0&&n>=0||r<0&&n<0?1:0,u;if(i>0&&a instanceof Array){for(var c=[0,0,0,0],f=0,p=4;f<p;f++)c[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+o*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(s,",").concat(e+l*c[0],",").concat(t)),u+="L ".concat(e+n-l*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(s,`,
        `).concat(e+n,",").concat(t+o*c[1])),u+="L ".concat(e+n,",").concat(t+r-o*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(s,`,
        `).concat(e+n-l*c[2],",").concat(t+r)),u+="L ".concat(e+l*c[3],",").concat(t+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(s,`,
        `).concat(e,",").concat(t+r-o*c[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var g=Math.min(i,a);u="M ".concat(e,",").concat(t+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(s,",").concat(e+l*g,",").concat(t,`
            L `).concat(e+n-l*g,",").concat(t,`
            A `).concat(g,",").concat(g,",0,0,").concat(s,",").concat(e+n,",").concat(t+o*g,`
            L `).concat(e+n,",").concat(t+r-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(s,",").concat(e+n-l*g,",").concat(t+r,`
            L `).concat(e+l*g,",").concat(t+r,`
            A `).concat(g,",").concat(g,",0,0,").concat(s,",").concat(e,",").concat(t+r-o*g," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},vb={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HA=e=>{var t=Nt(e,vb),n=x.useRef(null),[r,a]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var L=n.current.getTotalLength();L&&a(L)}catch{}},[]);var{x:i,y:o,width:l,height:s,radius:u,className:c}=t,{animationEasing:f,animationDuration:p,animationBegin:g,isAnimationActive:y,isUpdateAnimationActive:b}=t,E=x.useRef(l),v=x.useRef(s),S=x.useRef(i),w=x.useRef(o),_=x.useMemo(()=>({x:i,y:o,width:l,height:s,radius:u}),[i,o,l,s,u]),T=Qd(_,"rectangle-");if(i!==+i||o!==+o||l!==+l||s!==+s||l===0||s===0)return null;var A=Ce("recharts-rectangle",c);if(!b){var N=Ut(t),{radius:k}=N,I=gb(N,U4);return x.createElement("path",Dc({},I,{radius:typeof u=="number"?u:void 0,className:A,d:yb(i,o,l,s,u)}))}var O=E.current,C=v.current,R=S.current,G=w.current,$="0px ".concat(r===-1?1:r,"px"),K="".concat(r,"px 0px"),P=UA(["strokeDasharray"],p,typeof f=="string"?f:vb.animationEasing);return x.createElement(Zd,{animationId:T,key:T,canBegin:r>0,duration:p,easing:f,isActive:b,begin:g},L=>{var V=Fe(O,l,L),D=Fe(C,s,L),B=Fe(R,i,L),Q=Fe(G,o,L);n.current&&(E.current=V,v.current=D,S.current=B,w.current=Q);var J;y?L>0?J={transition:P,strokeDasharray:K}:J={strokeDasharray:$}:J={strokeDasharray:K};var se=Ut(t),{radius:te}=se,le=gb(se,z4);return x.createElement("path",Dc({},le,{radius:typeof u=="number"?u:void 0,className:A,d:yb(B,Q,V,D,u),ref:n,style:hb(hb({},J),t.style)}))})};function xb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(n),!0).forEach(function(r){$4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $4(e,t,n){return(t=G4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G4(e){var t=F4(e,"string");return typeof t=="symbol"?t:t+""}function F4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oc=Math.PI/180,Y4=e=>e*180/Math.PI,Ct=(e,t,n,r)=>({x:e+Math.cos(-Oc*r)*n,y:t+Math.sin(-Oc*r)*n}),K4=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},J4=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},X4=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=J4({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(n-a)/o,s=Math.acos(l);return r>i&&(s=2*Math.PI-s),{radius:o,angle:Y4(s),angleInRadian:s}},W4=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},Z4=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},Q4=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=X4({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:s,endAngle:u}=W4(t),c=i,f;if(s<=u){for(;c>u;)c-=360;for(;c<s;)c+=360;f=c>=s&&c<=u}else{for(;c>s;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=s}return f?bb(bb({},t),{},{radius:a,angle:Z4(c,t)}):null};function VA(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=Ct(t,n,r,a),l=Ct(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sh.apply(null,arguments)}var eL=(e,t)=>{var n=Ft(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},du=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:s}=e,u=l*(o?1:-1)+r,c=Math.asin(l/u)/Oc,f=s?a:a+i*c,p=Ct(t,n,u,f),g=Ct(t,n,r,f),y=s?a-i*c:a,b=Ct(t,n,u*Math.cos(c*Oc),y);return{center:p,circleTangency:g,lineTangency:b,theta:c}},$A=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,l=eL(i,o),s=i+l,u=Ct(t,n,a,i),c=Ct(t,n,a,s),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>s),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var p=Ct(t,n,r,i),g=Ct(t,n,r,s);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=s),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(n," Z");return f},tL=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:s,endAngle:u}=e,c=Ft(u-s),{circleTangency:f,lineTangency:p,theta:g}=du({cx:t,cy:n,radius:a,angle:s,sign:c,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:b,theta:E}=du({cx:t,cy:n,radius:a,angle:u,sign:-c,cornerRadius:i,cornerIsExternal:l}),v=l?Math.abs(s-u):Math.abs(s-u)-g-E;if(v<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):$A({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:u});var S="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(c<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(c<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(c<0),",").concat(b.x,",").concat(b.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:_,theta:T}=du({cx:t,cy:n,radius:r,angle:s,sign:c,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:A,lineTangency:N,theta:k}=du({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),I=l?Math.abs(s-u):Math.abs(s-u)-T-k;if(I<0&&i===0)return"".concat(S,"L").concat(t,",").concat(n,"Z");S+="L".concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(c<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(c>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(c<0),",").concat(_.x,",").concat(_.y,"Z")}else S+="L".concat(t,",").concat(n,"Z");return S},nL={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GA=e=>{var t=Nt(e,nL),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:s,startAngle:u,endAngle:c,className:f}=t;if(i<a||u===c)return null;var p=Ce("recharts-sector",f),g=i-a,y=$n(o,g,0,!0),b;return y>0&&Math.abs(u-c)<360?b=tL({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:s,startAngle:u,endAngle:c}):b=$A({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:c}),x.createElement("path",sh({},Ut(t),{className:p,d:b}))};function rL(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(bC(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,s=Ct(r,a,i,l),u=Ct(r,a,o,l);return[{x:s.x,y:s.y},{x:u.x,y:u.y}]}return VA(t)}}var FA={},YA={},KA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fy;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(KA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KA;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(YA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=my,n=YA;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),s=new Array(l);for(let u=0;u<l;u++)s[u]=a,a+=o;return s}e.range=r})(FA);var aL=FA.range;const JA=or(aL);function ba(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wy(e){let t,n,r;e.length!==2?(t=ba,n=(l,s)=>ba(e(l),s),r=(l,s)=>e(l)-s):(t=e===ba||e===iL?e:oL,n=e,r=e);function a(l,s,u=0,c=l.length){if(u<c){if(t(s,s)!==0)return c;do{const f=u+c>>>1;n(l[f],s)<0?u=f+1:c=f}while(u<c)}return u}function i(l,s,u=0,c=l.length){if(u<c){if(t(s,s)!==0)return c;do{const f=u+c>>>1;n(l[f],s)<=0?u=f+1:c=f}while(u<c)}return u}function o(l,s,u=0,c=l.length){const f=a(l,s,u,c-1);return f>u&&r(l[f-1],s)>-r(l[f],s)?f-1:f}return{left:a,center:o,right:i}}function oL(){return 0}function XA(e){return e===null?NaN:+e}function*lL(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const sL=wy(ba),ks=sL.right;wy(XA).center;class Sb extends Map{constructor(t,n=dL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(Eb(this,t))}has(t){return super.has(Eb(this,t))}set(t,n){return super.set(uL(this,t),n)}delete(t){return super.delete(cL(this,t))}}function Eb({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function uL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function cL({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function dL(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fL(e=ba){if(e===ba)return WA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function WA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mL=Math.sqrt(50),pL=Math.sqrt(10),hL=Math.sqrt(2);function Rc(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=mL?10:i>=pL?5:i>=hL?2:1;let l,s,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?Rc(e,t,n*2):[l,s,u]}function uh(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Rc(t,e,n):Rc(e,t,n);if(!(i>=a))return[];const l=i-a+1,s=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)s[u]=(i-u)/-o;else for(let u=0;u<l;++u)s[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)s[u]=(a+u)/-o;else for(let u=0;u<l;++u)s[u]=(a+u)*o;return s}function ch(e,t,n){return t=+t,e=+e,n=+n,Rc(e,t,n)[2]}function dh(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?ch(t,e,n):ch(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function wb(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _b(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ZA(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?WA:fL(a);r>n;){if(r-n>600){const s=r-n+1,u=t-n+1,c=Math.log(s),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(s-f)/s)*(u-s/2<0?-1:1),g=Math.max(n,Math.floor(t-u*f/s+p)),y=Math.min(r,Math.floor(t+(s-u)*f/s+p));ZA(e,t,g,y,a)}const i=e[t];let o=n,l=r;for(ol(e,n,t),a(e[r],i)>0&&ol(e,n,r);o<l;){for(ol(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?ol(e,n,l):(++l,ol(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function ol(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function gL(e,t,n){if(e=Float64Array.from(lL(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return _b(e);if(t>=1)return wb(e);var r,a=(r-1)*t,i=Math.floor(a),o=wb(ZA(e,i).subarray(0,i+1)),l=_b(e.subarray(i+1));return o+(l-o)*(a-i)}}function yL(e,t,n=XA){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function vL(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Rn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function $r(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fh=Symbol("implicit");function _y(){var e=new Sb,t=[],n=[],r=fh;function a(i){let o=e.get(i);if(o===void 0){if(r!==fh)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Sb;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return _y(t,n).unknown(r)},Rn.apply(a,arguments),a}function Ty(){var e=_y().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,s=0,u=0,c=.5;delete e.unknown;function f(){var p=t().length,g=a<r,y=g?a:r,b=g?r:a;i=(b-y)/Math.max(1,p-s+u*2),l&&(i=Math.floor(i)),y+=(b-y-i*(p-s))*c,o=i*(1-s),l&&(y=Math.round(y),o=Math.round(o));var E=vL(p).map(function(v){return y+i*v});return n(g?E.reverse():E)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(s=Math.min(1,u=+p),f()):s},e.paddingInner=function(p){return arguments.length?(s=Math.min(1,p),f()):s},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),f()):c},e.copy=function(){return Ty(t(),[r,a]).round(l).paddingInner(s).paddingOuter(u).align(c)},Rn.apply(f(),arguments)}function QA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QA(t())},e}function xL(){return QA(Ty.apply(null,arguments).paddingInner(1))}function Cy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function eN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ms(){}var ns=.7,jc=1/ns,to="\\s*([+-]?\\d+)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bL=/^#([0-9a-f]{3,8})$/,SL=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),EL=new RegExp(`^rgb\\(${nr},${nr},${nr}\\)$`),wL=new RegExp(`^rgba\\(${to},${to},${to},${rs}\\)$`),_L=new RegExp(`^rgba\\(${nr},${nr},${nr},${rs}\\)$`),TL=new RegExp(`^hsl\\(${rs},${nr},${nr}\\)$`),CL=new RegExp(`^hsla\\(${rs},${nr},${nr},${rs}\\)$`),Tb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cy(Ms,as,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cb,formatHex:Cb,formatHex8:AL,formatHsl:NL,formatRgb:Ab,toString:Ab});function Cb(){return this.rgb().formatHex()}function AL(){return this.rgb().formatHex8()}function NL(){return tN(this).formatHsl()}function Ab(){return this.rgb().formatRgb()}function as(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bL.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Nb(t):n===3?new Yt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?fu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?fu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=SL.exec(e))?new Yt(t[1],t[2],t[3],1):(t=EL.exec(e))?new Yt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wL.exec(e))?fu(t[1],t[2],t[3],t[4]):(t=_L.exec(e))?fu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=TL.exec(e))?Pb(t[1],t[2]/100,t[3]/100,1):(t=CL.exec(e))?Pb(t[1],t[2]/100,t[3]/100,t[4]):Tb.hasOwnProperty(e)?Nb(Tb[e]):e==="transparent"?new Yt(NaN,NaN,NaN,0):null}function Nb(e){return new Yt(e>>16&255,e>>8&255,e&255,1)}function fu(e,t,n,r){return r<=0&&(e=t=n=NaN),new Yt(e,t,n,r)}function kL(e){return e instanceof Ms||(e=as(e)),e?(e=e.rgb(),new Yt(e.r,e.g,e.b,e.opacity)):new Yt}function mh(e,t,n,r){return arguments.length===1?kL(e):new Yt(e,t,n,r??1)}function Yt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Cy(Yt,mh,eN(Ms,{brighter(e){return e=e==null?jc:Math.pow(jc,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ns:Math.pow(ns,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yt(Qa(this.r),Qa(this.g),Qa(this.b),Lc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kb,formatHex:kb,formatHex8:ML,formatRgb:Mb,toString:Mb}));function kb(){return`#${Ha(this.r)}${Ha(this.g)}${Ha(this.b)}`}function ML(){return`#${Ha(this.r)}${Ha(this.g)}${Ha(this.b)}${Ha((isNaN(this.opacity)?1:this.opacity)*255)}`}function Mb(){const e=Lc(this.opacity);return`${e===1?"rgb(":"rgba("}${Qa(this.r)}, ${Qa(this.g)}, ${Qa(this.b)}${e===1?")":`, ${e})`}`}function Lc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ha(e){return e=Qa(e),(e<16?"0":"")+e.toString(16)}function Pb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qn(e,t,n,r)}function tN(e){if(e instanceof qn)return new qn(e.h,e.s,e.l,e.opacity);if(e instanceof Ms||(e=as(e)),!e)return new qn;if(e instanceof qn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,s=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new qn(o,l,s,e.opacity)}function PL(e,t,n,r){return arguments.length===1?tN(e):new qn(e,t,n,r??1)}function qn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Cy(qn,PL,eN(Ms,{brighter(e){return e=e==null?jc:Math.pow(jc,e),new qn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ns:Math.pow(ns,e),new qn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Yt(Am(e>=240?e-240:e+120,a,r),Am(e,a,r),Am(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new qn(Ib(this.h),mu(this.s),mu(this.l),Lc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lc(this.opacity);return`${e===1?"hsl(":"hsla("}${Ib(this.h)}, ${mu(this.s)*100}%, ${mu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ib(e){return e=(e||0)%360,e<0?e+360:e}function mu(e){return Math.max(0,Math.min(1,e||0))}function Am(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ay=e=>()=>e;function IL(e,t){return function(n){return e+n*t}}function DL(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function OL(e){return(e=+e)==1?nN:function(t,n){return n-t?DL(t,n,e):Ay(isNaN(t)?n:t)}}function nN(e,t){var n=t-e;return n?IL(e,n):Ay(isNaN(e)?t:e)}const Db=function e(t){var n=OL(t);function r(a,i){var o=n((a=mh(a)).r,(i=mh(i)).r),l=n(a.g,i.g),s=n(a.b,i.b),u=nN(a.opacity,i.opacity);return function(c){return a.r=o(c),a.g=l(c),a.b=s(c),a.opacity=u(c),a+""}}return r.gamma=e,r}(1);function RL(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function jL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LL(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Uo(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function UL(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Uc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function zL(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Uo(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var ph=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nm=new RegExp(ph.source,"g");function BL(e){return function(){return e}}function qL(e){return function(t){return e(t)+""}}function HL(e,t){var n=ph.lastIndex=Nm.lastIndex=0,r,a,i,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=ph.exec(e))&&(a=Nm.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,s.push({i:o,x:Uc(r,a)})),n=Nm.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?qL(s[0].x):BL(t):(t=s.length,function(u){for(var c=0,f;c<t;++c)l[(f=s[c]).i]=f.x(u);return l.join("")})}function Uo(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ay(t):(n==="number"?Uc:n==="string"?(r=as(t))?(t=r,Db):HL:t instanceof as?Db:t instanceof Date?UL:jL(t)?RL:Array.isArray(t)?LL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zL:Uc)(e,t)}function Ny(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function VL(e,t){t===void 0&&(t=e,e=Uo);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function $L(e){return function(){return e}}function zc(e){return+e}var Ob=[0,1];function Lt(e){return e}function hh(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$L(isNaN(t)?NaN:.5)}function GL(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function FL(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=hh(a,r),i=n(o,i)):(r=hh(r,a),i=n(i,o)),function(l){return i(r(l))}}function YL(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=hh(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var s=ks(e,l,1,r)-1;return i[s](a[s](l))}}function Ps(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ef(){var e=Ob,t=Ob,n=Uo,r,a,i,o=Lt,l,s,u;function c(){var p=Math.min(e.length,t.length);return o!==Lt&&(o=GL(e[0],e[p-1])),l=p>2?YL:FL,s=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(s||(s=l(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((u||(u=l(t,e.map(r),Uc)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,zc),c()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=Ny,c()},f.clamp=function(p){return arguments.length?(o=p?!0:Lt,c()):o!==Lt},f.interpolate=function(p){return arguments.length?(n=p,c()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,g){return r=p,a=g,c()}}function ky(){return ef()(Lt,Lt)}function KL(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bc(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _o(e){return e=Bc(Math.abs(e)),e?e[1]:NaN}function JL(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],s=0;a>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(n.substring(a-=l,a+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function XL(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var WL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function is(e){if(!(t=WL.exec(e)))throw new Error("invalid format: "+e);var t;return new My({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}is.prototype=My.prototype;function My(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}My.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZL(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var rN;function QL(e,t){var n=Bc(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(rN=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Bc(e,Math.max(0,t+i-1))[0]}function Rb(e,t){var n=Bc(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const jb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:KL,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Rb(e*100,t),r:Rb,s:QL,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Lb(e){return e}var Ub=Array.prototype.map,zb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function e6(e){var t=e.grouping===void 0||e.thousands===void 0?Lb:JL(Ub.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Lb:XL(Ub.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(f){f=is(f);var p=f.fill,g=f.align,y=f.sign,b=f.symbol,E=f.zero,v=f.width,S=f.comma,w=f.precision,_=f.trim,T=f.type;T==="n"?(S=!0,T="g"):jb[T]||(w===void 0&&(w=12),_=!0,T="g"),(E||p==="0"&&g==="=")&&(E=!0,p="0",g="=");var A=b==="$"?n:b==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",N=b==="$"?r:/[%p]/.test(T)?o:"",k=jb[T],I=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(C){var R=A,G=N,$,K,P;if(T==="c")G=k(C)+G,C="";else{C=+C;var L=C<0||1/C<0;if(C=isNaN(C)?s:k(Math.abs(C),w),_&&(C=ZL(C)),L&&+C==0&&y!=="+"&&(L=!1),R=(L?y==="("?y:l:y==="-"||y==="("?"":y)+R,G=(T==="s"?zb[8+rN/3]:"")+G+(L&&y==="("?")":""),I){for($=-1,K=C.length;++$<K;)if(P=C.charCodeAt($),48>P||P>57){G=(P===46?a+C.slice($+1):C.slice($))+G,C=C.slice(0,$);break}}}S&&!E&&(C=t(C,1/0));var V=R.length+C.length+G.length,D=V<v?new Array(v-V+1).join(p):"";switch(S&&E&&(C=t(D+C,D.length?v-G.length:1/0),D=""),g){case"<":C=R+C+G+D;break;case"=":C=R+D+C+G;break;case"^":C=D.slice(0,V=D.length>>1)+R+C+G+D.slice(V);break;default:C=D+R+C+G;break}return i(C)}return O.toString=function(){return f+""},O}function c(f,p){var g=u((f=is(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(_o(p)/3)))*3,b=Math.pow(10,-y),E=zb[8+y/3];return function(v){return g(b*v)+E}}return{format:u,formatPrefix:c}}var pu,Py,aN;t6({thousands:",",grouping:[3],currency:["$",""]});function t6(e){return pu=e6(e),Py=pu.format,aN=pu.formatPrefix,pu}function n6(e){return Math.max(0,-_o(Math.abs(e)))}function r6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_o(t)/3)))*3-_o(Math.abs(e)))}function a6(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_o(t)-_o(e))+1}function iN(e,t,n,r){var a=dh(e,t,n),i;switch(r=is(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=r6(a,o))&&(r.precision=i),aN(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=a6(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=n6(a))&&(r.precision=i-(r.type==="%")*2);break}}return Py(r)}function Ma(e){var t=e.domain;return e.ticks=function(n){var r=t();return uh(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return iN(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],s,u,c=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);c-- >0;){if(u=ch(o,l,n),u===s)return r[a]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function oN(){var e=ky();return e.copy=function(){return Ps(e,oN())},Rn.apply(e,arguments),Ma(e)}function lN(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,zc),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return lN(e).unknown(t)},e=arguments.length?Array.from(e,zc):[0,1],Ma(n)}function sN(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function Bb(e){return Math.log(e)}function qb(e){return Math.exp(e)}function i6(e){return-Math.log(-e)}function o6(e){return-Math.exp(-e)}function l6(e){return isFinite(e)?+("1e"+e):e<0?0:e}function s6(e){return e===10?l6:e===Math.E?Math.exp:t=>Math.pow(e,t)}function u6(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Hb(e){return(t,n)=>-e(-t,n)}function Iy(e){const t=e(Bb,qb),n=t.domain;let r=10,a,i;function o(){return a=u6(r),i=s6(r),n()[0]<0?(a=Hb(a),i=Hb(i),e(i6,o6)):e(Bb,qb),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const s=n();let u=s[0],c=s[s.length-1];const f=c<u;f&&([u,c]=[c,u]);let p=a(u),g=a(c),y,b;const E=l==null?10:+l;let v=[];if(!(r%1)&&g-p<E){if(p=Math.floor(p),g=Math.ceil(g),u>0){for(;p<=g;++p)for(y=1;y<r;++y)if(b=p<0?y/i(-p):y*i(p),!(b<u)){if(b>c)break;v.push(b)}}else for(;p<=g;++p)for(y=r-1;y>=1;--y)if(b=p>0?y/i(-p):y*i(p),!(b<u)){if(b>c)break;v.push(b)}v.length*2<E&&(v=uh(u,c,E))}else v=uh(p,g,Math.min(g-p,E)).map(i);return f?v.reverse():v},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=is(s)).precision==null&&(s.trim=!0),s=Py(s)),l===1/0)return s;const u=Math.max(1,r*l/t.ticks().length);return c=>{let f=c/i(Math.round(a(c)));return f*r<r-.5&&(f*=r),f<=u?s(c):""}},t.nice=()=>n(sN(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function uN(){const e=Iy(ef()).domain([1,10]);return e.copy=()=>Ps(e,uN()).base(e.base()),Rn.apply(e,arguments),e}function Vb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $b(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Dy(e){var t=1,n=e(Vb(t),$b(t));return n.constant=function(r){return arguments.length?e(Vb(t=+r),$b(t)):t},Ma(n)}function cN(){var e=Dy(ef());return e.copy=function(){return Ps(e,cN()).constant(e.constant())},Rn.apply(e,arguments)}function Gb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function c6(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function d6(e){return e<0?-e*e:e*e}function Oy(e){var t=e(Lt,Lt),n=1;function r(){return n===1?e(Lt,Lt):n===.5?e(c6,d6):e(Gb(n),Gb(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Ma(t)}function Ry(){var e=Oy(ef());return e.copy=function(){return Ps(e,Ry()).exponent(e.exponent())},Rn.apply(e,arguments),e}function f6(){return Ry.apply(null,arguments).exponent(.5)}function Fb(e){return Math.sign(e)*e*e}function m6(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function dN(){var e=ky(),t=[0,1],n=!1,r;function a(i){var o=m6(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(Fb(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,zc)).map(Fb)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return dN(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Rn.apply(a,arguments),Ma(a)}function fN(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=yL(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[ks(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ba),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return fN().domain(e).range(t).unknown(r)},Rn.apply(i,arguments)}function mN(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(s){return s!=null&&s<=s?a[ks(r,s,0,n)]:i}function l(){var s=-1;for(r=new Array(n);++s<n;)r[s]=((s+1)*t-(s-n)*e)/(n+1);return o}return o.domain=function(s){return arguments.length?([e,t]=s,e=+e,t=+t,l()):[e,t]},o.range=function(s){return arguments.length?(n=(a=Array.from(s)).length-1,l()):a.slice()},o.invertExtent=function(s){var u=a.indexOf(s);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(s){return arguments.length&&(i=s),o},o.thresholds=function(){return r.slice()},o.copy=function(){return mN().domain([e,t]).range(a).unknown(i)},Rn.apply(Ma(o),arguments)}function pN(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[ks(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return pN().domain(e).range(t).unknown(n)},Rn.apply(a,arguments)}const km=new Date,Mm=new Date;function st(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const s=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return s;let u;do s.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return s},a.filter=i=>st(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(km.setTime(+i),Mm.setTime(+o),e(km),e(Mm),Math.floor(n(km,Mm))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const qc=st(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?st(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):qc);qc.range;const Sr=1e3,An=Sr*60,Er=An*60,Rr=Er*24,jy=Rr*7,Yb=Rr*30,Pm=Rr*365,Va=st(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Sr)},(e,t)=>(t-e)/Sr,e=>e.getUTCSeconds());Va.range;const Ly=st(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sr)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getMinutes());Ly.range;const Uy=st(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCMinutes());Uy.range;const zy=st(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sr-e.getMinutes()*An)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getHours());zy.range;const By=st(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getUTCHours());By.range;const Is=st(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*An)/Rr,e=>e.getDate()-1);Is.range;const tf=st(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rr,e=>e.getUTCDate()-1);tf.range;const hN=st(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rr,e=>Math.floor(e/Rr));hN.range;function Si(e){return st(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*An)/jy)}const nf=Si(0),Hc=Si(1),p6=Si(2),h6=Si(3),To=Si(4),g6=Si(5),y6=Si(6);nf.range;Hc.range;p6.range;h6.range;To.range;g6.range;y6.range;function Ei(e){return st(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/jy)}const rf=Ei(0),Vc=Ei(1),v6=Ei(2),x6=Ei(3),Co=Ei(4),b6=Ei(5),S6=Ei(6);rf.range;Vc.range;v6.range;x6.range;Co.range;b6.range;S6.range;const qy=st(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qy.range;const Hy=st(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Hy.range;const jr=st(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());jr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:st(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});jr.range;const Lr=st(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Lr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:st(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Lr.range;function gN(e,t,n,r,a,i){const o=[[Va,1,Sr],[Va,5,5*Sr],[Va,15,15*Sr],[Va,30,30*Sr],[i,1,An],[i,5,5*An],[i,15,15*An],[i,30,30*An],[a,1,Er],[a,3,3*Er],[a,6,6*Er],[a,12,12*Er],[r,1,Rr],[r,2,2*Rr],[n,1,jy],[t,1,Yb],[t,3,3*Yb],[e,1,Pm]];function l(u,c,f){const p=c<u;p&&([u,c]=[c,u]);const g=f&&typeof f.range=="function"?f:s(u,c,f),y=g?g.range(u,+c+1):[];return p?y.reverse():y}function s(u,c,f){const p=Math.abs(c-u)/f,g=wy(([,,E])=>E).right(o,p);if(g===o.length)return e.every(dh(u/Pm,c/Pm,f));if(g===0)return qc.every(Math.max(dh(u,c,f),1));const[y,b]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return y.every(b)}return[l,s]}const[E6,w6]=gN(Lr,Hy,rf,hN,By,Uy),[_6,T6]=gN(jr,qy,nf,Is,zy,Ly);function Im(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ll(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function C6(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,s=e.shortMonths,u=sl(a),c=ul(a),f=sl(i),p=ul(i),g=sl(o),y=ul(o),b=sl(l),E=ul(l),v=sl(s),S=ul(s),w={a:L,A:V,b:D,B,c:null,d:Qb,e:Qb,f:J6,g:iU,G:lU,H:F6,I:Y6,j:K6,L:yN,m:X6,M:W6,p:Q,q:J,Q:nS,s:rS,S:Z6,u:Q6,U:eU,V:tU,w:nU,W:rU,x:null,X:null,y:aU,Y:oU,Z:sU,"%":tS},_={a:se,A:te,b:le,B:bt,c:null,d:eS,e:eS,f:fU,g:EU,G:_U,H:uU,I:cU,j:dU,L:xN,m:mU,M:pU,p:xe,q:$e,Q:nS,s:rS,S:hU,u:gU,U:yU,V:vU,w:xU,W:bU,x:null,X:null,y:SU,Y:wU,Z:TU,"%":tS},T={a:O,A:C,b:R,B:G,c:$,d:Wb,e:Wb,f:H6,g:Xb,G:Jb,H:Zb,I:Zb,j:U6,L:q6,m:L6,M:z6,p:I,q:j6,Q:$6,s:G6,S:B6,u:P6,U:I6,V:D6,w:M6,W:O6,x:K,X:P,y:Xb,Y:Jb,Z:R6,"%":V6};w.x=A(n,w),w.X=A(r,w),w.c=A(t,w),_.x=A(n,_),_.X=A(r,_),_.c=A(t,_);function A(M,z){return function(q){var j=[],ae=-1,F=0,ee=M.length,ne,ue,he;for(q instanceof Date||(q=new Date(+q));++ae<ee;)M.charCodeAt(ae)===37&&(j.push(M.slice(F,ae)),(ue=Kb[ne=M.charAt(++ae)])!=null?ne=M.charAt(++ae):ue=ne==="e"?" ":"0",(he=z[ne])&&(ne=he(q,ue)),j.push(ne),F=ae+1);return j.push(M.slice(F,ae)),j.join("")}}function N(M,z){return function(q){var j=ll(1900,void 0,1),ae=k(j,M,q+="",0),F,ee;if(ae!=q.length)return null;if("Q"in j)return new Date(j.Q);if("s"in j)return new Date(j.s*1e3+("L"in j?j.L:0));if(z&&!("Z"in j)&&(j.Z=0),"p"in j&&(j.H=j.H%12+j.p*12),j.m===void 0&&(j.m="q"in j?j.q:0),"V"in j){if(j.V<1||j.V>53)return null;"w"in j||(j.w=1),"Z"in j?(F=Dm(ll(j.y,0,1)),ee=F.getUTCDay(),F=ee>4||ee===0?Vc.ceil(F):Vc(F),F=tf.offset(F,(j.V-1)*7),j.y=F.getUTCFullYear(),j.m=F.getUTCMonth(),j.d=F.getUTCDate()+(j.w+6)%7):(F=Im(ll(j.y,0,1)),ee=F.getDay(),F=ee>4||ee===0?Hc.ceil(F):Hc(F),F=Is.offset(F,(j.V-1)*7),j.y=F.getFullYear(),j.m=F.getMonth(),j.d=F.getDate()+(j.w+6)%7)}else("W"in j||"U"in j)&&("w"in j||(j.w="u"in j?j.u%7:"W"in j?1:0),ee="Z"in j?Dm(ll(j.y,0,1)).getUTCDay():Im(ll(j.y,0,1)).getDay(),j.m=0,j.d="W"in j?(j.w+6)%7+j.W*7-(ee+5)%7:j.w+j.U*7-(ee+6)%7);return"Z"in j?(j.H+=j.Z/100|0,j.M+=j.Z%100,Dm(j)):Im(j)}}function k(M,z,q,j){for(var ae=0,F=z.length,ee=q.length,ne,ue;ae<F;){if(j>=ee)return-1;if(ne=z.charCodeAt(ae++),ne===37){if(ne=z.charAt(ae++),ue=T[ne in Kb?z.charAt(ae++):ne],!ue||(j=ue(M,q,j))<0)return-1}else if(ne!=q.charCodeAt(j++))return-1}return j}function I(M,z,q){var j=u.exec(z.slice(q));return j?(M.p=c.get(j[0].toLowerCase()),q+j[0].length):-1}function O(M,z,q){var j=g.exec(z.slice(q));return j?(M.w=y.get(j[0].toLowerCase()),q+j[0].length):-1}function C(M,z,q){var j=f.exec(z.slice(q));return j?(M.w=p.get(j[0].toLowerCase()),q+j[0].length):-1}function R(M,z,q){var j=v.exec(z.slice(q));return j?(M.m=S.get(j[0].toLowerCase()),q+j[0].length):-1}function G(M,z,q){var j=b.exec(z.slice(q));return j?(M.m=E.get(j[0].toLowerCase()),q+j[0].length):-1}function $(M,z,q){return k(M,t,z,q)}function K(M,z,q){return k(M,n,z,q)}function P(M,z,q){return k(M,r,z,q)}function L(M){return o[M.getDay()]}function V(M){return i[M.getDay()]}function D(M){return s[M.getMonth()]}function B(M){return l[M.getMonth()]}function Q(M){return a[+(M.getHours()>=12)]}function J(M){return 1+~~(M.getMonth()/3)}function se(M){return o[M.getUTCDay()]}function te(M){return i[M.getUTCDay()]}function le(M){return s[M.getUTCMonth()]}function bt(M){return l[M.getUTCMonth()]}function xe(M){return a[+(M.getUTCHours()>=12)]}function $e(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var z=A(M+="",w);return z.toString=function(){return M},z},parse:function(M){var z=N(M+="",!1);return z.toString=function(){return M},z},utcFormat:function(M){var z=A(M+="",_);return z.toString=function(){return M},z},utcParse:function(M){var z=N(M+="",!0);return z.toString=function(){return M},z}}}var Kb={"-":"",_:" ",0:"0"},xt=/^\s*\d+/,A6=/^%/,N6=/[\\^$*+?|[\]().{}]/g;function ye(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function k6(e){return e.replace(N6,"\\$&")}function sl(e){return new RegExp("^(?:"+e.map(k6).join("|")+")","i")}function ul(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function M6(e,t,n){var r=xt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function P6(e,t,n){var r=xt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function I6(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function D6(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function O6(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Jb(e,t,n){var r=xt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Xb(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function R6(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function j6(e,t,n){var r=xt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function L6(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Wb(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function U6(e,t,n){var r=xt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Zb(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function z6(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function B6(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function q6(e,t,n){var r=xt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function H6(e,t,n){var r=xt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function V6(e,t,n){var r=A6.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function $6(e,t,n){var r=xt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function G6(e,t,n){var r=xt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Qb(e,t){return ye(e.getDate(),t,2)}function F6(e,t){return ye(e.getHours(),t,2)}function Y6(e,t){return ye(e.getHours()%12||12,t,2)}function K6(e,t){return ye(1+Is.count(jr(e),e),t,3)}function yN(e,t){return ye(e.getMilliseconds(),t,3)}function J6(e,t){return yN(e,t)+"000"}function X6(e,t){return ye(e.getMonth()+1,t,2)}function W6(e,t){return ye(e.getMinutes(),t,2)}function Z6(e,t){return ye(e.getSeconds(),t,2)}function Q6(e){var t=e.getDay();return t===0?7:t}function eU(e,t){return ye(nf.count(jr(e)-1,e),t,2)}function vN(e){var t=e.getDay();return t>=4||t===0?To(e):To.ceil(e)}function tU(e,t){return e=vN(e),ye(To.count(jr(e),e)+(jr(e).getDay()===4),t,2)}function nU(e){return e.getDay()}function rU(e,t){return ye(Hc.count(jr(e)-1,e),t,2)}function aU(e,t){return ye(e.getFullYear()%100,t,2)}function iU(e,t){return e=vN(e),ye(e.getFullYear()%100,t,2)}function oU(e,t){return ye(e.getFullYear()%1e4,t,4)}function lU(e,t){var n=e.getDay();return e=n>=4||n===0?To(e):To.ceil(e),ye(e.getFullYear()%1e4,t,4)}function sU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ye(t/60|0,"0",2)+ye(t%60,"0",2)}function eS(e,t){return ye(e.getUTCDate(),t,2)}function uU(e,t){return ye(e.getUTCHours(),t,2)}function cU(e,t){return ye(e.getUTCHours()%12||12,t,2)}function dU(e,t){return ye(1+tf.count(Lr(e),e),t,3)}function xN(e,t){return ye(e.getUTCMilliseconds(),t,3)}function fU(e,t){return xN(e,t)+"000"}function mU(e,t){return ye(e.getUTCMonth()+1,t,2)}function pU(e,t){return ye(e.getUTCMinutes(),t,2)}function hU(e,t){return ye(e.getUTCSeconds(),t,2)}function gU(e){var t=e.getUTCDay();return t===0?7:t}function yU(e,t){return ye(rf.count(Lr(e)-1,e),t,2)}function bN(e){var t=e.getUTCDay();return t>=4||t===0?Co(e):Co.ceil(e)}function vU(e,t){return e=bN(e),ye(Co.count(Lr(e),e)+(Lr(e).getUTCDay()===4),t,2)}function xU(e){return e.getUTCDay()}function bU(e,t){return ye(Vc.count(Lr(e)-1,e),t,2)}function SU(e,t){return ye(e.getUTCFullYear()%100,t,2)}function EU(e,t){return e=bN(e),ye(e.getUTCFullYear()%100,t,2)}function wU(e,t){return ye(e.getUTCFullYear()%1e4,t,4)}function _U(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Co(e):Co.ceil(e),ye(e.getUTCFullYear()%1e4,t,4)}function TU(){return"+0000"}function tS(){return"%"}function nS(e){return+e}function rS(e){return Math.floor(+e/1e3)}var Ci,SN,EN;CU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function CU(e){return Ci=C6(e),SN=Ci.format,Ci.parse,EN=Ci.utcFormat,Ci.utcParse,Ci}function AU(e){return new Date(e)}function NU(e){return e instanceof Date?+e:+new Date(+e)}function Vy(e,t,n,r,a,i,o,l,s,u){var c=ky(),f=c.invert,p=c.domain,g=u(".%L"),y=u(":%S"),b=u("%I:%M"),E=u("%I %p"),v=u("%a %d"),S=u("%b %d"),w=u("%B"),_=u("%Y");function T(A){return(s(A)<A?g:l(A)<A?y:o(A)<A?b:i(A)<A?E:r(A)<A?a(A)<A?v:S:n(A)<A?w:_)(A)}return c.invert=function(A){return new Date(f(A))},c.domain=function(A){return arguments.length?p(Array.from(A,NU)):p().map(AU)},c.ticks=function(A){var N=p();return e(N[0],N[N.length-1],A??10)},c.tickFormat=function(A,N){return N==null?T:u(N)},c.nice=function(A){var N=p();return(!A||typeof A.range!="function")&&(A=t(N[0],N[N.length-1],A??10)),A?p(sN(N,A)):c},c.copy=function(){return Ps(c,Vy(e,t,n,r,a,i,o,l,s,u))},c}function kU(){return Rn.apply(Vy(_6,T6,jr,qy,nf,Is,zy,Ly,Va,SN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MU(){return Rn.apply(Vy(E6,w6,Lr,Hy,rf,tf,By,Uy,Va,EN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function af(){var e=0,t=1,n,r,a,i,o=Lt,l=!1,s;function u(f){return f==null||isNaN(f=+f)?s:o(a===0?.5:(f=(i(f)-n)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(p){var g,y;return arguments.length?([g,y]=p,o=f(g,y),u):[o(0),o(1)]}}return u.range=c(Uo),u.rangeRound=c(Ny),u.unknown=function(f){return arguments.length?(s=f,u):s},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function Pa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wN(){var e=Ma(af()(Lt));return e.copy=function(){return Pa(e,wN())},$r.apply(e,arguments)}function _N(){var e=Iy(af()).domain([1,10]);return e.copy=function(){return Pa(e,_N()).base(e.base())},$r.apply(e,arguments)}function TN(){var e=Dy(af());return e.copy=function(){return Pa(e,TN()).constant(e.constant())},$r.apply(e,arguments)}function $y(){var e=Oy(af());return e.copy=function(){return Pa(e,$y()).exponent(e.exponent())},$r.apply(e,arguments)}function PU(){return $y.apply(null,arguments).exponent(.5)}function CN(){var e=[],t=Lt;function n(r){if(r!=null&&!isNaN(r=+r))return t((ks(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ba),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>gL(e,i/r))},n.copy=function(){return CN(t).domain(e)},$r.apply(n,arguments)}function of(){var e=0,t=.5,n=1,r=1,a,i,o,l,s,u=Lt,c,f=!1,p;function g(b){return isNaN(b=+b)?p:(b=.5+((b=+c(b))-i)*(r*b<r*i?l:s),u(f?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([e,t,n]=b,a=c(e=+e),i=c(t=+t),o=c(n=+n),l=a===i?0:.5/(i-a),s=i===o?0:.5/(o-i),r=i<a?-1:1,g):[e,t,n]},g.clamp=function(b){return arguments.length?(f=!!b,g):f},g.interpolator=function(b){return arguments.length?(u=b,g):u};function y(b){return function(E){var v,S,w;return arguments.length?([v,S,w]=E,u=VL(b,[v,S,w]),g):[u(0),u(.5),u(1)]}}return g.range=y(Uo),g.rangeRound=y(Ny),g.unknown=function(b){return arguments.length?(p=b,g):p},function(b){return c=b,a=b(e),i=b(t),o=b(n),l=a===i?0:.5/(i-a),s=i===o?0:.5/(o-i),r=i<a?-1:1,g}}function AN(){var e=Ma(of()(Lt));return e.copy=function(){return Pa(e,AN())},$r.apply(e,arguments)}function NN(){var e=Iy(of()).domain([.1,1,10]);return e.copy=function(){return Pa(e,NN()).base(e.base())},$r.apply(e,arguments)}function kN(){var e=Dy(of());return e.copy=function(){return Pa(e,kN()).constant(e.constant())},$r.apply(e,arguments)}function Gy(){var e=Oy(of());return e.copy=function(){return Pa(e,Gy()).exponent(e.exponent())},$r.apply(e,arguments)}function IU(){return Gy.apply(null,arguments).exponent(.5)}const vl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ty,scaleDiverging:AN,scaleDivergingLog:NN,scaleDivergingPow:Gy,scaleDivergingSqrt:IU,scaleDivergingSymlog:kN,scaleIdentity:lN,scaleImplicit:fh,scaleLinear:oN,scaleLog:uN,scaleOrdinal:_y,scalePoint:xL,scalePow:Ry,scaleQuantile:fN,scaleQuantize:mN,scaleRadial:dN,scaleSequential:wN,scaleSequentialLog:_N,scaleSequentialPow:$y,scaleSequentialQuantile:CN,scaleSequentialSqrt:PU,scaleSequentialSymlog:TN,scaleSqrt:f6,scaleSymlog:cN,scaleThreshold:pN,scaleTime:kU,scaleUtc:MU,tickFormat:iN},Symbol.toStringTag,{value:"Module"}));var Ia=e=>e.chartData,DU=U([Ia],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),lf=(e,t,n,r)=>r?DU(e):Ia(e);function ci(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(We(t)&&We(n))return!0}return!1}function aS(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function MN(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(We(n))a=n;else if(typeof n=="function")return;if(We(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(ci(o))return o}}function OU(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ci(r))return aS(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(W(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Gx.test(a)){var s=Gx.exec(a);if(s==null||t==null)o=void 0;else{var u=+s[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(W(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Fx.test(i)){var c=Fx.exec(i);if(c==null||t==null)l=void 0;else{var f=+c[1];l=t[1]+f}}else l=t==null?void 0:t[1];var p=[o,l];if(ci(p))return t==null?p:aS(p,t,n)}}}var zo=1e9,RU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Yy,qe=!0,On="[DecimalError] ",ei=On+"Invalid argument: ",Fy=On+"Exponent out of range: ",Bo=Math.floor,qa=Math.pow,jU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,an,ft=1e7,je=7,PN=9007199254740991,$c=Bo(PN/je),X={};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};X.comparedTo=X.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};X.decimalPlaces=X.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*je;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};X.dividedBy=X.div=function(e){return Ar(this,new this.constructor(e))};X.dividedToIntegerBy=X.idiv=function(e){var t=this,n=t.constructor;return ke(Ar(t,new n(e),0,1),n.precision)};X.equals=X.eq=function(e){return!this.cmp(e)};X.exponent=function(){return rt(this)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){return this.cmp(e)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(an))throw Error(On+"NaN");if(n.s<1)throw Error(On+(n.s?"NaN":"-Infinity"));return n.eq(an)?new r(0):(qe=!1,t=Ar(os(n,i),os(e,i),i),qe=!0,ke(t,a))};X.minus=X.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ON(t,e):IN(t,(e.s=-e.s,e))};X.modulo=X.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(On+"NaN");return n.s?(qe=!1,t=Ar(n,e,0,1).times(e),qe=!0,n.minus(t)):ke(new r(n),a)};X.naturalExponential=X.exp=function(){return DN(this)};X.naturalLogarithm=X.ln=function(){return os(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};X.plus=X.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IN(t,e):ON(t,(e.s=-e.s,e))};X.precision=X.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ei+e);if(t=rt(a)+1,r=a.d.length-1,n=r*je+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};X.squareRoot=X.sqrt=function(){var e,t,n,r,a,i,o,l=this,s=l.constructor;if(l.s<1){if(!l.s)return new s(0);throw Error(On+"NaN")}for(e=rt(l),qe=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Qn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Bo((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new s(t)):r=new s(a.toString()),n=s.precision,a=o=n+3;;)if(i=r,r=i.plus(Ar(l,i,o+2)).times(.5),Qn(i.d).slice(0,o)===(t=Qn(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ke(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return qe=!0,ke(r,n)};X.times=X.mul=function(e){var t,n,r,a,i,o,l,s,u,c=this,f=c.constructor,p=c.d,g=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,s=p.length,u=g.length,s<u&&(i=p,p=g,g=i,o=s,s=u,u=o),i=[],o=s+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=s+r;a>r;)l=i[a]+g[r]*p[a-r-1]+t,i[a--]=l%ft|0,t=l/ft|0;i[a]=(i[a]+t)%ft|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,qe?ke(e,f.precision):e};X.toDecimalPlaces=X.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ir(e,0,zo),t===void 0?t=r.rounding:ir(t,0,8),ke(n,e+rt(n)+1,t))};X.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=di(r,!0):(ir(e,0,zo),t===void 0?t=a.rounding:ir(t,0,8),r=ke(new a(r),e+1,t),n=di(r,!0,e+1)),n};X.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?di(a):(ir(e,0,zo),t===void 0?t=i.rounding:ir(t,0,8),r=ke(new i(a),e+rt(a)+1,t),n=di(r.abs(),!1,e+rt(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};X.toInteger=X.toint=function(){var e=this,t=e.constructor;return ke(new t(e),rt(e)+1,t.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(e){var t,n,r,a,i,o,l=this,s=l.constructor,u=12,c=+(e=new s(e));if(!e.s)return new s(an);if(l=new s(l),!l.s){if(e.s<1)throw Error(On+"Infinity");return l}if(l.eq(an))return l;if(r=s.precision,e.eq(an))return ke(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=c<0?-c:c)<=PN){for(a=new s(an),t=Math.ceil(r/je+4),qe=!1;n%2&&(a=a.times(l),oS(a.d,t)),n=Bo(n/2),n!==0;)l=l.times(l),oS(l.d,t);return qe=!0,e.s<0?new s(an).div(a):ke(a,r)}}else if(i<0)throw Error(On+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,qe=!1,a=e.times(os(l,r+u)),qe=!0,a=DN(a),a.s=i,a};X.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=rt(a),r=di(a,n<=i.toExpNeg||n>=i.toExpPos)):(ir(e,1,zo),t===void 0?t=i.rounding:ir(t,0,8),a=ke(new i(a),e,t),n=rt(a),r=di(a,e<=n||n<=i.toExpNeg,e)),r};X.toSignificantDigits=X.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ir(e,1,zo),t===void 0?t=r.rounding:ir(t,0,8)),ke(new r(n),e,t)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rt(e),n=e.constructor;return di(e,t<=n.toExpNeg||t>=n.toExpPos)};function IN(e,t){var n,r,a,i,o,l,s,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),qe?ke(t,f):t;if(s=e.d,u=t.d,o=e.e,a=t.e,s=s.slice(),i=o-a,i){for(i<0?(r=s,i=-i,l=u.length):(r=u,a=o,l=s.length),o=Math.ceil(f/je),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=s.length,i=u.length,l-i<0&&(i=l,r=u,u=s,s=r),n=0;i;)n=(s[--i]=s[i]+u[i]+n)/ft|0,s[i]%=ft;for(n&&(s.unshift(n),++a),l=s.length;s[--l]==0;)s.pop();return t.d=s,t.e=a,qe?ke(t,f):t}function ir(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ei+e)}function Qn(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=je-r.length,n&&(i+=Qr(n)),i+=r;o=e[t],r=o+"",n=je-r.length,n&&(i+=Qr(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ar=function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%ft|0,o=i/ft|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,s;if(i!=o)s=i>o?1:-1;else for(l=s=0;l<i;l++)if(r[l]!=a[l]){s=r[l]>a[l]?1:-1;break}return s}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*ft+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,s,u,c,f,p,g,y,b,E,v,S,w,_,T,A,N,k,I=r.constructor,O=r.s==a.s?1:-1,C=r.d,R=a.d;if(!r.s)return new I(r);if(!a.s)throw Error(On+"Division by zero");for(s=r.e-a.e,N=R.length,T=C.length,g=new I(O),y=g.d=[],u=0;R[u]==(C[u]||0);)++u;if(R[u]>(C[u]||0)&&--s,i==null?S=i=I.precision:o?S=i+(rt(r)-rt(a))+1:S=i,S<0)return new I(0);if(S=S/je+2|0,u=0,N==1)for(c=0,R=R[0],S++;(u<T||c)&&S--;u++)w=c*ft+(C[u]||0),y[u]=w/R|0,c=w%R|0;else{for(c=ft/(R[0]+1)|0,c>1&&(R=e(R,c),C=e(C,c),N=R.length,T=C.length),_=N,b=C.slice(0,N),E=b.length;E<N;)b[E++]=0;k=R.slice(),k.unshift(0),A=R[0],R[1]>=ft/2&&++A;do c=0,l=t(R,b,N,E),l<0?(v=b[0],N!=E&&(v=v*ft+(b[1]||0)),c=v/A|0,c>1?(c>=ft&&(c=ft-1),f=e(R,c),p=f.length,E=b.length,l=t(f,b,p,E),l==1&&(c--,n(f,N<p?k:R,p))):(c==0&&(l=c=1),f=R.slice()),p=f.length,p<E&&f.unshift(0),n(b,f,E),l==-1&&(E=b.length,l=t(R,b,N,E),l<1&&(c++,n(b,N<E?k:R,E))),E=b.length):l===0&&(c++,b=[0]),y[u++]=c,l&&b[0]?b[E++]=C[_]||0:(b=[C[_]],E=1);while((_++<T||b[0]!==void 0)&&S--)}return y[0]||y.shift(),g.e=s,ke(g,o?i+rt(g)+1:i)}}();function DN(e,t){var n,r,a,i,o,l,s=0,u=0,c=e.constructor,f=c.precision;if(rt(e)>16)throw Error(Fy+rt(e));if(!e.s)return new c(an);for(qe=!1,l=f,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(qa(2,u))/Math.LN10*2+5|0,l+=r,n=a=i=new c(an),c.precision=l;;){if(a=ke(a.times(e),l),n=n.times(++s),o=i.plus(Ar(a,n,l)),Qn(o.d).slice(0,l)===Qn(i.d).slice(0,l)){for(;u--;)i=ke(i.times(i),l);return c.precision=f,t==null?(qe=!0,ke(i,f)):i}i=o}}function rt(e){for(var t=e.e*je,n=e.d[0];n>=10;n/=10)t++;return t}function Om(e,t,n){if(t>e.LN10.sd())throw qe=!0,n&&(e.precision=n),Error(On+"LN10 precision limit exceeded");return ke(new e(e.LN10),t)}function Qr(e){for(var t="";e--;)t+="0";return t}function os(e,t){var n,r,a,i,o,l,s,u,c,f=1,p=10,g=e,y=g.d,b=g.constructor,E=b.precision;if(g.s<1)throw Error(On+(g.s?"NaN":"-Infinity"));if(g.eq(an))return new b(0);if(t==null?(qe=!1,u=E):u=t,g.eq(10))return t==null&&(qe=!0),Om(b,u);if(u+=p,b.precision=u,n=Qn(y),r=n.charAt(0),i=rt(g),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=Qn(g.d),r=n.charAt(0),f++;i=rt(g),r>1?(g=new b("0."+n),i++):g=new b(r+"."+n.slice(1))}else return s=Om(b,u+2,E).times(i+""),g=os(new b(r+"."+n.slice(1)),u-p).plus(s),b.precision=E,t==null?(qe=!0,ke(g,E)):g;for(l=o=g=Ar(g.minus(an),g.plus(an),u),c=ke(g.times(g),u),a=3;;){if(o=ke(o.times(c),u),s=l.plus(Ar(o,new b(a),u)),Qn(s.d).slice(0,u)===Qn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Om(b,u+2,E).times(i+""))),l=Ar(l,new b(f),u),b.precision=E,t==null?(qe=!0,ke(l,E)):l;l=s,a+=2}}function iS(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Bo(n/je),e.d=[],r=(n+1)%je,n<0&&(r+=je),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=je;r<a;)e.d.push(+t.slice(r,r+=je));t=t.slice(r),r=je-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),qe&&(e.e>$c||e.e<-$c))throw Error(Fy+n)}else e.s=0,e.e=0,e.d=[0];return e}function ke(e,t,n){var r,a,i,o,l,s,u,c,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=je,a=t,u=f[c=0];else{if(c=Math.ceil((r+1)/je),i=f.length,c>=i)return e;for(u=i=f[c],o=1;i>=10;i/=10)o++;r%=je,a=r-je+o}if(n!==void 0&&(i=qa(10,o-a-1),l=u/i%10|0,s=t<0||f[c+1]!==void 0||u%i,s=n<4?(l||s)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||s||n==6&&(r>0?a>0?u/qa(10,o-a):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return s?(i=rt(e),f.length=1,t=t-i-1,f[0]=qa(10,(je-t%je)%je),e.e=Bo(-t/je)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,i=1,c--):(f.length=c+1,i=qa(10,je-r),f[c]=a>0?(u/qa(10,o-a)%qa(10,a)|0)*i:0),s)for(;;)if(c==0){(f[0]+=i)==ft&&(f[0]=1,++e.e);break}else{if(f[c]+=i,f[c]!=ft)break;f[c--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(qe&&(e.e>$c||e.e<-$c))throw Error(Fy+rt(e));return e}function ON(e,t){var n,r,a,i,o,l,s,u,c,f,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),qe?ke(t,g):t;if(s=e.d,f=t.d,r=t.e,u=e.e,s=s.slice(),o=u-r,o){for(c=o<0,c?(n=s,o=-o,l=f.length):(n=f,r=u,l=s.length),a=Math.max(Math.ceil(g/je),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=s.length,l=f.length,c=a<l,c&&(l=a),a=0;a<l;a++)if(s[a]!=f[a]){c=s[a]<f[a];break}o=0}for(c&&(n=s,s=f,f=n,t.s=-t.s),l=s.length,a=f.length-l;a>0;--a)s[l++]=0;for(a=f.length;a>o;){if(s[--a]<f[a]){for(i=a;i&&s[--i]===0;)s[i]=ft-1;--s[i],s[a]+=ft}s[a]-=f[a]}for(;s[--l]===0;)s.pop();for(;s[0]===0;s.shift())--r;return s[0]?(t.d=s,t.e=r,qe?ke(t,g):t):new p(0)}function di(e,t,n){var r,a=rt(e),i=Qn(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Qr(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Qr(-a-1)+i,n&&(r=n-o)>0&&(i+=Qr(r))):a>=o?(i+=Qr(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Qr(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Qr(r))),e.s<0?"-"+i:i}function oS(e,t){if(e.length>t)return e.length=t,!0}function RN(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ei+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return iS(o,i.toString())}else if(typeof i!="string")throw Error(ei+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,jU.test(i))iS(o,i);else throw Error(ei+i)}if(a.prototype=X,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=RN,a.config=a.set=LU,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function LU(e){if(!e||typeof e!="object")throw Error(On+"Object expected");var t,n,r,a=["precision",1,zo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Bo(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(ei+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ei+n+": "+r);return this}var Yy=RN(RU);an=new Yy(1);const _e=Yy;var UU=e=>e,jN={},LN=e=>e===jN,lS=e=>function t(){return arguments.length===0||arguments.length===1&&LN(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},UN=(e,t)=>e===1?t:lS(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==jN).length;return i>=e?t(...r):UN(e-i,lS(function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];var u=r.map(c=>LN(c)?l.shift():c);return t(...u,...l)}))}),sf=e=>UN(e.length,e),gh=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},zU=sf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),BU=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return UU;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,s)=>s(l),i(...arguments))}},yh=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),zN=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var s;return o===((s=t)===null||s===void 0?void 0:s[l])})||(t=a,n=e(...a)),n}};function BN(e){var t;return e===0?t=1:t=Math.floor(new _e(e).abs().log(10).toNumber())+1,t}function qN(e,t,n){for(var r=new _e(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}sf((e,t,n)=>{var r=+e,a=+t;return r+n*(a-r)});sf((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});sf((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var HN=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},VN=(e,t,n)=>{if(e.lte(0))return new _e(0);var r=BN(e.toNumber()),a=new _e(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new _e(Math.ceil(i.div(o).toNumber())).add(n).mul(o),s=l.mul(a);return t?new _e(s.toNumber()):new _e(Math.ceil(s.toNumber()))},qU=(e,t,n)=>{var r=new _e(1),a=new _e(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new _e(10).pow(BN(e)-1),a=new _e(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new _e(Math.floor(e)))}else e===0?a=new _e(Math.floor((t-1)/2)):n||(a=new _e(Math.floor(e)));var o=Math.floor((t-1)/2),l=BU(zU(s=>a.add(new _e(s-o).mul(r)).toNumber()),gh);return l(0,t)},$N=function(t,n,r,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new _e(0),tickMin:new _e(0),tickMax:new _e(0)};var o=VN(new _e(n).sub(t).div(r-1),a,i),l;t<=0&&n>=0?l=new _e(0):(l=new _e(t).add(n).div(2),l=l.sub(new _e(l).mod(o)));var s=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new _e(n).sub(l).div(o).toNumber()),c=s+u+1;return c>r?$N(t,n,r,a,i+1):(c<r&&(u=n>0?u+(r-c):u,s=n>0?s:s+(r-c)),{step:o,tickMin:l.sub(new _e(s).mul(o)),tickMax:l.add(new _e(u).mul(o))})};function HU(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,l]=HN([t,n]);if(o===-1/0||l===1/0){var s=l===1/0?[o,...gh(0,r-1).map(()=>1/0)]:[...gh(0,r-1).map(()=>-1/0),l];return t>n?yh(s):s}if(o===l)return qU(o,r,a);var{step:u,tickMin:c,tickMax:f}=$N(o,l,i,a,0),p=qN(c,f.add(new _e(.1).mul(u)),u);return t>n?yh(p):p}function VU(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=HN([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var l=Math.max(t,2),s=VN(new _e(o).sub(i).div(l-1),a,0),u=[...qN(new _e(i),new _e(o),s),o];return a===!1&&(u=u.map(c=>Math.round(c))),n>r?yh(u):u}var $U=zN(HU),GU=zN(VU),GN=e=>e.rootProps.maxBarSize,FU=e=>e.rootProps.barGap,FN=e=>e.rootProps.barCategoryGap,YU=e=>e.rootProps.barSize,uf=e=>e.rootProps.stackOffset,Ky=e=>e.options.chartName,Jy=e=>e.rootProps.syncId,YN=e=>e.rootProps.syncMethod,Xy=e=>e.options.eventEmitter,ht={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},gr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},tn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},cf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},KU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gr.angleAxisId,includeHidden:!1,name:void 0,reversed:gr.reversed,scale:gr.scale,tick:gr.tick,tickCount:void 0,ticks:void 0,type:gr.type,unit:void 0},JU={allowDataOverflow:tn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tn.scale,tick:tn.tick,tickCount:tn.tickCount,ticks:void 0,type:tn.type,unit:void 0},XU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gr.scale,tick:gr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},WU={allowDataOverflow:tn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tn.scale,tick:tn.tick,tickCount:tn.tickCount,ticks:void 0,type:"category",unit:void 0},Wy=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?XU:KU,Zy=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?WU:JU,df=e=>e.polarOptions,Qy=U([Hr,Vr,vt],K4),KN=U([df,Qy],(e,t)=>{if(e!=null)return $n(e.innerRadius,t,0)}),JN=U([df,Qy],(e,t)=>{if(e!=null)return $n(e.outerRadius,t,t*.8)}),ZU=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},XN=U([df],ZU);U([Wy,XN],cf);var WN=U([Qy,KN,JN],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});U([Zy,WN],cf);var ZN=U([Ee,df,KN,JN,Hr,Vr],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:s,endAngle:u}=t;return{cx:$n(o,a,a/2),cy:$n(l,i,i/2),innerRadius:n,outerRadius:r,startAngle:s,endAngle:u,clockWise:!1}}}),ut=(e,t)=>t,ff=(e,t,n)=>n;function e0(e){return e==null?void 0:e.id}function QN(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(l=>{var s,u=(s=l.data)!==null&&s!==void 0?s:r;if(!(u==null||u.length===0)){var c=e0(l);u.forEach((f,p)=>{var g=i==null||a?p:String(yt(f,i,null)),y=yt(f,l.dataKey,0),b;o.has(g)?b=o.get(g):b={},Object.assign(b,{[c]:y}),o.set(g,b)})}}),Array.from(o.values())}function mf(e){return e.stackId!=null&&e.dataKey!=null}var pf=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function hf(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function QU(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ct=e=>{var t=Ee(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},qo=e=>e.tooltip.settings.axisId;function sS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(n),!0).forEach(function(r){ez(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ez(e,t,n){return(t=tz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tz(e){var t=nz(e,"string");return typeof t=="symbol"?t:t+""}function nz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vh=[0,"auto"],Zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},e2=(e,t)=>e.cartesianAxis.xAxis[t],Gr=(e,t)=>{var n=e2(e,t);return n??Zt},Qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:vh,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:As},t2=(e,t)=>e.cartesianAxis.yAxis[t],Fr=(e,t)=>{var n=t2(e,t);return n??Qt},rz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},t0=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??rz},Bt=(e,t,n)=>{switch(t){case"xAxis":return Gr(e,n);case"yAxis":return Fr(e,n);case"zAxis":return t0(e,n);case"angleAxis":return Wy(e,n);case"radiusAxis":return Zy(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},az=(e,t,n)=>{switch(t){case"xAxis":return Gr(e,n);case"yAxis":return Fr(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ds=(e,t,n)=>{switch(t){case"xAxis":return Gr(e,n);case"yAxis":return Fr(e,n);case"angleAxis":return Wy(e,n);case"radiusAxis":return Zy(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},n2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function r2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var gf=e=>e.graphicalItems.cartesianItems,iz=U([ut,ff],r2),a2=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Os=U([gf,Bt,iz],a2,{memoizeOptions:{resultEqualityCheck:hf}}),i2=U([Os],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(mf)),o2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),oz=U([Os],o2),l2=e=>e.map(t=>t.data).filter(Boolean).flat(1),lz=U([Os],l2,{memoizeOptions:{resultEqualityCheck:hf}}),s2=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},n0=U([lz,lf],s2),u2=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:yt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:yt(a,r)}))):e.map(r=>({value:r})),yf=U([n0,Bt,Os],u2);function c2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Lu(e){if(rr(e)||e instanceof Date){var t=Number(e);if(We(t))return t}}function uS(e){if(Array.isArray(e)){var t=[Lu(e[0]),Lu(e[1])];return ci(t)?t:void 0}var n=Lu(e);if(n!=null)return[n,n]}function Ur(e){return e.map(Lu).filter(NR)}function sz(e,t,n){return!n||typeof t!="number"||Vn(t)?[]:n.length?Ur(n.flatMap(r=>{var a=yt(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!We(i)||!We(o)))return[t-i,t+o]})):[]}var dt=e=>{var t=ct(e),n=qo(e);return Ds(e,t,n)},d2=U([dt],e=>e==null?void 0:e.dataKey),uz=U([i2,lf,dt],QN),f2=(e,t,n)=>{var r={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),r);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,s=l.map(e0);return[o,{stackedData:q3(e,s,n),graphicalItems:l}]}))},xh=U([uz,i2,uf],f2),m2=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=F3(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},cz=U([Bt],e=>e.allowDataOverflow),r0=e=>{var t;if(e==null||!("domain"in e))return vh;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ur(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:vh},p2=U([Bt],r0),h2=U([p2,cz],MN),dz=U([xh,Ia,ut,h2],m2,{memoizeOptions:{resultEqualityCheck:pf}}),a0=e=>e.errorBars,fz=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>c2(n,r)),Fc=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},g2=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(l=>{n.forEach(s=>{var u,c,f=(u=r[s.id])===null||u===void 0?void 0:u.filter(v=>c2(a,v)),p=yt(l,(c=t.dataKey)!==null&&c!==void 0?c:s.dataKey),g=sz(l,p,f);if(g.length>=2){var y=Math.min(...g),b=Math.max(...g);(i==null||y<i)&&(i=y),(o==null||b>o)&&(o=b)}var E=uS(p);E!=null&&(i=i==null?E[0]:Math.min(i,E[0]),o=o==null?E[1]:Math.max(o,E[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var s=uS(yt(l,t.dataKey));s!=null&&(i=i==null?s[0]:Math.min(i,s[0]),o=o==null?s[1]:Math.max(o,s[1]))}),We(i)&&We(o))return[i,o]},mz=U([n0,Bt,oz,a0,ut],g2,{memoizeOptions:{resultEqualityCheck:pf}});function pz(e){var{value:t}=e;if(rr(t)||t instanceof Date)return t}var hz=(e,t,n)=>{var r=e.map(pz).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&yC(r))?JA(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},y2=e=>e.referenceElements.dots,Ho=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),gz=U([y2,ut,ff],Ho),v2=e=>e.referenceElements.areas,yz=U([v2,ut,ff],Ho),x2=e=>e.referenceElements.lines,vz=U([x2,ut,ff],Ho),b2=(e,t)=>{var n=Ur(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xz=U(gz,ut,b2),S2=(e,t)=>{var n=Ur(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bz=U([yz,ut],S2);function Sz(e){var t;if(e.x!=null)return Ur([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ur(n)}function Ez(e){var t;if(e.y!=null)return Ur([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ur(n)}var E2=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Sz(r):Ez(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wz=U([vz,ut],E2),_z=U(xz,wz,bz,(e,t,n)=>Fc(e,n,t)),w2=(e,t,n,r,a,i,o,l)=>{if(n!=null)return n;var s=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=s?Fc(r,i,a):Fc(i,a);return OU(t,u,e.allowDataOverflow)},Tz=U([Bt,p2,h2,dz,mz,_z,Ee,ut],w2,{memoizeOptions:{resultEqualityCheck:pf}}),Cz=[0,1],_2=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:s}=e,u=ka(t,i);if(u&&l==null){var c;return JA(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return s==="category"?hz(r,e,u):a==="expand"?Cz:o}},i0=U([Bt,Ee,n0,yf,uf,ut,Tz],_2),T2=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(_s(i));return l in vl?l:"point"}}},Rs=U([Bt,Ee,n2,Ky,ut],T2);function Az(e){if(e!=null){if(e in vl)return vl[e]();var t="scale".concat(_s(e));if(t in vl)return vl[t]()}}function o0(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=Az(t);if(a!=null){var i=a.domain(n).range(r);return j3(i),i}}}var C2=(e,t,n)=>{var r=r0(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ci(e))return $U(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ci(e))return GU(e,t.tickCount,t.allowDecimals)}},l0=U([i0,Ds,Rs],C2),A2=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ci(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],l=n[n.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},Nz=U([Bt,i0,l0,ut],A2),kz=U(yf,Bt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ur(e.map(l=>l.value))).sort((l,s)=>l-s);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var i=0;i<r.length-1;i++){var o=r[i+1]-r[i];n=Math.min(n,o)}return n/a}}),N2=U(kz,Ee,FN,vt,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!We(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=$n(n,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),Mz=(e,t)=>{var n=Gr(e,t);return n==null||typeof n.padding!="string"?0:N2(e,"xAxis",t,n.padding)},Pz=(e,t)=>{var n=Fr(e,t);return n==null||typeof n.padding!="string"?0:N2(e,"yAxis",t,n.padding)},Iz=U(Gr,Mz,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),Dz=U(Fr,Pz,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),Oz=U([vt,Iz,Jd,Kd,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Rz=U([vt,Ee,Dz,Jd,Kd,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),js=(e,t,n,r)=>{var a;switch(t){case"xAxis":return Oz(e,n,r);case"yAxis":return Rz(e,n,r);case"zAxis":return(a=t0(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return XN(e);case"radiusAxis":return WN(e,n);default:return}},k2=U([Bt,js],cf),Vo=U([Bt,Rs,Nz,k2],o0);U([Os,a0,ut],fz);function M2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var vf=(e,t)=>t,xf=(e,t,n)=>n,jz=U(Fd,vf,xf,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(M2)),Lz=U(Yd,vf,xf,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(M2)),P2=(e,t)=>({width:e.width,height:t.height}),Uz=(e,t)=>{var n=typeof t.width=="number"?t.width:As;return{width:n,height:e.height}},I2=U(vt,Gr,P2),zz=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Bz=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},qz=U(Vr,vt,jz,vf,xf,(e,t,n,r,a)=>{var i={},o;return n.forEach(l=>{var s=P2(t,l);o==null&&(o=zz(t,r,e));var u=r==="top"&&!a||r==="bottom"&&a;i[l.id]=o-Number(u)*s.height,o+=(u?-1:1)*s.height}),i}),Hz=U(Hr,vt,Lz,vf,xf,(e,t,n,r,a)=>{var i={},o;return n.forEach(l=>{var s=Uz(t,l);o==null&&(o=Bz(t,r,e));var u=r==="left"&&!a||r==="right"&&a;i[l.id]=o-Number(u)*s.width,o+=(u?-1:1)*s.width}),i}),Vz=(e,t)=>{var n=Gr(e,t);if(n!=null)return qz(e,n.orientation,n.mirror)},$z=U([vt,Gr,Vz,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Gz=(e,t)=>{var n=Fr(e,t);if(n!=null)return Hz(e,n.orientation,n.mirror)},Fz=U([vt,Fr,Gz,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),D2=U(vt,Fr,(e,t)=>{var n=typeof t.width=="number"?t.width:As;return{width:n,height:e.height}}),cS=(e,t,n)=>{switch(t){case"xAxis":return I2(e,n).width;case"yAxis":return D2(e,n).height;default:return}},O2=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,l=ka(e,r),s=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&yC(s))return s}},s0=U([Ee,yf,Bt,ut],O2),R2=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=ka(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},u0=U([Ee,yf,Ds,ut],R2),dS=U([Ee,az,Rs,Vo,s0,u0,js,l0,ut],(e,t,n,r,a,i,o,l,s)=>{if(t!=null){var u=ka(e,s);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:s,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:n,scale:r}}}),Yz=(e,t,n,r,a,i,o,l,s)=>{if(!(t==null||r==null)){var u=ka(e,s),{type:c,ticks:f,tickCount:p}=t,g=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=c==="category"&&r.bandwidth?r.bandwidth()/g:0;y=s==="angleAxis"&&i!=null&&i.length>=2?Ft(i[0]-i[1])*2*y:y;var b=f||a;if(b){var E=b.map((v,S)=>{var w=o?o.indexOf(v):v;return{index:S,coordinate:r(w)+y,value:v,offset:y}});return E.filter(v=>We(v.coordinate))}return u&&l?l.map((v,S)=>({coordinate:r(v)+y,value:v,index:S,offset:y})).filter(v=>We(v.coordinate)):r.ticks?r.ticks(p).map(v=>({coordinate:r(v)+y,value:v,offset:y})):r.domain().map((v,S)=>({coordinate:r(v)+y,value:o?o[v]:v,index:S,offset:y}))}},j2=U([Ee,Ds,Rs,Vo,l0,js,s0,u0,ut],Yz),Kz=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=ka(e,o),{tickCount:s}=t,u=0;return u=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Ft(r[0]-r[1])*2*u:u,l&&i?i.map((c,f)=>({coordinate:n(c)+u,value:c,index:f,offset:u})):n.ticks?n.ticks(s).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,f)=>({coordinate:n(c)+u,value:a?a[c]:c,index:f,offset:u}))}},Ta=U([Ee,Ds,Vo,js,s0,u0,ut],Kz),Ca=U(Bt,Vo,(e,t)=>{if(!(e==null||t==null))return Gc(Gc({},e),{},{scale:t})}),Jz=U([Bt,Rs,i0,k2],o0);U((e,t,n)=>t0(e,n),Jz,(e,t)=>{if(!(e==null||t==null))return Gc(Gc({},e),{},{scale:t})});var Xz=U([Ee,Fd,Yd],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),L2=e=>e.options.defaultTooltipEventType,U2=e=>e.options.validateTooltipEventTypes;function z2(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function c0(e,t){var n=L2(e),r=U2(e);return z2(t,n,r)}function Wz(e){return Z(t=>c0(t,e))}var B2=(e,t)=>{var n,r=Number(t);if(!(Vn(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Zz=e=>e.tooltip.settings,ia={active:!1,index:null,dataKey:void 0,coordinate:void 0},Qz={itemInteraction:{click:ia,hover:ia},axisInteraction:{click:ia,hover:ia},keyboardInteraction:ia,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},q2=Wt({name:"tooltip",initialState:Qz,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:it()},removeTooltipEntrySettings:{reducer(e,t){var n=Cr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:it()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:e8,removeTooltipEntrySettings:t8,setTooltipSettingsState:n8,setActiveMouseOverItemIndex:H2,mouseLeaveItem:r8,mouseLeaveChart:V2,setActiveClickItemIndex:a8,setMouseOverAxisIndex:$2,setMouseClickAxisIndex:i8,setSyncInteraction:bh,setKeyboardInteraction:Sh}=q2.actions,o8=q2.reducer;function fS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(n),!0).forEach(function(r){l8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l8(e,t,n){return(t=s8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s8(e){var t=u8(e,"string");return typeof t=="symbol"?t:t+""}function u8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c8(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function d8(e){return e.index!=null}var G2=(e,t,n,r)=>{if(t==null)return ia;var a=c8(e,t,n);if(a==null)return ia;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(d8(a)){if(i)return hu(hu({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return hu(hu({},ia),{},{coordinate:a.coordinate})},d0=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!We(r))return n;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(r,i)))},F2=(e,t,n,r,a,i,o,l)=>{if(!(i==null||l==null)){var s=o[0],u=s==null?void 0:l(s.positions,i);if(u!=null)return u;var c=a==null?void 0:a[Number(i)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:c.coordinate}}}},Y2=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},Ls=e=>e.options.tooltipPayloadSearcher,$o=e=>e.tooltip;function mS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(n),!0).forEach(function(r){f8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f8(e,t,n){return(t=m8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m8(e){var t=p8(e,"string");return typeof t=="symbol"?t:t+""}function p8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h8(e,t){return e??t}var K2=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:s,dataStartIndex:u,dataEndIndex:c}=n,f=[];return e.reduce((p,g)=>{var y,{dataDefinedOnItem:b,settings:E}=g,v=h8(b,l),S=Array.isArray(v)?wA(v,u,c):v,w=(y=E==null?void 0:E.dataKey)!==null&&y!==void 0?y:r,_=E==null?void 0:E.nameKey,T;if(r&&Array.isArray(S)&&!Array.isArray(S[0])&&o==="axis"?T=vC(S,r,a):T=i(S,t,s,_),Array.isArray(T))T.forEach(N=>{var k=pS(pS({},E),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});p.push(Yx({tooltipEntrySettings:k,dataKey:N.dataKey,payload:N.payload,value:yt(N.payload,N.dataKey),name:N.name}))});else{var A;p.push(Yx({tooltipEntrySettings:E,dataKey:w,payload:T,value:yt(T,w),name:(A=yt(T,_))!==null&&A!==void 0?A:E==null?void 0:E.name}))}return p},f)}},f0=U([dt,Ee,n2,Ky,ct],T2),g8=U([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),y8=U([ct,qo],r2),Us=U([g8,dt,y8],a2,{memoizeOptions:{resultEqualityCheck:hf}}),v8=U([Us],e=>e.filter(mf)),x8=U([Us],l2,{memoizeOptions:{resultEqualityCheck:hf}}),Go=U([x8,Ia],s2),b8=U([v8,Ia,dt],QN),m0=U([Go,dt,Us],u2),J2=U([dt],r0),S8=U([dt],e=>e.allowDataOverflow),X2=U([J2,S8],MN),E8=U([Us],e=>e.filter(mf)),w8=U([b8,E8,uf],f2),_8=U([w8,Ia,ct,X2],m2),T8=U([Us],o2),C8=U([Go,dt,T8,a0,ct],g2,{memoizeOptions:{resultEqualityCheck:pf}}),A8=U([y2,ct,qo],Ho),N8=U([A8,ct],b2),k8=U([v2,ct,qo],Ho),M8=U([k8,ct],S2),P8=U([x2,ct,qo],Ho),I8=U([P8,ct],E2),D8=U([N8,I8,M8],Fc),O8=U([dt,J2,X2,_8,C8,D8,Ee,ct],w2),W2=U([dt,Ee,Go,m0,uf,ct,O8],_2),R8=U([W2,dt,f0],C2),j8=U([dt,W2,R8,ct],A2),Z2=e=>{var t=ct(e),n=qo(e),r=!1;return js(e,t,n,r)},Q2=U([dt,Z2],cf),ek=U([dt,f0,j8,Q2],o0),L8=U([Ee,m0,dt,ct],O2),U8=U([Ee,m0,dt,ct],R2),z8=(e,t,n,r,a,i,o,l)=>{if(t){var{type:s}=t,u=ka(e,l);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=s==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Ft(a[0]-a[1])*2*f:f,u&&o?o.map((p,g)=>({coordinate:r(p)+f,value:p,index:g,offset:f})):r.domain().map((p,g)=>({coordinate:r(p)+f,value:i?i[p]:p,index:g,offset:f}))}}},Yr=U([Ee,dt,f0,ek,Z2,L8,U8,ct],z8),p0=U([L2,U2,Zz],(e,t,n)=>z2(n.shared,e,t)),tk=e=>e.tooltip.settings.trigger,h0=e=>e.tooltip.settings.defaultIndex,bf=U([$o,p0,tk,h0],G2),fi=U([bf,Go],d0),nk=U([Yr,fi],B2),rk=U([bf],e=>{if(e)return e.dataKey}),ak=U([$o,p0,tk,h0],Y2),B8=U([Hr,Vr,Ee,vt,Yr,h0,ak,Ls],F2),q8=U([bf,B8],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),H8=U([bf],e=>e.active),V8=U([ak,fi,Ia,d2,nk,Ls,p0],K2),$8=U([V8],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function hS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(n),!0).forEach(function(r){G8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G8(e,t,n){return(t=F8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F8(e){var t=Y8(e,"string");return typeof t=="symbol"?t:t+""}function Y8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K8=()=>Z(dt),J8=()=>{var e=K8(),t=Z(Yr),n=Z(ek);return Eo(!e||!n?void 0:gS(gS({},e),{},{scale:n}),t)};function yS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(n),!0).forEach(function(r){X8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X8(e,t,n){return(t=W8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W8(e){var t=Z8(e,"string");return typeof t=="symbol"?t:t+""}function Z8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q8=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},eB=(e,t,n,r)=>{var a=t.find(u=>u&&u.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Ai(Ai(Ai({},r),Ct(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:s}=r;return Ai(Ai(Ai({},r),Ct(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function tB(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var ik=(e,t,n,r,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<l;s++){var u=s>0?n[s-1].coordinate:n[l-1].coordinate,c=n[s].coordinate,f=s>=l-1?n[0].coordinate:n[s+1].coordinate,p=void 0;if(Ft(c-u)!==Ft(f-c)){var g=[];if(Ft(f-c)===Ft(a[1]-a[0])){p=f;var y=c+a[1]-a[0];g[0]=Math.min(y,(y+u)/2),g[1]=Math.max(y,(y+u)/2)}else{p=u;var b=f+a[1]-a[0];g[0]=Math.min(c,(b+c)/2),g[1]=Math.max(c,(b+c)/2)}var E=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>E[0]&&e<=E[1]||e>=g[0]&&e<=g[1]){({index:o}=n[s]);break}}else{var v=Math.min(u,f),S=Math.max(u,f);if(e>(v+c)/2&&e<=(S+c)/2){({index:o}=n[s]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},nB=()=>Z(Ky),g0=(e,t)=>t,ok=(e,t,n)=>n,y0=(e,t,n,r)=>r,rB=U(Yr,e=>zd(e,t=>t.coordinate)),v0=U([$o,g0,ok,y0],G2),lk=U([v0,Go],d0),aB=(e,t,n)=>{if(t!=null){var r=$o(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},sk=U([$o,g0,ok,y0],Y2),Yc=U([Hr,Vr,Ee,vt,Yr,y0,sk,Ls],F2),iB=U([v0,Yc],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),uk=U([Yr,lk],B2),oB=U([sk,lk,Ia,d2,uk,Ls,g0],K2),lB=U([v0],e=>({isActive:e.active,activeIndex:e.index})),sB=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&tB(e,o)){var l=Y3(e,t),s=ik(l,i,a,n,r),u=Q8(t,a,s,e);return{activeIndex:String(s),activeCoordinate:u}}},uB=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var l=Q4(e,n);if(l){var s=K3(l,t),u=ik(s,o,i,r,a),c=eB(t,i,u,l);return{activeIndex:String(u),activeCoordinate:c}}}},cB=(e,t,n,r,a,i,o,l)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?sB(e,t,r,a,i,o,l):uB(e,t,n,r,a,i,o)},dB=U(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),fB=U(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ht)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:QU}});function vS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(n),!0).forEach(function(r){mB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mB(e,t,n){return(t=pB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pB(e){var t=hB(e,"string");return typeof t=="symbol"?t:t+""}function hB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gB={},yB={zIndexMap:Object.values(ht).reduce((e,t)=>xS(xS({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),gB)},vB=new Set(Object.values(ht));function xB(e){return vB.has(e)}var ck=Wt({name:"zIndex",initialState:yB,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:it()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!xB(n)&&delete e.zIndexMap[n])},prepare:it()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:it()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:it()}}}),{registerZIndexPortal:bB,unregisterZIndexPortal:SB,registerZIndexPortalId:EB,unregisterZIndexPortalId:wB}=ck.actions,_B=ck.reducer;function jn(e){var{zIndex:t,children:n}=e,r=w5(),a=r&&t!==void 0&&t!==0,i=Dt(),o=Ve();x.useLayoutEffect(()=>a?(o(bB({zIndex:t})),()=>{o(SB({zIndex:t}))}):Lo,[o,t,a]);var l=Z(u=>dB(u,t,i));if(!a)return n;if(!l)return null;var s=document.getElementById(l);return s?md.createPortal(n,s):null}function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eh.apply(null,arguments)}function bS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(n),!0).forEach(function(r){TB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TB(e,t,n){return(t=CB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CB(e){var t=AB(e,"string");return typeof t=="symbol"?t:t+""}function AB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NB(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(n,r)}function kB(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:s,tooltipEventType:u,chartName:c}=e,f=n,p=r,g=a;if(!s||!f||c!=="ScatterChart"&&u!=="axis")return null;var y,b,E;if(c==="ScatterChart")y=f,b=p4,E=ht.cursorLine;else if(c==="BarChart")y=h4(l,f,i,o),b=HA,E=ht.cursorRectangle;else if(l==="radial"&&bC(f)){var{cx:v,cy:S,radius:w,startAngle:_,endAngle:T}=VA(f);y={cx:v,cy:S,startAngle:_,endAngle:T,innerRadius:w,outerRadius:w},b=GA,E=ht.cursorLine}else y={points:rL(l,f,i)},b=LA,E=ht.cursorLine;var A=typeof s=="object"&&"className"in s?s.className:void 0,N=gu(gu(gu(gu({stroke:"#ccc",pointerEvents:"none"},i),y),ws(s)),{},{payload:p,payloadIndex:g,className:Ce("recharts-tooltip-cursor",A)});return x.createElement(jn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},x.createElement(NB,{cursor:s,cursorComp:b,cursorProps:N}))}function MB(e){var t=J8(),n=OA(),r=Ns(),a=nB();return t==null||n==null||r==null||a==null?null:x.createElement(kB,Eh({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var dk=x.createContext(null),PB=()=>x.useContext(dk),fk={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(s,u,c){this.fn=s,this.context=u,this.once=c||!1}function i(s,u,c,f,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new a(c,f||s,p),y=n?n+u:u;return s._events[y]?s._events[y].fn?s._events[y]=[s._events[y],g]:s._events[y].push(g):(s._events[y]=g,s._eventsCount++),s}function o(s,u){--s._eventsCount===0?s._events=new r:delete s._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},l.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,y=new Array(g);p<g;p++)y[p]=f[p].fn;return y},l.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,c,f,p,g,y){var b=n?n+u:u;if(!this._events[b])return!1;var E=this._events[b],v=arguments.length,S,w;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),v){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,c),!0;case 3:return E.fn.call(E.context,c,f),!0;case 4:return E.fn.call(E.context,c,f,p),!0;case 5:return E.fn.call(E.context,c,f,p,g),!0;case 6:return E.fn.call(E.context,c,f,p,g,y),!0}for(w=1,S=new Array(v-1);w<v;w++)S[w-1]=arguments[w];E.fn.apply(E.context,S)}else{var _=E.length,T;for(w=0;w<_;w++)switch(E[w].once&&this.removeListener(u,E[w].fn,void 0,!0),v){case 1:E[w].fn.call(E[w].context);break;case 2:E[w].fn.call(E[w].context,c);break;case 3:E[w].fn.call(E[w].context,c,f);break;case 4:E[w].fn.call(E[w].context,c,f,p);break;default:if(!S)for(T=1,S=new Array(v-1);T<v;T++)S[T-1]=arguments[T];E[w].fn.apply(E[w].context,S)}}return!0},l.prototype.on=function(u,c,f){return i(this,u,c,f,!1)},l.prototype.once=function(u,c,f){return i(this,u,c,f,!0)},l.prototype.removeListener=function(u,c,f,p){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===c&&(!p||y.once)&&(!f||y.context===f)&&o(this,g);else{for(var b=0,E=[],v=y.length;b<v;b++)(y[b].fn!==c||p&&!y[b].once||f&&y[b].context!==f)&&E.push(y[b]);E.length?this._events[g]=E.length===1?E[0]:E:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(fk);var IB=fk.exports;const DB=or(IB);var ls=new DB,wh="recharts.syncEvent.tooltip",SS="recharts.syncEvent.brush";function mk(e,t){if(t){var n=Number.parseInt(t,10);if(!Vn(n))return e==null?void 0:e[n]}}var OB={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},pk=Wt({name:"options",initialState:OB,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),RB=pk.reducer,{createEventEmitter:jB}=pk.actions;function LB(e){return e.tooltip.syncInteraction}var UB={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},hk=Wt({name:"chartData",initialState:UB,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:ES,setDataStartEndIndexes:zB,setComputedData:XW}=hk.actions,BB=hk.reducer,qB=["x","y"];function wS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(n),!0).forEach(function(r){HB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HB(e,t,n){return(t=VB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VB(e){var t=$B(e,"string");return typeof t=="symbol"?t:t+""}function $B(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GB(e,t){if(e==null)return{};var n,r,a=FB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function FB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YB(){var e=Z(Jy),t=Z(Xy),n=Ve(),r=Z(YN),a=Z(Yr),i=Ns(),o=Xd(),l=Z(s=>s.rootProps.className);x.useEffect(()=>{if(e==null)return Lo;var s=(u,c,f)=>{if(t!==f&&e===u){if(r==="index"){var p;if(o&&c!==null&&c!==void 0&&(p=c.payload)!==null&&p!==void 0&&p.coordinate&&c.payload.sourceViewBox){var g=c.payload.coordinate,{x:y,y:b}=g,E=GB(g,qB),{x:v,y:S,width:w,height:_}=c.payload.sourceViewBox,T=Ni(Ni({},E),{},{x:o.x+(w?(y-v)/w:0)*o.width,y:o.y+(_?(b-S)/_:0)*o.height});n(Ni(Ni({},c),{},{payload:Ni(Ni({},c.payload),{},{coordinate:T})}))}else n(c);return}if(a!=null){var A;if(typeof r=="function"){var N={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},k=r(a,N);A=a[k]}else r==="value"&&(A=a.find(P=>String(P.value)===c.payload.label));var{coordinate:I}=c.payload;if(A==null||c.payload.active===!1||I==null||o==null){n(bh({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:O,y:C}=I,R=Math.min(O,o.x+o.width),G=Math.min(C,o.y+o.height),$={x:i==="horizontal"?A.coordinate:R,y:i==="horizontal"?G:A.coordinate},K=bh({active:c.payload.active,coordinate:$,dataKey:c.payload.dataKey,index:String(A.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox});n(K)}}};return ls.on(wh,s),()=>{ls.off(wh,s)}},[l,n,t,e,r,a,i,o])}function KB(){var e=Z(Jy),t=Z(Xy),n=Ve();x.useEffect(()=>{if(e==null)return Lo;var r=(a,i,o)=>{t!==o&&e===a&&n(zB(i))};return ls.on(SS,r),()=>{ls.off(SS,r)}},[n,t,e])}function JB(){var e=Ve();x.useEffect(()=>{e(jB())},[e]),YB(),KB()}function XB(e,t,n,r,a,i){var o=Z(g=>aB(g,e,t)),l=Z(Xy),s=Z(Jy),u=Z(YN),c=Z(LB),f=c==null?void 0:c.active,p=Xd();x.useEffect(()=>{if(!f&&s!=null&&l!=null){var g=bh({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p});ls.emit(wh,s,g,l)}},[f,n,o,a,r,l,s,u,i,p])}function _S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function TS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(n),!0).forEach(function(r){WB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_S(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WB(e,t,n){return(t=ZB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZB(e){var t=QB(e,"string");return typeof t=="symbol"?t:t+""}function QB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eq(e){return e.dataKey}function tq(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(F5,t)}var CS=[],nq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!bi.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function AS(e){var t,n,r=Nt(e,nq),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:s,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:p,position:g,reverseDirection:y,useTranslate3d:b,wrapperStyle:E,cursor:v,shared:S,trigger:w,defaultIndex:_,portal:T,axisId:A}=r,N=Ve(),k=typeof _=="number"?String(_):_;x.useEffect(()=>{N(n8({shared:S,trigger:w,axisId:A,active:a,defaultIndex:k}))},[N,S,w,A,a,k]);var I=Xd(),O=jA(),C=Wz(S),{activeIndex:R,isActive:G}=(t=Z(xe=>lB(xe,C,w,k)))!==null&&t!==void 0?t:{},$=Z(xe=>oB(xe,C,w,k)),K=Z(xe=>uk(xe,C,w,k)),P=Z(xe=>iB(xe,C,w,k)),L=$,V=PB(),D=(n=a??G)!==null&&n!==void 0?n:!1,[B,Q]=XC([L,D]),J=C==="axis"?K:void 0;XB(C,w,P,J,R,D);var se=T??V;if(se==null||I==null||C==null)return null;var te=L??CS;D||(te=CS),u&&te.length&&(te=UC(te.filter(xe=>xe.value!=null&&(xe.hide!==!0||r.includeHidden)),p,eq));var le=te.length>0,bt=x.createElement(Q5,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:c,active:D,coordinate:P,hasPayload:le,offset:f,position:g,reverseDirection:y,useTranslate3d:b,viewBox:I,wrapperStyle:E,lastBoundingBox:B,innerRef:Q,hasPortalFromProps:!!T},tq(s,TS(TS({},r),{},{payload:te,label:J,active:D,activeIndex:R,coordinate:P,accessibilityLayer:O})));return x.createElement(x.Fragment,null,md.createPortal(bt,se),D&&x.createElement(MB,{cursor:v,tooltipEventType:C,coordinate:P,payload:te,index:R}))}var gk=e=>null;gk.displayName="Cell";function rq(e,t,n){return(t=aq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aq(e){var t=iq(e,"string");return typeof t=="symbol"?t:t+""}function iq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class oq{constructor(t){rq(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function NS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(n),!0).forEach(function(r){sq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sq(e,t,n){return(t=uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uq(e){var t=cq(e,"string");return typeof t=="symbol"?t:t+""}function cq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dq={cacheSize:2e3,enableCache:!0},yk=lq({},dq),kS=new oq(yk.cacheSize),fq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MS="recharts_measurement_span";function mq(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var PS=(e,t)=>{try{var n=document.getElementById(MS);n||(n=document.createElement("span"),n.setAttribute("id",MS),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,fq,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Dl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||bi.isSsr)return{width:0,height:0};if(!yk.enableCache)return PS(t,n);var r=mq(t,n),a=kS.get(r);if(a)return a;var i=PS(t,n);return kS.set(r,i),i},IS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gq=Object.keys(vk),Gi="NaN";function yq(e,t){return e*vk[t]}class Gt{static parse(t){var n,[,r,a]=(n=hq.exec(t))!==null&&n!==void 0?n:[];return new Gt(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Vn(t)&&(this.unit=""),n!==""&&!pq.test(n)&&(this.num=NaN,this.unit=""),gq.includes(n)&&(this.num=yq(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Gt(NaN,""):new Gt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Gt(NaN,""):new Gt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gt(NaN,""):new Gt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gt(NaN,""):new Gt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Vn(this.num)}}function xk(e){if(e.includes(Gi))return Gi;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=IS.exec(t))!==null&&n!==void 0?n:[],o=Gt.parse(r??""),l=Gt.parse(i??""),s=a==="*"?o.multiply(l):o.divide(l);if(s.isNaN())return Gi;t=t.replace(IS,s.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,f,p]=(u=DS.exec(t))!==null&&u!==void 0?u:[],g=Gt.parse(c??""),y=Gt.parse(p??""),b=f==="+"?g.add(y):g.subtract(y);if(b.isNaN())return Gi;t=t.replace(DS,b.toString())}return t}var OS=/\(([^()]*)\)/;function vq(e){for(var t=e,n;(n=OS.exec(t))!=null;){var[,r]=n;t=t.replace(OS,xk(r))}return t}function xq(e){var t=e.replace(/\s+/g,"");return t=vq(t),t=xk(t),t}function bq(e){try{return xq(e)}catch{return Gi}}function Rm(e){var t=bq(e.slice(5,-1));return t===Gi?"":t}var Sq=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Eq=["dx","dy","angle","className","breakAll"];function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_h.apply(null,arguments)}function RS(e,t){if(e==null)return{};var n,r,a=wq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bk=/[ \f\n\r\t\v\u2028\u2029]+/,Sk=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];He(t)||(n?a=t.toString().split(""):a=t.toString().split(bk));var i=a.map(l=>({word:l,width:Dl(l,r).width})),o=n?0:Dl("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function _q(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Ek=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:l}=i,s=a[a.length-1];if(s&&l!=null&&(t==null||r||s.width+l+n<Number(t)))s.words.push(o),s.width+=l+n;else{var u={words:[o],width:l};a.push(u)}return a},[]),wk=e=>e.reduce((t,n)=>t.width>n.width?t:n),Tq="",jS=(e,t,n,r,a,i,o,l)=>{var s=e.slice(0,t),u=Sk({breakAll:n,style:r,children:s+Tq});if(!u)return[!1,[]];var c=Ek(u.wordsWithComputedWidth,i,o,l),f=c.length>a||wk(c).width>Number(i);return[f,c]},Cq=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:l,breakAll:s}=e,u=W(i),c=String(o),f=Ek(t,r,n,a);if(!u||a)return f;var p=f.length>i||wk(f).width>Number(r);if(!p)return f;for(var g=0,y=c.length-1,b=0,E;g<=y&&b<=c.length-1;){var v=Math.floor((g+y)/2),S=v-1,[w,_]=jS(c,S,s,l,i,r,n,a),[T]=jS(c,v,s,l,i,r,n,a);if(!w&&!T&&(g=v+1),w&&T&&(y=v-1),!w&&T){E=_;break}b++}return E||f},LS=e=>{var t=He(e)?[]:e.toString().split(bk);return[{words:t,width:void 0}]},Aq=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!bi.isSsr){var l,s,u=Sk({breakAll:i,children:r,style:a});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;l=c,s=f}else return LS(r);return Cq({breakAll:i,children:r,maxLines:o,style:a},l,s,t,!!n)}return LS(r)},_k="#808080",Nq={breakAll:!1,capHeight:"0.71em",fill:_k,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},x0=x.forwardRef((e,t)=>{var n=Nt(e,Nq),{x:r,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:s,textAnchor:u,verticalAnchor:c}=n,f=RS(n,Sq),p=x.useMemo(()=>Aq({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:s,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,s,f.style,f.width]),{dx:g,dy:y,angle:b,className:E,breakAll:v}=f,S=RS(f,Eq);if(!rr(r)||!rr(a)||p.length===0)return null;var w=Number(r)+(W(g)?g:0),_=Number(a)+(W(y)?y:0);if(!We(w)||!We(_))return null;var T;switch(c){case"start":T=Rm("calc(".concat(o,")"));break;case"middle":T=Rm("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:T=Rm("calc(".concat(p.length-1," * -").concat(i,")"));break}var A=[];if(s){var N=p[0].width,{width:k}=f;A.push("scale(".concat(W(k)&&W(N)?k/N:1,")"))}return b&&A.push("rotate(".concat(b,", ").concat(w,", ").concat(_,")")),A.length&&(S.transform=A.join(" ")),x.createElement("text",_h({},Ut(S),{ref:t,x:w,y:_,className:Ce("recharts-text",E),textAnchor:u,fill:l.includes("url")?_k:l}),p.map((I,O)=>{var C=I.words.join(v?"":" ");return x.createElement("tspan",{x:w,dy:O===0?T:i,key:"".concat(C,"-").concat(O)},C)}))});x0.displayName="Text";var kq=["labelRef"];function Mq(e,t){if(e==null)return{};var n,r,a=Pq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Pq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function US(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?US(Object(n),!0).forEach(function(r){Iq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iq(e,t,n){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(){return yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yr.apply(null,arguments)}var Tk=x.createContext(null),Rq=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:l}=e,s=x.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return x.createElement(Tk.Provider,{value:s},l)},Ck=()=>{var e=x.useContext(Tk),t=Xd();return e||DA(t)},jq=x.createContext(null),Lq=()=>{var e=x.useContext(jq),t=Z(ZN);return e||t},Uq=e=>{var{value:t,formatter:n}=e,r=He(e.children)?t:e.children;return typeof n=="function"?n(r):r},b0=e=>e!=null&&typeof e=="function",zq=(e,t)=>{var n=Ft(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Bq=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:l,cy:s,innerRadius:u,outerRadius:c,startAngle:f,endAngle:p,clockWise:g}=a,y=(u+c)/2,b=zq(f,p),E=b>=0?1:-1,v,S;switch(t){case"insideStart":v=f+E*i,S=g;break;case"insideEnd":v=p-E*i,S=!g;break;case"end":v=p+E*i,S=g;break;default:throw new Error("Unsupported position ".concat(t))}S=b<=0?S:!S;var w=Ct(l,s,y,v),_=Ct(l,s,y,v+(S?1:-1)*359),T="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),A=He(e.id)?Wl("recharts-radial-line-"):e.id;return x.createElement("text",yr({},r,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:A,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(A)},n))},qq=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:s}=e,u=(l+s)/2;if(n==="outside"){var{x:c,y:f}=Ct(r,a,o+t,u);return{x:c,y:f,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:g,y}=Ct(r,a,p,u);return{x:g,y,textAnchor:"middle",verticalAnchor:"middle"}},Th=e=>"cx"in e&&W(e.cx),Hq=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!Th(n)&&(i=n);var{x:o,y:l,upperWidth:s,lowerWidth:u,height:c}=t,f=o,p=o+(s-u)/2,g=(f+p)/2,y=(s+u)/2,b=f+s/2,E=c>=0?1:-1,v=E*r,S=E>0?"end":"start",w=E>0?"start":"end",_=s>=0?1:-1,T=_*r,A=_>0?"end":"start",N=_>0?"start":"end";if(a==="top"){var k={x:f+s/2,y:l-v,textAnchor:"middle",verticalAnchor:S};return Ke(Ke({},k),i?{height:Math.max(l-i.y,0),width:s}:{})}if(a==="bottom"){var I={x:p+u/2,y:l+c+v,textAnchor:"middle",verticalAnchor:w};return Ke(Ke({},I),i?{height:Math.max(i.y+i.height-(l+c),0),width:u}:{})}if(a==="left"){var O={x:g-T,y:l+c/2,textAnchor:A,verticalAnchor:"middle"};return Ke(Ke({},O),i?{width:Math.max(O.x-i.x,0),height:c}:{})}if(a==="right"){var C={x:g+y+T,y:l+c/2,textAnchor:N,verticalAnchor:"middle"};return Ke(Ke({},C),i?{width:Math.max(i.x+i.width-C.x,0),height:c}:{})}var R=i?{width:y,height:c}:{};return a==="insideLeft"?Ke({x:g+T,y:l+c/2,textAnchor:N,verticalAnchor:"middle"},R):a==="insideRight"?Ke({x:g+y-T,y:l+c/2,textAnchor:A,verticalAnchor:"middle"},R):a==="insideTop"?Ke({x:f+s/2,y:l+v,textAnchor:"middle",verticalAnchor:w},R):a==="insideBottom"?Ke({x:p+u/2,y:l+c-v,textAnchor:"middle",verticalAnchor:S},R):a==="insideTopLeft"?Ke({x:f+T,y:l+v,textAnchor:N,verticalAnchor:w},R):a==="insideTopRight"?Ke({x:f+s-T,y:l+v,textAnchor:A,verticalAnchor:w},R):a==="insideBottomLeft"?Ke({x:p+T,y:l+c-v,textAnchor:N,verticalAnchor:S},R):a==="insideBottomRight"?Ke({x:p+u-T,y:l+c-v,textAnchor:A,verticalAnchor:S},R):a&&typeof a=="object"&&(W(a.x)||Dr(a.x))&&(W(a.y)||Dr(a.y))?Ke({x:o+$n(a.x,y),y:l+$n(a.y,c),textAnchor:"end",verticalAnchor:"end"},R):Ke({x:b,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Vq={offset:5,zIndex:ht.label};function ea(e){var t=Nt(e,Vq),{viewBox:n,position:r,value:a,children:i,content:o,className:l="",textBreakAll:s,labelRef:u}=t,c=Lq(),f=Ck(),p=r==="center"?f:c??f,g,y,b;if(n==null?g=p:Th(n)?g=n:g=DA(n),!g||He(a)&&He(i)&&!x.isValidElement(o)&&typeof o!="function")return null;var E=Ke(Ke({},t),{},{viewBox:g});if(x.isValidElement(o)){var{labelRef:v}=E,S=Mq(E,kq);return x.cloneElement(o,S)}if(typeof o=="function"){if(y=x.createElement(o,E),x.isValidElement(y))return y}else y=Uq(t);var w=Ut(t);if(Th(g)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Bq(t,r,y,w,g);b=qq(g,t.offset,t.position)}else b=Hq(t,g);return x.createElement(jn,{zIndex:t.zIndex},x.createElement(x0,yr({ref:u,className:Ce("recharts-label",l)},w,b,{textAnchor:_q(w.textAnchor)?w.textAnchor:b.textAnchor,breakAll:s}),y))}ea.displayName="Label";var $q=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(ea,yr({key:"label-implicit"},r)):rr(e)?x.createElement(ea,yr({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===ea?x.cloneElement(e,Ke({key:"label-implicit"},r)):x.createElement(ea,yr({key:"label-implicit",content:e},r)):b0(e)?x.createElement(ea,yr({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(ea,yr({},e,{key:"label-implicit"},r)):null};function Gq(e){var{label:t,labelRef:n}=e,r=Ck();return $q(t,r,n)||null}var Ak={},Nk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Nk);var kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(kk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nk,n=kk,r=Ld;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(Ak);var Fq=Ak.last;const Yq=or(Fq);var Kq=["valueAccessor"],Jq=["dataKey","clockWise","id","textBreakAll","zIndex"];function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kc.apply(null,arguments)}function zS(e,t){if(e==null)return{};var n,r,a=Xq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wq=e=>Array.isArray(e.value)?Yq(e.value):e.value,Mk=x.createContext(void 0),Pk=Mk.Provider,Ik=x.createContext(void 0);Ik.Provider;function Zq(){return x.useContext(Mk)}function Qq(){return x.useContext(Ik)}function Uu(e){var{valueAccessor:t=Wq}=e,n=zS(e,Kq),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:l}=n,s=zS(n,Jq),u=Zq(),c=Qq(),f=u||c;return!f||!f.length?null:x.createElement(jn,{zIndex:l??ht.label},x.createElement(In,{className:"recharts-label-list"},f.map((p,g)=>{var y,b=He(r)?t(p,g):yt(p&&p.payload,r),E=He(i)?{}:{id:"".concat(i,"-").concat(g)};return x.createElement(ea,Kc({key:"label-".concat(g)},Ut(p),s,E,{fill:(y=n.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:o,viewBox:p.viewBox,index:g,zIndex:0}))})))}Uu.displayName="LabelList";function Dk(e){var{label:t}=e;return t?t===!0?x.createElement(Uu,{key:"labelList-implicit"}):x.isValidElement(t)||b0(t)?x.createElement(Uu,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Uu,Kc({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ch.apply(null,arguments)}var Ok=e=>{var{cx:t,cy:n,r,className:a}=e,i=Ce("recharts-dot",a);return W(t)&&W(n)&&W(r)?x.createElement("circle",Ch({},Hn(e),ty(e),{className:i,cx:t,cy:n,r})):null},e7={radiusAxis:{},angleAxis:{}},Rk=Wt({name:"polarAxis",initialState:e7,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:WW,removeRadiusAxis:ZW,addAngleAxis:QW,removeAngleAxis:eZ}=Rk.actions,t7=Rk.reducer,jk={exports:{}},Pe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0=Symbol.for("react.transitional.element"),E0=Symbol.for("react.portal"),Sf=Symbol.for("react.fragment"),Ef=Symbol.for("react.strict_mode"),wf=Symbol.for("react.profiler"),_f=Symbol.for("react.consumer"),Tf=Symbol.for("react.context"),Cf=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Nf=Symbol.for("react.suspense_list"),kf=Symbol.for("react.memo"),Mf=Symbol.for("react.lazy"),n7=Symbol.for("react.view_transition"),r7=Symbol.for("react.client.reference");function Ln(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case S0:switch(e=e.type,e){case Sf:case wf:case Ef:case Af:case Nf:case n7:return e;default:switch(e=e&&e.$$typeof,e){case Tf:case Cf:case Mf:case kf:return e;case _f:return e;default:return t}}case E0:return t}}}Pe.ContextConsumer=_f;Pe.ContextProvider=Tf;Pe.Element=S0;Pe.ForwardRef=Cf;Pe.Fragment=Sf;Pe.Lazy=Mf;Pe.Memo=kf;Pe.Portal=E0;Pe.Profiler=wf;Pe.StrictMode=Ef;Pe.Suspense=Af;Pe.SuspenseList=Nf;Pe.isContextConsumer=function(e){return Ln(e)===_f};Pe.isContextProvider=function(e){return Ln(e)===Tf};Pe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===S0};Pe.isForwardRef=function(e){return Ln(e)===Cf};Pe.isFragment=function(e){return Ln(e)===Sf};Pe.isLazy=function(e){return Ln(e)===Mf};Pe.isMemo=function(e){return Ln(e)===kf};Pe.isPortal=function(e){return Ln(e)===E0};Pe.isProfiler=function(e){return Ln(e)===wf};Pe.isStrictMode=function(e){return Ln(e)===Ef};Pe.isSuspense=function(e){return Ln(e)===Af};Pe.isSuspenseList=function(e){return Ln(e)===Nf};Pe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sf||e===wf||e===Ef||e===Af||e===Nf||typeof e=="object"&&e!==null&&(e.$$typeof===Mf||e.$$typeof===kf||e.$$typeof===Tf||e.$$typeof===_f||e.$$typeof===Cf||e.$$typeof===r7||e.getModuleId!==void 0)};Pe.typeOf=Ln;jk.exports=Pe;var a7=jk.exports,BS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",qS=null,jm=null,Lk=e=>{if(e===qS&&Array.isArray(jm))return jm;var t=[];return x.Children.forEach(e,n=>{He(n)||(a7.isFragment(n)?t=t.concat(Lk(n.props.children)):t.push(n))}),jm=t,qS=e,t};function i7(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>BS(a)):r=[BS(t)],Lk(e).forEach(a=>{var i=bo(a,"type.displayName")||bo(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var Uk=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,zk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(zk);var o7=zk.isPlainObject;const l7=or(o7);function HS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function VS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(n),!0).forEach(function(r){s7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s7(e,t,n){return(t=u7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u7(e){var t=c7(e,"string");return typeof t=="symbol"?t:t+""}function c7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jc.apply(null,arguments)}var $S=(e,t,n,r,a)=>{var i=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-i/2,",").concat(t+a),o+="L ".concat(e+n-i/2-r,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},d7={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f7=e=>{var t=Nt(e,d7),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:s,animationDuration:u,animationBegin:c,isUpdateAnimationActive:f}=t,p=x.useRef(null),[g,y]=x.useState(-1),b=x.useRef(a),E=x.useRef(i),v=x.useRef(o),S=x.useRef(n),w=x.useRef(r),_=Qd(e,"trapezoid-");if(x.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var $=p.current.getTotalLength();$&&y($)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var T=Ce("recharts-trapezoid",l);if(!f)return x.createElement("g",null,x.createElement("path",Jc({},Ut(t),{className:T,d:$S(n,r,a,i,o)})));var A=b.current,N=E.current,k=v.current,I=S.current,O=w.current,C="0px ".concat(g===-1?1:g,"px"),R="".concat(g,"px 0px"),G=UA(["strokeDasharray"],u,s);return x.createElement(Zd,{animationId:_,key:_,canBegin:g>0,duration:u,easing:s,isActive:f,begin:c},$=>{var K=Fe(A,a,$),P=Fe(N,i,$),L=Fe(k,o,$),V=Fe(I,n,$),D=Fe(O,r,$);p.current&&(b.current=K,E.current=P,v.current=L,S.current=V,w.current=D);var B=$>0?{transition:G,strokeDasharray:R}:{strokeDasharray:C};return x.createElement("path",Jc({},Ut(t),{className:T,d:$S(V,D,K,P,L),ref:p,style:VS(VS({},B),t.style)}))})},m7=["option","shapeType","propTransformer","activeClassName","isActive"];function p7(e,t){if(e==null)return{};var n,r,a=h7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function h7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(n),!0).forEach(function(r){g7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g7(e,t,n){return(t=y7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y7(e){var t=v7(e,"string");return typeof t=="symbol"?t:t+""}function v7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x7(e,t){return Xc(Xc({},t),e)}function b7(e,t){return e==="symbols"}function FS(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(HA,n);case"trapezoid":return x.createElement(f7,n);case"sector":return x.createElement(GA,n);case"symbols":if(b7(t))return x.createElement(ey,n);break;case"curve":return x.createElement(LA,n);default:return null}}function S7(e){return x.isValidElement(e)?e.props:e}function Bk(e){var{option:t,shapeType:n,propTransformer:r=x7,activeClassName:a="recharts-active-shape",isActive:i}=e,o=p7(e,m7),l;if(x.isValidElement(t))l=x.cloneElement(t,Xc(Xc({},o),S7(t)));else if(typeof t=="function")l=t(o);else if(l7(t)&&typeof t!="boolean"){var s=r(t,o);l=x.createElement(FS,{shapeType:n,elementProps:s})}else{var u=o;l=x.createElement(FS,{shapeType:n,elementProps:u})}return i?x.createElement(In,{className:a},l):l}var qk=(e,t)=>{var n=Ve();return(r,a)=>i=>{e==null||e(r,a,i),n(H2({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},Hk=e=>{var t=Ve();return(n,r)=>a=>{e==null||e(n,r,a),t(r8())}},Vk=(e,t)=>{var n=Ve();return(r,a)=>i=>{e==null||e(r,a,i),n(a8({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function $k(e){var{fn:t,args:n}=e,r=Ve(),a=Dt();return x.useLayoutEffect(()=>{if(!a){var i=t(n);return r(e8(i)),()=>{r(t8(i))}}},[t,n,r,a]),null}function Gk(e){var{legendPayload:t}=e,n=Ve(),r=Dt();return x.useLayoutEffect(()=>r?Lo:(n(C5(t)),()=>{n(A5(t))}),[n,r,t]),null}var Lm,E7=()=>{var[e]=x.useState(()=>Wl("uid-"));return e},w7=(Lm=SP.useId)!==null&&Lm!==void 0?Lm:E7;function Fk(e,t){var n=w7();return t||(e?"".concat(e,"-").concat(n):n)}var _7=x.createContext(void 0),Yk=e=>{var{id:t,type:n,children:r}=e,a=Fk("recharts-".concat(n),t);return x.createElement(_7.Provider,{value:a},r(a))},T7={cartesianItems:[],polarItems:[]},Kk=Wt({name:"graphicalItems",initialState:T7,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:it()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Cr(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:it()},removeCartesianGraphicalItem:{reducer(e,t){var n=Cr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:it()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:it()},removePolarGraphicalItem:{reducer(e,t){var n=Cr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:it()}}}),{addCartesianGraphicalItem:C7,replaceCartesianGraphicalItem:A7,removeCartesianGraphicalItem:N7,addPolarGraphicalItem:tZ,removePolarGraphicalItem:nZ}=Kk.actions,k7=Kk.reducer;function Jk(e){var t=Ve(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(C7(e)):n.current!==e&&t(A7({prev:n.current,next:e})),n.current=e},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(t(N7(n.current)),n.current=null)},[t]),null}var M7=["points"];function YS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Um(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(n),!0).forEach(function(r){P7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P7(e,t,n){return(t=I7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I7(e){var t=D7(e,"string");return typeof t=="symbol"?t:t+""}function D7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wc.apply(null,arguments)}function O7(e,t){if(e==null)return{};var n,r,a=R7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function R7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function j7(e){var{option:t,dotProps:n,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,n);if(typeof t=="function")return t(n);var a=Ce(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,l=O7(i,M7);return x.createElement(Ok,Wc({},l,{className:a}))}function L7(e,t){return e==null?!1:t?!0:e.length===1}function U7(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:l,clipPathId:s,zIndex:u=ht.scatter}=e;if(!L7(t,n))return null;var c=Uk(n),f=zO(n),p=t.map((y,b)=>{var E,v,S=Um(Um(Um({r:3},o),f),{},{index:b,cx:(E=y.x)!==null&&E!==void 0?E:void 0,cy:(v=y.y)!==null&&v!==void 0?v:void 0,dataKey:i,value:y.value,payload:y.payload,points:t});return x.createElement(j7,{key:"dot-".concat(b),option:n,dotProps:S,className:a})}),g={};return l&&s!=null&&(g.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(s,")")),x.createElement(jn,{zIndex:u},x.createElement(In,Wc({className:r},g),p))}function KS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function JS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(n),!0).forEach(function(r){z7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z7(e,t,n){return(t=B7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B7(e){var t=q7(e,"string");return typeof t=="symbol"?t:t+""}function q7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H7={xAxis:{},yAxis:{},zAxis:{}},Xk=Wt({name:"cartesianAxis",initialState:H7,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:it()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:it()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:it()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:it()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:it()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:it()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=JS(JS({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:V7,removeXAxis:$7,addYAxis:G7,removeYAxis:F7,addZAxis:rZ,removeZAxis:aZ,updateYAxisWidth:Y7}=Xk.actions,K7=Xk.reducer,J7=U([vt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),X7=U([J7,Hr,Vr],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),w0=()=>Z(X7),W7=()=>Z($8);function XS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(n),!0).forEach(function(r){Z7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z7(e,t,n){return(t=Q7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q7(e){var t=eH(e,"string");return typeof t=="symbol"?t:t+""}function eH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tH=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=zm(zm(zm({},o),ws(a)),ty(a)),s;return x.isValidElement(a)?s=x.cloneElement(a,l):typeof a=="function"?s=a(l):s=x.createElement(Ok,l),x.createElement(In,{className:"recharts-active-dot"},s)};function nH(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,zIndex:i=ht.activeDot}=e,o=Z(fi),l=W7();if(t==null||l==null)return null;var s=t.find(u=>l.includes(u.payload));return He(s)?null:x.createElement(jn,{zIndex:i},x.createElement(tH,{point:s,childIndex:Number(o),mainColor:n,dataKey:a,activeDot:r}))}var rH="Invariant failed";function aH(e,t){throw new Error(rH)}var iH=["x","y"];function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ah.apply(null,arguments)}function WS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(n),!0).forEach(function(r){oH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oH(e,t,n){return(t=lH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lH(e){var t=sH(e,"string");return typeof t=="symbol"?t:t+""}function sH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uH(e,t){if(e==null)return{};var n,r,a=cH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dH(e,t){var{x:n,y:r}=e,a=uH(e,iH),i="".concat(n),o=parseInt(i,10),l="".concat(r),s=parseInt(l,10),u="".concat(t.height||a.height),c=parseInt(u,10),f="".concat(t.width||a.width),p=parseInt(f,10);return cl(cl(cl(cl(cl({},t),a),o?{x:o}:{}),s?{y:s}:{}),{},{height:c,width:p,name:t.name,radius:t.radius})}function Zc(e){return x.createElement(Bk,Ah({shapeType:"rectangle",propTransformer:dH,activeClassName:"recharts-active-bar"},e))}var fH=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(W(t))return t;var i=W(r)||He(r);return i?t(r,a):(i||aH(),n)}},mH={},Wk=Wt({name:"errorBars",initialState:mH,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:iZ,replaceErrorBar:oZ,removeErrorBar:lZ}=Wk.actions,pH=Wk.reducer,hH=["children"];function gH(e,t){if(e==null)return{};var n,r,a=yH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xH=x.createContext(vH);function Zk(e){var{children:t}=e,n=gH(e,hH);return x.createElement(xH.Provider,{value:n},t)}function _0(e,t){var n,r,a=Z(u=>Gr(u,e)),i=Z(u=>Fr(u,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Zt.allowDataOverflow,l=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Qt.allowDataOverflow,s=o||l;return{needClip:s,needClipX:o,needClipY:l}}function Qk(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=w0(),{needClipX:i,needClipY:o,needClip:l}=_0(t,n);if(!l||!a)return null;var{x:s,y:u,width:c,height:f}=a;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:i?s:s-c/2,y:o?u:u-f/2,width:i?c:c*2,height:o?f:f*2}))}function bH(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&We(e.zIndex)?e.zIndex:t}var SH=["onMouseEnter","onMouseLeave","onClick"],EH=["value","background","tooltipPosition"],wH=["id"],_H=["onMouseEnter","onClick","onMouseLeave"];function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zr.apply(null,arguments)}function ZS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(n),!0).forEach(function(r){TH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TH(e,t,n){return(t=CH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qc(e,t){if(e==null)return{};var n,r,a=NH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function NH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kH=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Gd(n,t),payload:e}]};function MH(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:Gd(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function PH(e){var t=Z(fi),{data:n,dataKey:r,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:s}=i,u=Qc(i,SH),c=qk(o,r),f=Hk(l),p=Vk(s,r);if(!a||n==null)return null;var g=ws(a);return x.createElement(jn,{zIndex:bH(a,ht.barBackground)},n.map((y,b)=>{var{value:E,background:v,tooltipPosition:S}=y,w=Qc(y,EH);if(!v)return null;var _=c(y,b),T=f(y,b),A=p(y,b),N=Rt(Rt(Rt(Rt(Rt({option:a,isActive:String(b)===t},w),{},{fill:"#eee"},v),g),jd(u,y,b)),{},{onMouseEnter:_,onMouseLeave:T,onClick:A,dataKey:r,index:b,className:"recharts-bar-background-rectangle"});return x.createElement(Zc,zr({key:"background-bar-".concat(b)},N))}))}function IH(e){var{showLabels:t,children:n,rects:r}=e,a=r==null?void 0:r.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Rt(Rt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return x.createElement(Pk,{value:t?a:void 0},n)}function DH(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:i,dataKey:o}=e,l=Z(fi),s=Z(rk),u=n&&String(i)===l&&(s==null||o===s),c=u?n:t;return u?x.createElement(jn,{zIndex:ht.activeBar},x.createElement(Zc,zr({},r,{name:String(r.name)},a,{isActive:u,option:c,index:i,dataKey:o}))):x.createElement(Zc,zr({},r,{name:String(r.name)},a,{isActive:u,option:c,index:i,dataKey:o}))}function OH(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:i}=e;return x.createElement(Zc,zr({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:a,dataKey:i}))}function RH(e){var t,{data:n,props:r}=e,a=(t=Hn(r))!==null&&t!==void 0?t:{},{id:i}=a,o=Qc(a,wH),{shape:l,dataKey:s,activeBar:u}=r,{onMouseEnter:c,onClick:f,onMouseLeave:p}=r,g=Qc(r,_H),y=qk(c,s),b=Hk(p),E=Vk(f,s);return n?x.createElement(x.Fragment,null,n.map((v,S)=>x.createElement(In,zr({key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(S),className:"recharts-bar-rectangle"},jd(g,v,S),{onMouseEnter:y(v,S),onMouseLeave:b(v,S),onClick:E(v,S)}),u?x.createElement(DH,{shape:l,activeBar:u,baseProps:o,entry:v,index:S,dataKey:s}):x.createElement(OH,{shape:l,baseProps:o,entry:v,index:S,dataKey:s})))):null}function jH(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:s,onAnimationEnd:u,onAnimationStart:c}=t,f=n.current,p=Qd(t,"recharts-bar-"),[g,y]=x.useState(!1),b=!g,E=x.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),v=x.useCallback(()=>{typeof c=="function"&&c(),y(!0)},[c]);return x.createElement(IH,{showLabels:b,rects:r},x.createElement(Zd,{animationId:p,begin:o,duration:l,isActive:i,easing:s,onAnimationEnd:E,onAnimationStart:v,key:p},S=>{var w=S===1?r:r==null?void 0:r.map((_,T)=>{var A=f&&f[T];if(A)return Rt(Rt({},_),{},{x:Fe(A.x,_.x,S),y:Fe(A.y,_.y,S),width:Fe(A.width,_.width,S),height:Fe(A.height,_.height,S)});if(a==="horizontal"){var N=Fe(0,_.height,S),k=Fe(_.stackedBarStart,_.y,S);return Rt(Rt({},_),{},{y:k,height:N})}var I=Fe(0,_.width,S),O=Fe(_.stackedBarStart,_.x,S);return Rt(Rt({},_),{},{width:I,x:O})});return S>0&&(n.current=w??null),w==null?null:x.createElement(In,null,x.createElement(RH,{props:t,data:w}))}),x.createElement(Dk,{label:t.label}),t.children)}function LH(e){var t=x.useRef(null);return x.createElement(jH,{previousRectanglesRef:t,props:e})}var eM=0,UH=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:yt(e,t)}};class zH extends x.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:i,yAxisId:o,needClip:l,background:s,id:u}=this.props;if(t||n==null)return null;var c=Ce("recharts-bar",a),f=u;return x.createElement(In,{className:c,id:u},l&&x.createElement("defs",null,x.createElement(Qk,{clipPathId:f,xAxisId:i,yAxisId:o})),x.createElement(In,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},x.createElement(PH,{data:n,dataKey:r,background:s,allOtherBarProps:this.props}),x.createElement(LH,this.props)))}}var BH={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!bi.isSsr,legendType:"rect",minPointSize:eM,xAxisId:0,yAxisId:0,zIndex:ht.bar};function qH(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:s,animationEasing:u,isAnimationActive:c}=e,{needClip:f}=_0(t,n),p=Ns(),g=Dt(),y=i7(e.children,gk),b=Z(S=>hV(S,t,n,g,e.id,y));if(p!=="vertical"&&p!=="horizontal")return null;var E,v=b==null?void 0:b[0];return v==null||v.height==null||v.width==null?E=0:E=p==="vertical"?v.height/2:v.width/2,x.createElement(Zk,{xAxisId:t,yAxisId:n,data:b,dataPointFormatter:UH,errorBarOffset:E},x.createElement(zH,zr({},e,{layout:p,needClip:f,data:b,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:s,animationEasing:u,isAnimationActive:c})))}function HH(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:s,yAxisTicks:u,stackedData:c,displayedData:f,offset:p,cells:g,parentViewBox:y,dataStartIndex:b}=e,E=t==="horizontal"?l:o,v=c?E.scale.domain():null,S=V3({numericAxis:E}),w=E.scale(S);return f.map((_,T)=>{var A,N,k,I,O,C;c?A=L3(c[T+b],v):(A=yt(_,n),Array.isArray(A)||(A=[S,A]));var R=fH(r,eM)(A[1],T);if(t==="horizontal"){var G,[$,K]=[l.scale(A[0]),l.scale(A[1])];N=$x({axis:o,ticks:s,bandSize:i,offset:a.offset,entry:_,index:T}),k=(G=K??$)!==null&&G!==void 0?G:void 0,I=a.size;var P=$-K;if(O=Vn(P)?0:P,C={x:N,y:p.top,width:I,height:p.height},Math.abs(R)>0&&Math.abs(O)<Math.abs(R)){var L=Ft(O||R)*(Math.abs(R)-Math.abs(O));k-=L,O+=L}}else{var[V,D]=[o.scale(A[0]),o.scale(A[1])];if(N=V,k=$x({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:_,index:T}),I=D-V,O=a.size,C={x:p.left,y:k,width:p.width,height:O},Math.abs(R)>0&&Math.abs(I)<Math.abs(R)){var B=Ft(I||R)*(Math.abs(R)-Math.abs(I));I+=B}}if(N==null||k==null||I==null||O==null)return null;var Q=Rt(Rt({},_),{},{stackedBarStart:w,x:N,y:k,width:I,height:O,value:c?A:A[1],payload:_,background:C,tooltipPosition:{x:N+I/2,y:k+O/2},parentViewBox:y},g&&g[T]&&g[T].props);return Q}).filter(Boolean)}function VH(e){var t=Nt(e,BH),n=Dt();return x.createElement(Yk,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(Gk,{legendPayload:kH(t)}),x.createElement($k,{fn:MH,args:t}),x.createElement(Jk,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:H3(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(jn,{zIndex:t.zIndex},x.createElement(qH,zr({},t,{id:r})))))}var tM=x.memo(VH);tM.displayName="Bar";function QS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(n),!0).forEach(function(r){$H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $H(e,t,n){return(t=GH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GH(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YH=(e,t)=>t,KH=(e,t,n)=>n,JH=(e,t,n,r)=>r,XH=(e,t,n,r,a)=>a,zs=U([gf,XH],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),WH=U([zs],e=>e==null?void 0:e.maxBarSize),ZH=(e,t,n,r,a,i)=>i,eE=(e,t,n)=>{var r=n??e;if(!He(r))return $n(r,t,0)},QH=U([Ee,gf,YH,KH,JH],(e,t,n,r,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===n:i.yAxisId===r).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),eV=(e,t,n,r)=>{var a=Ee(e);return a==="horizontal"?xh(e,"yAxis",n,r):xh(e,"xAxis",t,r)},tV=(e,t,n)=>{var r=Ee(e);return r==="horizontal"?cS(e,"xAxis",t):cS(e,"yAxis",n)},nV=(e,t,n)=>{var r={},a=e.filter(mf),i=e.filter(u=>u.stackId==null),o=a.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),r),l=Object.entries(o).map(u=>{var[c,f]=u,p=f.map(y=>y.dataKey),g=eE(t,n,f[0].barSize);return{stackId:c,dataKeys:p,barSize:g}}),s=i.map(u=>{var c=[u.dataKey].filter(p=>p!=null),f=eE(t,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...l,...s]},rV=U([QH,YU,tV],nV),aV=(e,t,n,r,a)=>{var i,o,l=zs(e,t,n,r,a);if(l!=null){var s=Ee(e),u=GN(e),{maxBarSize:c}=l,f=He(c)?u:c,p,g;return s==="horizontal"?(p=Ca(e,"xAxis",t,r),g=Ta(e,"xAxis",t,r)):(p=Ca(e,"yAxis",n,r),g=Ta(e,"yAxis",n,r)),(i=(o=Eo(p,g,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},nM=(e,t,n,r)=>{var a=Ee(e),i,o;return a==="horizontal"?(i=Ca(e,"xAxis",t,r),o=Ta(e,"xAxis",t,r)):(i=Ca(e,"yAxis",n,r),o=Ta(e,"yAxis",n,r)),Eo(i,o)};function iV(e,t,n,r,a){var i=r.length;if(!(i<1)){var o=$n(e,n,0,!0),l,s=[];if(We(r[0].barSize)){var u=!1,c=n/i,f=r.reduce((v,S)=>v+(S.barSize||0),0);f+=(i-1)*o,f>=n&&(f-=(i-1)*o,o=0),f>=n&&c>0&&(u=!0,c*=.9,f=i*c);var p=(n-f)/2>>0,g={offset:p-o,size:0};l=r.reduce((v,S)=>{var w,_={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:g.offset+g.size+o,size:u?c:(w=S.barSize)!==null&&w!==void 0?w:0}},T=[...v,_];return g=T[T.length-1].position,T},s)}else{var y=$n(t,n,0,!0);n-2*y-(i-1)*o<=0&&(o=0);var b=(n-2*y-(i-1)*o)/i;b>1&&(b>>=0);var E=We(a)?Math.min(b,a):b;l=r.reduce((v,S,w)=>[...v,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:y+(b+o)*w+(b-E)/2,size:E}}],s)}return l}}var oV=(e,t,n,r,a,i,o)=>{var l=He(o)?t:o,s=iV(n,r,a!==i?a:i,e,l);return a!==i&&s!=null&&(s=s.map(u=>yu(yu({},u),{},{position:yu(yu({},u.position),{},{offset:u.position.offset-a/2})}))),s},lV=U([rV,GN,FU,FN,aV,nM,WH],oV),sV=(e,t,n,r)=>Ca(e,"xAxis",t,r),uV=(e,t,n,r)=>Ca(e,"yAxis",n,r),cV=(e,t,n,r)=>Ta(e,"xAxis",t,r),dV=(e,t,n,r)=>Ta(e,"yAxis",n,r),fV=U([lV,zs],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),mV=(e,t)=>{var n=e0(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===n)}}}},pV=U([eV,zs],mV),hV=U([vt,xy,sV,uV,cV,dV,fV,Ee,lf,nM,pV,zs,ZH],(e,t,n,r,a,i,o,l,s,u,c,f,p)=>{var{chartData:g,dataStartIndex:y,dataEndIndex:b}=s;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||a==null||i==null||u==null)){var{data:E}=f,v;if(E!=null&&E.length>0?v=E:v=g==null?void 0:g.slice(y,b+1),v!=null)return HH({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,stackedData:c,displayedData:v,offset:e,cells:p,dataStartIndex:y})}}),gV=e=>{var{chartData:t}=e,n=Ve(),r=Dt();return x.useEffect(()=>r?()=>{}:(n(ES(t)),()=>{n(ES(void 0))}),[t,n,r]),null},tE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rM=Wt({name:"brush",initialState:tE,reducers:{setBrushSettings(e,t){return t.payload==null?tE:t.payload}}}),{setBrushSettings:sZ}=rM.actions,yV=rM.reducer;function vV(e,t,n){return(t=xV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class T0{static create(t){return new T0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}vV(T0,"EPS",1e-4);function SV(e){return(e%180+180)%180}var EV=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=SV(a),o=i*Math.PI/180,l=Math.atan(r/n),s=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(s)},wV={dots:[],areas:[],lines:[]},aM=Wt({name:"referenceElements",initialState:wV,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Cr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Cr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Cr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:uZ,removeDot:cZ,addArea:dZ,removeArea:fZ,addLine:mZ,removeLine:pZ}=aM.actions,_V=aM.reducer,TV=x.createContext(void 0),CV=e=>{var{children:t}=e,[n]=x.useState("".concat(Wl("recharts"),"-clip")),r=w0();if(r==null)return null;var{x:a,y:i,width:o,height:l}=r;return x.createElement(TV.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function Ao(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function iM(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function AV(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return EV(r,n)}function NV(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function ed(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function kV(e,t){return iM(e,t+1)}function MV(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:l}=t,s=0,u=1,c=o,f=function(){var y=r==null?void 0:r[s];if(y===void 0)return{v:iM(r,u)};var b=s,E,v=()=>(E===void 0&&(E=n(y,b)),E),S=y.coordinate,w=s===0||ed(e,S,v,c,l);w||(s=0,c=o,u+=1),w&&(c=S+e*(v()/2+a),s+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function nE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(n),!0).forEach(function(r){PV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PV(e,t,n){return(t=IV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IV(e){var t=DV(e,"string");return typeof t=="symbol"?t:t+""}function DV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OV(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:l}=t,{end:s}=t,u=function(p){var g=i[p],y,b=()=>(y===void 0&&(y=n(g,p)),y);if(p===o-1){var E=e*(g.coordinate+e*b()/2-s);i[p]=g=kt(kt({},g),{},{tickCoord:E>0?g.coordinate-E*e:g.coordinate})}else i[p]=g=kt(kt({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var v=ed(e,g.tickCoord,b,l,s);v&&(s=g.tickCoord-e*(b()/2+a),i[p]=kt(kt({},g),{},{isShow:!0}))}},c=o-1;c>=0;c--)u(c);return i}function RV(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,{start:s,end:u}=t;if(i){var c=r[l-1],f=n(c,l-1),p=e*(c.coordinate+e*f/2-u);if(o[l-1]=c=kt(kt({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate}),c.tickCoord!=null){var g=ed(e,c.tickCoord,()=>f,s,u);g&&(u=c.tickCoord-e*(f/2+a),o[l-1]=kt(kt({},c),{},{isShow:!0}))}}for(var y=i?l-1:l,b=function(S){var w=o[S],_,T=()=>(_===void 0&&(_=n(w,S)),_);if(S===0){var A=e*(w.coordinate-e*T()/2-s);o[S]=w=kt(kt({},w),{},{tickCoord:A<0?w.coordinate-A*e:w.coordinate})}else o[S]=w=kt(kt({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var N=ed(e,w.tickCoord,T,s,u);N&&(s=w.tickCoord+e*(T()/2+a),o[S]=kt(kt({},w),{},{isShow:!0}))}},E=0;E<y;E++)b(E);return o}function C0(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:s,tickFormatter:u,unit:c,angle:f}=e;if(!a||!a.length||!r)return[];if(W(s)||bi.isSsr){var p;return(p=kV(a,W(s)?s:0))!==null&&p!==void 0?p:[]}var g=[],y=l==="top"||l==="bottom"?"width":"height",b=c&&y==="width"?Dl(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(w,_)=>{var T=typeof u=="function"?u(w.value,_):w.value;return y==="width"?AV(Dl(T,{fontSize:t,letterSpacing:n}),b,f):Dl(T,{fontSize:t,letterSpacing:n})[y]},v=a.length>=2?Ft(a[1].coordinate-a[0].coordinate):1,S=NV(i,v,y);return s==="equidistantPreserveStart"?MV(v,S,E,a,o):(s==="preserveStart"||s==="preserveStartEnd"?g=RV(v,S,E,a,o,s==="preserveStartEnd"):g=OV(v,S,E,a,o),g.filter(w=>w.isShow))}var jV=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=n?n.getBoundingClientRect().width:0,s=a+i,u=o+s+l+(n?r:0);return Math.round(u)}return 0},LV=["axisLine","width","height","className","hide","ticks","axisType"],UV=["viewBox"],zV=["viewBox"];function Nh(e,t){if(e==null)return{};var n,r,a=BV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function BV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mi.apply(null,arguments)}function rE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(n),!0).forEach(function(r){qV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qV(e,t,n){return(t=HV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HV(e){var t=VV(e,"string");return typeof t=="symbol"?t:t+""}function VV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ht.axis};function $V(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:s}=e;if(!l)return null;var u=Ze(Ze(Ze({},s),Hn(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var c=+(i==="top"&&!o||i==="bottom"&&o);u=Ze(Ze({},u),{},{x1:t,y1:n+c*a,x2:t+r,y2:n+c*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Ze(Ze({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return x.createElement("line",mi({},u,{className:Ce("recharts-cartesian-axis-line",bo(l,"className"))}))}function GV(e,t,n,r,a,i,o,l,s){var u,c,f,p,g,y,b=l?-1:1,E=e.tickSize||o,v=W(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=c=e.coordinate,p=n+ +!l*a,f=p-b*E,y=f-b*s,g=v;break;case"left":f=p=e.coordinate,c=t+ +!l*r,u=c-b*E,g=u-b*s,y=v;break;case"right":f=p=e.coordinate,c=t+ +l*r,u=c+b*E,g=u+b*s,y=v;break;default:u=c=e.coordinate,p=n+ +l*a,f=p+b*E,y=f+b*s,g=v;break}return{line:{x1:u,y1:f,x2:c,y2:p},tick:{x:g,y}}}function FV(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function YV(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function KV(e){var{option:t,tickProps:n,value:r}=e,a,i=Ce(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,Ze(Ze({},n),{},{className:i}));else if(typeof t=="function")a=t(Ze(Ze({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ce(o,t==null?void 0:t.className)),a=x.createElement(x0,mi({},n,{className:o}),r)}return a}var JV=x.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:s,tickTextProps:u,orientation:c,mirror:f,x:p,y:g,width:y,height:b,tickSize:E,tickMargin:v,fontSize:S,letterSpacing:w,getTicksConfig:_,events:T,axisType:A}=e,N=C0(Ze(Ze({},_),{},{ticks:n}),S,w),k=FV(c,f),I=YV(c,f),O=Hn(_),C=ws(r),R={};typeof a=="object"&&(R=a);var G=Ze(Ze({},O),{},{fill:"none"},R),$=N.map(L=>Ze({entry:L},GV(L,p,g,y,b,c,E,f,v))),K=$.map(L=>{var{entry:V,line:D}=L;return x.createElement(In,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},a&&x.createElement("line",mi({},G,D,{className:Ce("recharts-cartesian-axis-tick-line",bo(a,"className"))})))}),P=$.map((L,V)=>{var{entry:D,tick:B}=L,Q=Ze(Ze(Ze(Ze({textAnchor:k,verticalAnchor:I},O),{},{stroke:"none",fill:i},C),B),{},{index:V,payload:D,visibleTicksCount:N.length,tickFormatter:o,padding:s},u);return x.createElement(In,mi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},jd(T,D,V)),r&&x.createElement(KV,{option:r,tickProps:Q,value:"".concat(typeof o=="function"?o(D.value,V):D.value).concat(l||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(A,"-ticks")},P.length>0&&x.createElement(jn,{zIndex:ht.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(A,"-tick-labels"),ref:t},P)),K.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(A,"-tick-lines")},K))}),XV=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:l,axisType:s}=e,u=Nh(e,LV),[c,f]=x.useState(""),[p,g]=x.useState(""),y=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return jV({ticks:y.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=x.useCallback(E=>{if(E){var v=E.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=v;var S=v[0];if(S){var w=window.getComputedStyle(S),_=w.fontSize,T=w.letterSpacing;(_!==c||T!==p)&&(f(_),g(T))}}},[c,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:x.createElement(jn,{zIndex:e.zIndex},x.createElement(In,{className:Ce("recharts-cartesian-axis",i)},x.createElement($V,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Hn(e)}),x.createElement(JV,{ref:b,axisType:s,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(Rq,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(Gq,{label:e.label,labelRef:e.labelRef}),e.children)))}),WV=x.memo(XV,(e,t)=>{var{viewBox:n}=e,r=Nh(e,UV),{viewBox:a}=t,i=Nh(t,zV);return Ao(n,a)&&Ao(r,i)}),N0=x.forwardRef((e,t)=>{var n=Nt(e,A0);return x.createElement(WV,mi({},n,{ref:t}))});N0.displayName="CartesianAxis";var ZV=["x1","y1","x2","y2","key"],QV=["offset"],e$=["xAxisId","yAxisId"],t$=["xAxisId","yAxisId"];function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(r){n$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n$(e,t,n){return(t=r$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r$(e){var t=a$(e,"string");return typeof t=="symbol"?t:t+""}function a$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$a.apply(null,arguments)}function td(e,t){if(e==null)return{};var n,r,a=i$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var o$=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:l}=e;return x.createElement("rect",{x:r,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function oM(e){var{option:t,lineItemProps:n}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:l,y2:s,key:u}=n,c=td(n,ZV),f=(a=Hn(c))!==null&&a!==void 0?a:{},{offset:p}=f,g=td(f,QV);r=x.createElement("line",$a({},g,{x1:i,y1:o,x2:l,y2:s,fill:"none",key:u}))}return r}function l$(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=td(e,e$),s=a.map((u,c)=>{var f=Pt(Pt({},l),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(c),index:c});return x.createElement(oM,{key:"line-".concat(c),option:r,lineItemProps:f})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function s$(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=td(e,t$),s=a.map((u,c)=>{var f=Pt(Pt({},l),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(c),index:c});return x.createElement(oM,{option:r,lineItemProps:f,key:"line-".concat(c)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function u$(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:l,horizontal:s=!0}=e;if(!s||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var c=u.map((f,p)=>{var g=!u[p+1],y=g?a+o-f:u[p+1]-f;if(y<=0)return null;var b=p%t.length;return x.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:y,width:i,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function c$(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:l,verticalPoints:s}=e;if(!t||!n||!n.length)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var c=u.map((f,p)=>{var g=!u[p+1],y=g?a+o-f:u[p+1]-f;if(y<=0)return null;var b=p%n.length;return x.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:y,height:l,stroke:"none",fill:n[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var d$=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return _A(C0(Pt(Pt(Pt({},A0),n),{},{ticks:TA(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},f$=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return _A(C0(Pt(Pt(Pt({},A0),n),{},{ticks:TA(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},m$={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ht.grid};function kh(e){var t=Sy(),n=Ey(),r=OA(),a=Pt(Pt({},Nt(e,m$)),{},{x:W(e.x)?e.x:r.left,y:W(e.y)?e.y:r.top,width:W(e.width)?e.width:r.width,height:W(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:l,y:s,width:u,height:c,syncWithTicks:f,horizontalValues:p,verticalValues:g}=a,y=Dt(),b=Z(I=>dS(I,"xAxis",i,y)),E=Z(I=>dS(I,"yAxis",o,y));if(!ar(u)||!ar(c)||!W(l)||!W(s))return null;var v=a.verticalCoordinatesGenerator||d$,S=a.horizontalCoordinatesGenerator||f$,{horizontalPoints:w,verticalPoints:_}=a;if((!w||!w.length)&&typeof S=="function"){var T=p&&p.length,A=S({yAxis:E?Pt(Pt({},E),{},{ticks:T?p:E.ticks}):void 0,width:t??u,height:n??c,offset:r},T?!0:f);kc(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(w=A)}if((!_||!_.length)&&typeof v=="function"){var N=g&&g.length,k=v({xAxis:b?Pt(Pt({},b),{},{ticks:N?g:b.ticks}):void 0,width:t??u,height:n??c,offset:r},N?!0:f);kc(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(_=k)}return x.createElement(jn,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(o$,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(u$,$a({},a,{horizontalPoints:w})),x.createElement(c$,$a({},a,{verticalPoints:_})),x.createElement(l$,$a({},a,{offset:r,horizontalPoints:w,xAxis:b,yAxis:E})),x.createElement(s$,$a({},a,{offset:r,verticalPoints:_,xAxis:b,yAxis:E}))))}kh.displayName="CartesianGrid";var lM=(e,t,n,r)=>Ca(e,"xAxis",t,r),sM=(e,t,n,r)=>Ta(e,"xAxis",t,r),uM=(e,t,n,r)=>Ca(e,"yAxis",n,r),cM=(e,t,n,r)=>Ta(e,"yAxis",n,r),p$=U([Ee,lM,uM,sM,cM],(e,t,n,r,a)=>ka(e,"xAxis")?Eo(t,r,!1):Eo(n,a,!1)),h$=(e,t,n,r,a)=>a;function g$(e){return e.type==="line"}var y$=U([gf,h$],(e,t)=>e.filter(g$).find(n=>n.id===t)),v$=U([Ee,lM,uM,sM,cM,y$,p$,lf],(e,t,n,r,a,i,o,l)=>{var{chartData:s,dataStartIndex:u,dataEndIndex:c}=l;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null)){var{dataKey:f,data:p}=i,g;if(p!=null&&p.length>0?g=p:g=s==null?void 0:s.slice(u,c+1),g!=null)return z$({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:g})}});function x$(e){var t=ws(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var b$=["id"],S$=["type","layout","connectNulls","needClip","shape"],E$=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ss.apply(null,arguments)}function iE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(n),!0).forEach(function(r){w$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w$(e,t,n){return(t=_$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _$(e){var t=T$(e,"string");return typeof t=="symbol"?t:t+""}function T$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k0(e,t){if(e==null)return{};var n,r,a=C$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function C$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A$=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Gd(n,t),payload:e}]};function N$(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:l,unit:s}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Gd(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:s}}}var dM=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function k$(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var M$=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return dM(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,l=[],s=0,u=0;s<n.length;u+=n[s],++s)if(u+n[s]>i){l=[...n.slice(0,s),i-u];break}var c=l.length%2===0?[0,o]:[o];return[...k$(n,a),...l,...c].map(f=>"".concat(f,"px")).join(", ")};function P$(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:l}=r,s=k0(r,b$),u=Hn(s);return x.createElement(U7,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:o,clipPathId:t})}function I$(e){var{showLabels:t,children:n,points:r}=e,a=x.useMemo(()=>r==null?void 0:r.map(i=>{var o,l,s={x:(o=i.x)!==null&&o!==void 0?o:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Jn(Jn({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(Pk,{value:t?a:void 0},n)}function oE(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:s,needClip:u,shape:c}=i,f=k0(i,S$),p=Jn(Jn({},Ut(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:l,connectNulls:s,strokeDasharray:a??i.strokeDasharray});return x.createElement(x.Fragment,null,(r==null?void 0:r.length)>1&&x.createElement(Bk,ss({shapeType:"curve",option:c},p,{pathRef:n})),x.createElement(P$,{points:r,clipPathId:t,props:i}))}function D$(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function O$(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:s,animationBegin:u,animationDuration:c,animationEasing:f,animateNewValues:p,width:g,height:y,onAnimationEnd:b,onAnimationStart:E}=n,v=a.current,S=Qd(n,"recharts-line-"),[w,_]=x.useState(!1),T=!w,A=x.useCallback(()=>{typeof b=="function"&&b(),_(!1)},[b]),N=x.useCallback(()=>{typeof E=="function"&&E(),_(!0)},[E]),k=D$(r.current),I=i.current;return x.createElement(I$,{points:o,showLabels:T},n.children,x.createElement(Zd,{animationId:S,begin:u,duration:c,isActive:s,easing:f,onAnimationEnd:A,onAnimationStart:N,key:S},O=>{var C=Fe(I,k+I,O),R=Math.min(C,k),G;if(s)if(l){var $="".concat(l).split(/[,\s]+/gim).map(L=>parseFloat(L));G=M$(R,k,$)}else G=dM(k,R);else G=l==null?void 0:String(l);if(v){var K=v.length/o.length,P=O===1?o:o.map((L,V)=>{var D=Math.floor(V*K);if(v[D]){var B=v[D];return Jn(Jn({},L),{},{x:Fe(B.x,L.x,O),y:Fe(B.y,L.y,O)})}return p?Jn(Jn({},L),{},{x:Fe(g*2,L.x,O),y:Fe(y/2,L.y,O)}):Jn(Jn({},L),{},{x:L.x,y:L.y})});return a.current=P,x.createElement(oE,{props:n,points:P,clipPathId:t,pathRef:r,strokeDasharray:G})}return O>0&&k>0&&(a.current=o,i.current=R),x.createElement(oE,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:G})}),x.createElement(Dk,{label:n.label}))}function R$(e){var{clipPathId:t,props:n}=e,r=x.useRef(null),a=x.useRef(0),i=x.useRef(null);return x.createElement(O$,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var j$=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:yt(e.payload,t)}};class L$ extends x.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:l,left:s,width:u,height:c,id:f,needClip:p,zIndex:g}=this.props;if(t)return null;var y=Ce("recharts-line",a),b=f,{r:E,strokeWidth:v}=x$(n),S=Uk(n),w=E*2+v;return x.createElement(jn,{zIndex:g},x.createElement(In,{className:y},p&&x.createElement("defs",null,x.createElement(Qk,{clipPathId:b,xAxisId:i,yAxisId:o}),!S&&x.createElement("clipPath",{id:"clipPath-dots-".concat(b)},x.createElement("rect",{x:s-w/2,y:l-w/2,width:u+w,height:c+w}))),x.createElement(Zk,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:j$,errorBarOffset:0},x.createElement(R$,{props:this.props,clipPathId:b}))),x.createElement(nH,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var fM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!bi.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ht.line};function U$(e){var t=Nt(e,fM),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:s,hide:u,isAnimationActive:c,label:f,legendType:p,xAxisId:g,yAxisId:y,id:b}=t,E=k0(t,E$),{needClip:v}=_0(g,y),S=w0(),w=Ns(),_=Dt(),T=Z(O=>v$(O,g,y,_,b));if(w!=="horizontal"&&w!=="vertical"||T==null||S==null)return null;var{height:A,width:N,x:k,y:I}=S;return x.createElement(L$,ss({},E,{id:b,connectNulls:l,dot:s,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:c,hide:u,label:f,legendType:p,xAxisId:g,yAxisId:y,points:T,layout:w,height:A,width:N,left:k,top:I,needClip:v}))}function z$(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:s}=e;return s.map((u,c)=>{var f=yt(u,o);if(t==="horizontal"){var p=Vx({axis:n,ticks:a,bandSize:l,entry:u,index:c}),g=He(f)?null:r.scale(f);return{x:p,y:g,value:f,payload:u}}var y=He(f)?null:n.scale(f),b=Vx({axis:r,ticks:i,bandSize:l,entry:u,index:c});return y==null||b==null?null:{x:y,y:b,value:f,payload:u}}).filter(Boolean)}function B$(e){var t=Nt(e,fM),n=Dt();return x.createElement(Yk,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(Gk,{legendPayload:A$(t)}),x.createElement($k,{fn:N$,args:t}),x.createElement(Jk,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(U$,ss({},t,{id:r}))))}var mM=x.memo(B$);mM.displayName="Line";var q$=["dangerouslySetInnerHTML","ticks"],H$=["id"],V$=["domain"],$$=["domain"];function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mh.apply(null,arguments)}function nd(e,t){if(e==null)return{};var n,r,a=G$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function G$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function F$(e){var t=Ve();return x.useLayoutEffect(()=>(t(V7(e)),()=>{t($7(e))}),[e,t]),null}var Y$=e=>{var{xAxisId:t,className:n}=e,r=Z(xy),a=Dt(),i="xAxis",o=Z(E=>Vo(E,i,t,a)),l=Z(E=>j2(E,i,t,a)),s=Z(E=>I2(E,t)),u=Z(E=>$z(E,t)),c=Z(E=>e2(E,t));if(s==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,g=nd(e,q$),{id:y}=c,b=nd(c,H$);return x.createElement(N0,Mh({},g,b,{scale:o,x:u.x,y:u.y,width:s.width,height:s.height,className:Ce("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:l,axisType:i}))},K$={allowDataOverflow:Zt.allowDataOverflow,allowDecimals:Zt.allowDecimals,allowDuplicatedCategory:Zt.allowDuplicatedCategory,height:Zt.height,hide:!1,mirror:Zt.mirror,orientation:Zt.orientation,padding:Zt.padding,reversed:Zt.reversed,scale:Zt.scale,tickCount:Zt.tickCount,type:Zt.type,xAxisId:0},J$=e=>{var t,n,r,a,i,o=Nt(e,K$);return x.createElement(x.Fragment,null,x.createElement(F$,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),x.createElement(Y$,o))},X$=(e,t)=>{var{domain:n}=e,r=nd(e,V$),{domain:a}=t,i=nd(t,$$);return Ao(r,i)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Ao({domain:n},{domain:a}):!1},Ph=x.memo(J$,X$);Ph.displayName="XAxis";var W$=["dangerouslySetInnerHTML","ticks"],Z$=["id"],Q$=["domain"],eG=["domain"];function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ih.apply(null,arguments)}function rd(e,t){if(e==null)return{};var n,r,a=tG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nG(e){var t=Ve();return x.useLayoutEffect(()=>(t(G7(e)),()=>{t(F7(e))}),[e,t]),null}var rG=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=x.useRef(null),o=x.useRef(null),l=Z(xy),s=Dt(),u=Ve(),c="yAxis",f=Z(T=>Vo(T,c,t,s)),p=Z(T=>D2(T,t)),g=Z(T=>Fz(T,t)),y=Z(T=>j2(T,c,t,s)),b=Z(T=>t2(T,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!p||b0(a)||x.isValidElement(a)||b==null)){var T=i.current;if(T){var A=T.getCalculatedWidth();Math.round(p.width)!==Math.round(A)&&u(Y7({id:t,width:A}))}}},[y,p,u,a,t,r,b]),p==null||g==null||b==null)return null;var{dangerouslySetInnerHTML:E,ticks:v}=e,S=rd(e,W$),{id:w}=b,_=rd(b,Z$);return x.createElement(N0,Ih({},S,_,{ref:i,labelRef:o,scale:f,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:Ce("recharts-".concat(c," ").concat(c),n),viewBox:l,ticks:y,axisType:c}))},aG={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:Qt.allowDecimals,allowDuplicatedCategory:Qt.allowDuplicatedCategory,hide:!1,mirror:Qt.mirror,orientation:Qt.orientation,padding:Qt.padding,reversed:Qt.reversed,scale:Qt.scale,tickCount:Qt.tickCount,type:Qt.type,width:Qt.width,yAxisId:0},iG=e=>{var t,n,r,a,i,o=Nt(e,aG);return x.createElement(x.Fragment,null,x.createElement(nG,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),x.createElement(rG,o))},oG=(e,t)=>{var{domain:n}=e,r=rd(e,Q$),{domain:a}=t,i=rd(t,eG);return Ao(r,i)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Ao({domain:n},{domain:a}):!1},Dh=x.memo(iG,oG);Dh.displayName="YAxis";var lG={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=x;function sG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uG=typeof Object.is=="function"?Object.is:sG,cG=Bs.useSyncExternalStore,dG=Bs.useRef,fG=Bs.useEffect,mG=Bs.useMemo,pG=Bs.useDebugValue;lG.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=dG(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=mG(function(){function s(g){if(!u){if(u=!0,c=g,g=r(g),a!==void 0&&o.hasValue){var y=o.value;if(a(y,g))return f=y}return f=g}if(y=f,uG(c,g))return y;var b=r(g);return a!==void 0&&a(y,b)?(c=g,y):(c=g,f=b)}var u=!1,c,f,p=n===void 0?null:n;return[function(){return s(t())},p===null?void 0:function(){return s(p())}]},[t,n,r,a]);var l=cG(e,i[0],i[1]);return fG(function(){o.hasValue=!0,o.value=l},[l]),pG(l),l};function hG(e){e()}function gG(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hG(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var lE={notify(){},get:()=>[]};function yG(e,t){let n,r=lE,a=0,i=!1;function o(b){c();const E=r.subscribe(b);let v=!1;return()=>{v||(v=!0,E(),f())}}function l(){r.notify()}function s(){y.onStateChange&&y.onStateChange()}function u(){return i}function c(){a++,n||(n=e.subscribe(s),r=gG())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=lE)}function p(){i||(i=!0,c())}function g(){i&&(i=!1,f())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:s,isSubscribed:u,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>r};return y}var vG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xG=vG(),bG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",SG=bG(),EG=()=>xG||SG?x.useLayoutEffect:x.useEffect,wG=EG(),Bm=Symbol.for("react-redux-context"),qm=typeof globalThis<"u"?globalThis:{};function _G(){if(!x.createContext)return{};const e=qm[Bm]??(qm[Bm]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var TG=_G();function CG(e){const{children:t,context:n,serverState:r,store:a}=e,i=x.useMemo(()=>{const s=yG(a);return{store:a,subscription:s,getServerState:r?()=>r:void 0}},[a,r]),o=x.useMemo(()=>a.getState(),[a]);wG(()=>{const{subscription:s}=i;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==a.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[i,o]);const l=n||TG;return x.createElement(l.Provider,{value:i},t)}var AG=CG,NG=(e,t)=>t,M0=U([NG,Ee,ZN,ct,Q2,Yr,rB,vt],cB),P0=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},pM=Dn("mouseClick"),hM=Cs();hM.startListening({actionCreator:pM,effect:(e,t)=>{var n=e.payload,r=M0(t.getState(),P0(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(i8({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Oh=Dn("mouseMove"),gM=Cs();gM.startListening({actionCreator:Oh,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=c0(r,r.tooltip.settings.shared),i=M0(r,P0(n));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch($2({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(V2()))}});var sE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},yM=Wt({name:"rootProps",initialState:sE,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:sE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),kG=yM.reducer,{updateOptions:MG}=yM.actions,vM=Wt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hZ}=vM.actions,PG=vM.reducer,xM=Dn("keyDown"),bM=Dn("focus"),I0=Cs();I0.startListening({actionCreator:xM,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(d0(a,Go(n))),l=Yr(n);if(i==="Enter"){var s=Yc(n,"axis","hover",String(a.index));t.dispatch(Sh({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:s}));return}var u=Xz(n),c=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,p=o+f*c;if(!(l==null||p>=l.length||p<0)){var g=Yc(n,"axis","hover",String(p));t.dispatch(Sh({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});I0.startListening({actionCreator:bM,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=Yc(n,"axis","hover",String(i));t.dispatch(Sh({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var vn=Dn("externalEvent"),SM=Cs();SM.startListening({actionCreator:vn,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:q8(n),activeDataKey:rk(n),activeIndex:fi(n),activeLabel:nk(n),activeTooltipIndex:fi(n),isTooltipActive:H8(n)};e.payload.handler(r,e.payload.reactEvent)}}});var IG=U([$o],e=>e.tooltipItemPayloads),DG=U([IG,Ls,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(l=>l.settings.dataKey===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),EM=Dn("touchMove"),wM=Cs();wM.startListening({actionCreator:EM,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=c0(r,r.tooltip.settings.shared);if(a==="axis"){var i=M0(r,P0({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch($2({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var s=document.elementFromPoint(l.clientX,l.clientY);if(!s||!s.getAttribute)return;var u=s.getAttribute(X3),c=(o=s.getAttribute(W3))!==null&&o!==void 0?o:void 0,f=DG(t.getState(),u,c);t.dispatch(H2({activeDataKey:c,activeIndex:u,activeCoordinate:f}))}}}});var OG=ZC({brush:yV,cartesianAxis:K7,chartData:BB,errorBars:pH,graphicalItems:k7,layout:P3,legend:N5,options:RB,polarAxis:t7,polarOptions:PG,referenceElements:_V,rootProps:kG,tooltip:o8,zIndex:_B}),RG=function(t){return n3({reducer:OG,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([hM.middleware,gM.middleware,I0.middleware,SM.middleware,wM.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(cA({type:"raf"}))},devTools:bi.devToolsEnabled})};function jG(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Dt(),i=x.useRef(null);if(a)return n;i.current==null&&(i.current=RG(t));var o=dy;return x.createElement(AG,{context:o,store:i.current},n)}function LG(e){var{layout:t,margin:n}=e,r=Ve(),a=Dt();return x.useEffect(()=>{a||(r(N3(t)),r(A3(n)))},[r,a,t,n]),null}function UG(e){var t=Ve();return x.useEffect(()=>{t(MG(e))},[t,e]),null}function uE(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=Fk("".concat(r).concat(t)),i=Ve();return x.useLayoutEffect(()=>(i(EB({zIndex:t,elementId:a,isPanorama:n})),()=>{i(wB({zIndex:t,isPanorama:n}))}),[i,t,a,n]),x.createElement("g",{id:a})}function cE(e){var{children:t,isPanorama:n}=e,r=Z(fB);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return x.createElement(x.Fragment,null,a.map(o=>x.createElement(uE,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>x.createElement(uE,{key:o,zIndex:o,isPanorama:n})))}var zG=["children"];function BG(e,t){if(e==null)return{};var n,r,a=qG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ad.apply(null,arguments)}var HG={width:"100%",height:"100%",display:"block"},VG=x.forwardRef((e,t)=>{var n=Sy(),r=Ey(),a=jA();if(!ar(n)||!ar(r))return null;var{children:i,otherAttributes:o,title:l,desc:s}=e,u,c;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?c=o.role:c=a?"application":void 0),x.createElement(Jg,ad({},o,{title:l,desc:s,role:c,tabIndex:u,width:n,height:r,style:HG,ref:t}),i)}),$G=e=>{var{children:t}=e,n=Z(Jd);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return x.createElement(Jg,{width:r,height:a,x:o,y:i},t)},dE=x.forwardRef((e,t)=>{var{children:n}=e,r=BG(e,zG),a=Dt();return a?x.createElement($G,null,x.createElement(cE,{isPanorama:!0},n)):x.createElement(VG,ad({ref:t},r),x.createElement(cE,{isPanorama:!1},n))});function GG(){var e=Ve(),[t,n]=x.useState(null),r=Z(J3);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;We(i)&&i!==r&&e(M3(i))}},[t,e,r]),n}function fE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(n),!0).forEach(function(r){YG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YG(e,t,n){return(t=KG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi.apply(null,arguments)}var XG=()=>(JB(),null);function id(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var WG=x.forwardRef((e,t)=>{var n,r,a=x.useRef(null),[i,o]=x.useState({containerWidth:id((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:id((r=e.style)===null||r===void 0?void 0:r.height)}),l=x.useCallback((u,c)=>{o(f=>{var p=Math.round(u),g=Math.round(c);return f.containerWidth===p&&f.containerHeight===g?f:{containerWidth:p,containerHeight:g}})},[]),s=x.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();l(c,f);var p=y=>{var{width:b,height:E}=y[0].contentRect;l(b,E)},g=new ResizeObserver(p);g.observe(u),a.current=g}},[t,l]);return x.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),x.createElement(x.Fragment,null,x.createElement(Wd,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",pi({ref:s},e)))}),ZG=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=x.useState({containerWidth:id(n),containerHeight:id(r)}),o=x.useCallback((s,u)=>{i(c=>{var f=Math.round(s),p=Math.round(u);return c.containerWidth===f&&c.containerHeight===p?c:{containerWidth:f,containerHeight:p}})},[]),l=x.useCallback(s=>{if(typeof t=="function"&&t(s),s!=null){var{width:u,height:c}=s.getBoundingClientRect();o(u,c)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(Wd,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",pi({ref:l},e)))}),QG=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(Wd,{width:n,height:r}),x.createElement("div",pi({ref:t},e)))}),eF=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return Dr(n)||Dr(r)?x.createElement(ZG,pi({},e,{ref:t})):x.createElement(QG,pi({},e,{ref:t}))});function tF(e){return e===!0?WG:eF}var nF=x.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:s,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:p,onTouchEnd:g,onTouchMove:y,onTouchStart:b,style:E,width:v,responsive:S,dispatchTouchEvents:w=!0}=e,_=x.useRef(null),T=Ve(),[A,N]=x.useState(null),[k,I]=x.useState(null),O=GG(),C=by(),R=(C==null?void 0:C.width)>0?C.width:v,G=(C==null?void 0:C.height)>0?C.height:a,$=x.useCallback(M=>{O(M),typeof t=="function"&&t(M),N(M),I(M),M!=null&&(_.current=M)},[O,t,N,I]),K=x.useCallback(M=>{T(pM(M)),T(vn({handler:i,reactEvent:M}))},[T,i]),P=x.useCallback(M=>{T(Oh(M)),T(vn({handler:u,reactEvent:M}))},[T,u]),L=x.useCallback(M=>{T(V2()),T(vn({handler:c,reactEvent:M}))},[T,c]),V=x.useCallback(M=>{T(Oh(M)),T(vn({handler:f,reactEvent:M}))},[T,f]),D=x.useCallback(()=>{T(bM())},[T]),B=x.useCallback(M=>{T(xM(M.key))},[T]),Q=x.useCallback(M=>{T(vn({handler:o,reactEvent:M}))},[T,o]),J=x.useCallback(M=>{T(vn({handler:l,reactEvent:M}))},[T,l]),se=x.useCallback(M=>{T(vn({handler:s,reactEvent:M}))},[T,s]),te=x.useCallback(M=>{T(vn({handler:p,reactEvent:M}))},[T,p]),le=x.useCallback(M=>{T(vn({handler:b,reactEvent:M}))},[T,b]),bt=x.useCallback(M=>{w&&T(EM(M)),T(vn({handler:y,reactEvent:M}))},[T,w,y]),xe=x.useCallback(M=>{T(vn({handler:g,reactEvent:M}))},[T,g]),$e=tF(S);return x.createElement(dk.Provider,{value:A},x.createElement(ZT.Provider,{value:k},x.createElement($e,{width:R??(E==null?void 0:E.width),height:G??(E==null?void 0:E.height),className:Ce("recharts-wrapper",r),style:FG({position:"relative",cursor:"default",width:R,height:G},E),onClick:K,onContextMenu:Q,onDoubleClick:J,onFocus:D,onKeyDown:B,onMouseDown:se,onMouseEnter:P,onMouseLeave:L,onMouseMove:V,onMouseUp:te,onTouchEnd:xe,onTouchMove:bt,onTouchStart:le,ref:$},x.createElement(XG,null),n)))}),rF=["width","height","responsive","children","className","style","compact","title","desc"];function aF(e,t){if(e==null)return{};var n,r,a=iF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function iF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oF=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:l,compact:s,title:u,desc:c}=e,f=aF(e,rF),p=Hn(f);return s?x.createElement(x.Fragment,null,x.createElement(Wd,{width:n,height:r}),x.createElement(dE,{otherAttributes:p,title:u,desc:c},i)):x.createElement(nF,{className:o,style:l,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(dE,{otherAttributes:p,title:u,desc:c,ref:t},x.createElement(CV,null,i)))});function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rh.apply(null,arguments)}var lF={top:5,right:5,bottom:5,left:5},sF={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lF,reverseStackOrder:!1,syncMethod:"index",responsive:!1},_M=x.forwardRef(function(t,n){var r,a=Nt(t.categoricalChartProps,sF),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:s,categoricalChartProps:u}=t,c={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:s,eventEmitter:void 0};return x.createElement(jG,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:i},x.createElement(gV,{chartData:u.data}),x.createElement(LG,{layout:a.layout,margin:a.margin}),x.createElement(UG,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),x.createElement(oF,Rh({},a,{ref:n})))}),uF=["axis"],cF=x.forwardRef((e,t)=>x.createElement(_M,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uF,tooltipPayloadSearcher:mk,categoricalChartProps:e,ref:t})),dF=["axis","item"],fF=x.forwardRef((e,t)=>x.createElement(_M,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dF,tooltipPayloadSearcher:mk,categoricalChartProps:e,ref:t}));const vu=({title:e,value:t,icon:n,color:r,onClick:a,isLoading:i})=>d.jsx("div",{className:`relative p-6 rounded-2xl overflow-hidden text-white shadow-lg transition-transform transform hover:-translate-y-1 ${r} ${a?"cursor-pointer":""}`,onClick:a,children:i?d.jsxs("div",{className:"animate-pulse flex flex-col z-10",children:[d.jsx("div",{className:"h-6 bg-white/30 rounded w-3/4 mb-4"}),d.jsx("div",{className:"h-10 bg-white/30 rounded w-1/2"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold",children:e}),d.jsx(n,{className:"w-8 h-8 opacity-80"})]}),d.jsx("p",{className:"text-4xl font-bold mt-4",children:t})]}),d.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 rounded-full bg-white/10"}),d.jsx("div",{className:"absolute -bottom-8 -left-2 w-32 h-32 rounded-full bg-white/5"})]})}),mE=({setView:e})=>{const[t,n]=x.useState(null),[r,a]=x.useState(!0);x.useEffect(()=>{(async()=>{a(!0);const l=await gO();n(l),a(!1)})()},[]);const i=[{name:"Seg",Sadas:30},{name:"Ter",Sadas:45},{name:"Qua",Sadas:28},{name:"Qui",Sadas:50},{name:"Sex",Sadas:62},{name:"Sb",Sadas:40}];return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsx(vu,{title:"Total de Produtos",value:(t==null?void 0:t.totalProducts)??0,icon:GT,color:"bg-gradient-to-br from-blue-500 to-indigo-600",onClick:()=>e("products"),isLoading:r}),d.jsx(vu,{title:"Estoque Baixo",value:(t==null?void 0:t.lowStockProducts)??0,icon:OO,color:"bg-gradient-to-br from-amber-500 to-orange-600",onClick:()=>e("products"),isLoading:r}),d.jsx(vu,{title:"Entradas Recentes",value:(t==null?void 0:t.recentMovementsIn)??0,icon:YT,color:"bg-gradient-to-br from-emerald-500 to-green-600",onClick:()=>e("movements"),isLoading:r}),d.jsx(vu,{title:"Sadas Recentes",value:(t==null?void 0:t.recentMovementsOut)??0,icon:KT,color:"bg-gradient-to-br from-rose-500 to-red-600",onClick:()=>e("movements"),isLoading:r})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:[d.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Atividade de Vendas (Sadas)"}),d.jsx(Wx,{width:"100%",height:300,children:d.jsxs(cF,{data:i,children:[d.jsx(kh,{strokeDasharray:"3 3",strokeOpacity:.2}),d.jsx(Ph,{dataKey:"name"}),d.jsx(Dh,{}),d.jsx(AS,{contentStyle:{backgroundColor:"rgba(31, 41, 55, 0.8)",border:"none",borderRadius:"0.5rem"}}),d.jsx(nh,{}),d.jsx(mM,{type:"monotone",dataKey:"Sadas",stroke:"#10b981",strokeWidth:2,activeDot:{r:8}})]})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:[d.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Estoque por Categoria"}),r?d.jsx("div",{className:"animate-pulse h-[300px] bg-gray-200 dark:bg-gray-700 rounded-lg"}):d.jsx(Wx,{width:"100%",height:300,children:d.jsxs(fF,{data:(t==null?void 0:t.stockByCategoryData)??[],children:[d.jsx(kh,{strokeDasharray:"3 3",strokeOpacity:.2}),d.jsx(Ph,{dataKey:"name"}),d.jsx(Dh,{}),d.jsx(AS,{contentStyle:{backgroundColor:"rgba(31, 41, 55, 0.8)",border:"none",borderRadius:"0.5rem"}}),d.jsx(nh,{}),d.jsx(tM,{dataKey:"estoque",fill:"#3b82f6"})]})})]})]})]})},mF=({view:e,setView:t,hasPermission:n,isOpen:r,onClose:a,currentUser:i})=>{const[o,l]=Ga.useState("Estoque Gemini"),[s,u]=Ga.useState("");Ga.useEffect(()=>{i&&(async()=>{var p,g,y;try{if((i==null?void 0:i.role)===ge.SuperAdmin){const b=await jo();(p=b.system_name)!=null&&p.value&&l(b.system_name.value),(g=b.system_logo_url)!=null&&g.value&&u(b.system_logo_url.value)}else{const b=await Fg();if(i!=null&&i.companyId){const v=(await Ss()).find(S=>S.id===i.companyId);v&&l(v.name)}(y=b.company_logo_url)!=null&&y.value&&u(b.company_logo_url.value)}}catch(b){console.warn("Could not load company settings:",b)}})()},[i]);const c=[{name:"Dashboard",icon:kO,view:"dashboard",requiredRole:ge.Employee},{name:"Produtos",icon:GT,view:"products",requiredRole:ge.Employee},{name:"Categorias",icon:MO,view:"categories",requiredRole:ge.Manager},{name:"Fornecedores",icon:PO,view:"suppliers",requiredRole:ge.Manager},{name:"Movimentaes",icon:FT,view:"movements",requiredRole:ge.Employee},{name:"Relatrios",icon:jO,view:"reports",requiredRole:ge.Employee},{name:"Processar Nota",icon:Ru,view:"invoice-processor",requiredRole:ge.Manager},{name:"Log de Atividades",icon:Ru,view:"activity-log",requiredRole:ge.Admin},{name:"Usurios",icon:IO,view:"users",requiredRole:ge.Admin},{name:"Configuraes",icon:yx,view:"company-settings",requiredRole:ge.Admin},{name:"Empresas",icon:RO,view:"companies",requiredRole:ge.SuperAdmin},{name:" Atividades Crticas",icon:Ru,view:"critical-activity-report",requiredRole:ge.SuperAdmin},{name:"Config. Sistema",icon:yx,view:"settings",requiredRole:ge.SuperAdmin}];return d.jsxs("aside",{className:`
      fixed lg:static inset-y-0 left-0 z-30
      w-64 flex-shrink-0 
      bg-gray-800 dark:bg-gray-900 text-gray-300 flex flex-col
      transform transition-transform duration-300 ease-in-out
      ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}
    `,children:[d.jsx("button",{onClick:a,className:"lg:hidden absolute top-4 right-4 text-gray-400 hover:text-white z-40","aria-label":"Fechar menu",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),d.jsx("div",{className:"h-20 flex items-center justify-center text-2xl font-bold text-white px-4",children:s?d.jsx("img",{src:s,alt:o,className:"h-12 object-contain",onError:f=>{f.target.style.display="none"}}):d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-400",children:o})}),d.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:c.map(f=>n(f.requiredRole)&&d.jsxs("button",{onClick:()=>t(f.view),className:`w-full flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 ${e===f.view?"bg-emerald-600 text-white shadow-lg":"hover:bg-gray-700 hover:text-white"}`,children:[d.jsx(f.icon,{className:"w-6 h-6 mr-3"}),d.jsx("span",{children:f.name})]},f.name))})]})},pF=({currentUser:e,onLogout:t,onMenuClick:n})=>{const[r,a]=x.useState(""),[i,o]=x.useState("Estoque Gemini"),[l,s]=x.useState("");return x.useEffect(()=>{(async()=>{var c,f;try{const g=(await Ss()).find(b=>b.id===e.companyId);a((g==null?void 0:g.name)||"Empresa no encontrada");const y=await jo();(c=y.system_name)!=null&&c.value&&o(y.system_name.value),(f=y.system_logo_url)!=null&&f.value&&s(y.system_logo_url.value)}catch(p){console.error("Erro ao carregar dados:",p),a("Erro ao carregar")}})()},[e.companyId]),d.jsxs("header",{className:"h-20 flex-shrink-0 flex items-center justify-between px-4 sm:px-8 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:n,className:"lg:hidden p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Abrir menu",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-lg sm:text-xl font-semibold text-gray-800 dark:text-gray-200",children:["Bem-vindo(a), ",e.name.split(" ")[0],"!"]}),d.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:r})]})]}),d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[d.jsxs("div",{className:"text-right hidden sm:block",children:[d.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:e.name}),d.jsx("p",{className:"text-sm text-emerald-500 font-medium",children:e.role})]}),d.jsx("img",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full object-cover",src:e.avatar,alt:e.name}),d.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-red-500 dark:hover:text-red-500 transition-colors",title:"Sair",children:d.jsx(DO,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})},D0=({onImport:e,fieldMappings:t,sampleData:n,userRole:r})=>{const[a,i]=x.useState(!1),[o,l]=x.useState(""),[s,u]=x.useState([]),[c,f]=x.useState([]),[p,g]=x.useState({}),[y,b]=x.useState(1),[E,v]=x.useState(!1),[S,w]=x.useState(new Set),[_,T]=x.useState(!1),[A,N]=x.useState(!1);if(r!==ge.Admin&&r!==ge.SuperAdmin)return null;const k=$=>{const K=$.trim().split(`
`),P=K[0].split(/[,;|\t]/).map(V=>V.trim().replace(/^["']|["']$/g,"")),L=K.slice(1).map(V=>V.split(/[,;|\t]/).map(B=>B.trim().replace(/^["']|["']$/g,"")));return{headers:P,rows:L}},I=$=>{var L;const K=(L=$.target.files)==null?void 0:L[0];if(!K)return;const P=new FileReader;P.onload=V=>{var B;const D=(B=V.target)==null?void 0:B.result;l(D);try{const{headers:Q,rows:J}=k(D);u(Q),f(J);const se={},te=new Set;Object.keys(t).forEach(le=>{te.add(le);const bt=le.toLowerCase().replace(/[_\s]/g,""),xe=Q.find($e=>$e.toLowerCase().replace(/[_\s]/g,"")===bt||$e.toLowerCase().includes(bt)||bt.includes($e.toLowerCase()));xe&&(se[le]=xe)}),g(se),w(new Set(Object.keys(se))),b(2)}catch{alert("Erro ao processar arquivo CSV. Verifique o formato.")}},P.readAsText(K)},O=($,K)=>{g(P=>({...P,[$]:K}))},C=$=>{w(K=>{const P=new Set(K);return P.has($)?P.delete($):P.add($),P})},R=()=>{b(3)},G=async()=>{v(!0);try{const $=c.map(K=>{const P={};return Object.keys(p).forEach(L=>{if(S.has(L)){const V=s.indexOf(p[L]);if(V!==-1){let D=K[V];(L.toLowerCase().includes("price")||L.toLowerCase().includes("preco"))&&(D=D.replace(",",".")),P[L]=D}}}),P});await e($,{importIds:_,replaceExisting:A}),i(!1),l(""),u([]),f([]),g({}),b(1),w(new Set),T(!1),N(!1)}catch($){alert("Erro ao importar dados: "+($ instanceof Error?$.message:"Erro desconhecido"))}finally{v(!1)}};return d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>i(!0),className:"flex items-center bg-purple-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-purple-600 transition-colors",title:"Importar dados via CSV",children:" Importar CSV"}),a&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Importar Dados via CSV"}),d.jsx("button",{onClick:()=>{i(!1),b(1)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("div",{className:`flex items-center ${y>=1?"text-emerald-600":"text-gray-400"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${y>=1?"bg-emerald-600 text-white":"bg-gray-300"}`,children:"1"}),d.jsx("span",{className:"ml-2 font-medium",children:"Upload"})]}),d.jsx("div",{className:"flex-1 h-1 mx-4 bg-gray-300",children:d.jsx("div",{className:`h-full ${y>=2?"bg-emerald-600":"bg-gray-300"}`})}),d.jsxs("div",{className:`flex items-center ${y>=2?"text-emerald-600":"text-gray-400"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${y>=2?"bg-emerald-600 text-white":"bg-gray-300"}`,children:"2"}),d.jsx("span",{className:"ml-2 font-medium",children:"Mapeamento"})]}),d.jsx("div",{className:"flex-1 h-1 mx-4 bg-gray-300",children:d.jsx("div",{className:`h-full ${y>=3?"bg-emerald-600":"bg-gray-300"}`})}),d.jsxs("div",{className:`flex items-center ${y>=3?"text-emerald-600":"text-gray-400"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${y>=3?"bg-emerald-600 text-white":"bg-gray-300"}`,children:"3"}),d.jsx("span",{className:"ml-2 font-medium",children:"Confirmar"})]})]}),y===1&&d.jsxs("div",{children:[d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[d.jsx("input",{type:"file",accept:".csv,.txt",onChange:I,className:"hidden",id:"csv-upload"}),d.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer flex flex-col items-center",children:[d.jsx("span",{className:"text-6xl mb-4",children:""}),d.jsx("span",{className:"text-lg font-medium text-gray-700 mb-2",children:"Clique para selecionar um arquivo CSV"}),d.jsx("span",{className:"text-sm text-gray-500",children:"Formatos aceitos: .csv, .txt (separado por vrgula, ponto-e-vrgula ou tab)"})]})]}),n&&d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Exemplo de CSV:"}),d.jsx("pre",{className:"bg-gray-50 p-4 rounded text-xs overflow-x-auto border border-gray-200",children:n})]})]}),y===2&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-700 mb-4",children:"Mapeie as colunas do CSV para os campos do sistema:"}),d.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:Object.keys(t).map($=>d.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded",children:[d.jsx("input",{type:"checkbox",checked:S.has($),onChange:()=>C($),className:"w-5 h-5"}),d.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campo no Sistema:"}),d.jsx("div",{className:"px-3 py-2 bg-white border border-gray-300 rounded",children:t[$]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coluna no CSV:"}),d.jsxs("select",{value:p[$]||"",onChange:K=>O($,K.target.value),disabled:!S.has($),className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500",children:[d.jsx("option",{value:"",children:"-- No importar --"}),s.map(K=>d.jsx("option",{value:K,children:K},K))]})]})]})]},$))}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg space-y-3",children:[d.jsx("h5",{className:"font-semibold text-blue-900 mb-2",children:" Opes de Importao:"}),d.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:_,onChange:$=>T($.target.checked),className:"w-5 h-5 mt-0.5"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:" Importar IDs do CSV"}),d.jsx("div",{className:"text-sm text-gray-600",children:"Usar os IDs do arquivo CSV ao invs de gerar automaticamente. IDs duplicados sero ignorados ou atualizados (veja opo abaixo)."})]})]}),d.jsxs("label",{className:`flex items-start gap-3 cursor-pointer ${_?"":"opacity-50"}`,children:[d.jsx("input",{type:"checkbox",checked:A,onChange:$=>N($.target.checked),disabled:!_,className:"w-5 h-5 mt-0.5"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:" Substituir registros existentes"}),d.jsx("div",{className:"text-sm text-gray-600",children:_?"Se o ID j existir, atualizar os dados. Se no existir, criar novo registro.":"Esta opo s funciona com 'Importar IDs' ativado."})]})]})]}),d.jsxs("div",{className:"mt-6 flex justify-between",children:[d.jsx("button",{onClick:()=>b(1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:" Voltar"}),d.jsx("button",{onClick:R,disabled:S.size===0,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Pr-visualizar "})]})]}),y===3&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-700 mb-4",children:"Pr-visualizao dos dados a serem importados:"}),d.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[c.length," registro(s) sero importados. Verifique os dados antes de confirmar."]}),d.jsxs("div",{className:"overflow-x-auto max-h-96",children:[d.jsxs("table",{className:"w-full text-sm border-collapse",children:[d.jsx("thead",{children:d.jsx("tr",{className:"bg-gray-100",children:Array.from(S).map($=>d.jsx("th",{className:"px-3 py-2 text-left border border-gray-300",children:t[$]},$))})}),d.jsx("tbody",{children:c.slice(0,10).map(($,K)=>d.jsx("tr",{className:"hover:bg-gray-50",children:Array.from(S).map(P=>{const L=s.indexOf(p[P]),V=L!==-1?$[L]:"";return d.jsx("td",{className:"px-3 py-2 border border-gray-300",children:V},P)})},K))})]}),c.length>10&&d.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Mostrando 10 de ",c.length," registros"]})]}),d.jsxs("div",{className:"mt-6 flex justify-between",children:[d.jsx("button",{onClick:()=>b(2),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:" Voltar"}),d.jsx("button",{onClick:G,disabled:E,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:E?"Importando...":` Confirmar Importao (${c.length} registros)`})]})]})]})})})]})},hF=({currentUser:e})=>{const[t,n]=x.useState([]),[r,a]=x.useState([]),[i,o]=x.useState([]),[l,s]=x.useState(!0),[u,c]=x.useState(null),[f,p]=x.useState(""),[g,y]=x.useState(!1),[b,E]=x.useState(null),[v,S]=x.useState(""),[w,_]=x.useState(""),[T,A]=x.useState("all"),[N,k]=x.useState(!1),[I,O]=x.useState(!1),[C,R]=x.useState({format:"list",compactColumns:4,groupByCategory:!1,columns:{number:!0,name:!0,sku:!0,category:!0,supplier:!1,price:!0,stock:!0,minStock:!0},filterByCategories:[],filterBySuppliers:[]}),G={name:"",sku:"",categoryId:0,supplierId:0,price:0,stock:0,minStock:0,imageUrl:""},[$,K]=x.useState(G),P=()=>{O(!0)},L=()=>{const M=window.open("","_blank");if(!M)return;let z=D;C.filterByCategories.length>0&&(z=z.filter(F=>C.filterByCategories.includes(F.categoryId))),C.filterBySuppliers.length>0&&(z=z.filter(F=>C.filterBySuppliers.includes(F.supplierId))),z=[...z].sort((F,ee)=>F.name.localeCompare(ee.name,"pt-BR",{sensitivity:"base"}));const q={};C.groupByCategory&&(z.forEach(F=>{q[F.categoryId]||(q[F.categoryId]=[]),q[F.categoryId].push(F)}),Object.keys(q).forEach(F=>{q[Number(F)]=q[Number(F)].sort((ee,ne)=>ee.name.localeCompare(ne.name,"pt-BR",{sensitivity:"base"}))}));const j=C.format==="compact",ae=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <title>Lista de Produtos - EstoqueVS</title>
          <style>
            @media print {
              @page { 
                margin: ${j?"0.5cm":"1.5cm"}; 
                size: A4 portrait;
              }
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: Arial, sans-serif;
              padding: ${j?"10px":"20px"};
              color: #333;
              font-size: ${j?"10px":"12px"};
            }
            .header {
              text-align: center;
              margin-bottom: ${j?"15px":"30px"};
              border-bottom: ${j?"2px":"3px"} solid #10b981;
              padding-bottom: ${j?"10px":"20px"};
            }
            .header h1 {
              color: #10b981;
              font-size: ${j?"20px":"32px"};
              margin-bottom: 5px;
            }
            .header p {
              color: #666;
              font-size: ${j?"10px":"14px"};
            }
            .info {
              display: flex;
              justify-between;
              margin-bottom: ${j?"10px":"20px"};
              font-size: ${j?"9px":"12px"};
              color: #666;
            }
            
            .category-header {
              background: linear-gradient(135deg, #10b981 0%, #059669 100%);
              color: white;
              padding: ${j?"8px 12px":"12px 16px"};
              margin-top: ${j?"15px":"25px"};
              margin-bottom: ${j?"8px":"12px"};
              border-radius: 6px;
              font-weight: 600;
              font-size: ${j?"11px":"14px"};
              display: flex;
              align-items: center;
              gap: 8px;
              page-break-after: avoid;
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }
            .category-header:first-of-type {
              margin-top: ${j?"5px":"10px"};
            }
            .category-count {
              background: rgba(255, 255, 255, 0.2);
              padding: 2px 8px;
              border-radius: 12px;
              font-size: ${j?"9px":"11px"};
              margin-left: auto;
            }
            
            ${j?`
              /* Formato Compacto - Lista de Compras */
              .compact-grid {
                display: grid;
                grid-template-columns: repeat(${C.compactColumns}, 1fr);
                gap: 8px;
                margin-top: 10px;
              }
              .compact-item {
                border: 1px solid #ddd;
                padding: 6px 8px;
                display: flex;
                align-items: center;
                gap: 8px;
                background: white;
                page-break-inside: avoid;
              }
              .checkbox {
                width: 16px;
                height: 16px;
                border: 2px solid #333;
                flex-shrink: 0;
                border-radius: 3px;
              }
              .item-content {
                flex: 1;
                min-width: 0;
              }
              .item-name {
                font-weight: 600;
                font-size: 10px;
                margin-bottom: 2px;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
              }
              .item-details {
                font-size: 8px;
                color: #666;
                display: flex;
                gap: 8px;
                flex-wrap: wrap;
              }
              .item-details span {
                white-space: nowrap;
              }
            `:`
              /* Formato Lista - Tabela Tradicional */
              table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 20px;
              }
              th {
                background-color: #f3f4f6;
                color: #374151;
                padding: 10px 6px;
                text-align: left;
                font-weight: 600;
                font-size: 11px;
                border: 1px solid #e5e7eb;
              }
              td {
                padding: 8px 6px;
                border: 1px solid #e5e7eb;
                font-size: 10px;
              }
              tr:nth-child(even) {
                background-color: #f9fafb;
              }
              .price {
                text-align: right;
                font-weight: 600;
                color: #059669;
              }
              .stock {
                text-align: center;
              }
              .low-stock {
                color: #dc2626;
                font-weight: 600;
              }
            `}
            
            .footer {
              margin-top: ${j?"20px":"40px"};
              text-align: center;
              font-size: ${j?"8px":"11px"};
              color: #999;
              border-top: 1px solid #e5e7eb;
              padding-top: ${j?"10px":"15px"};
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1> EstoqueVS</h1>
            <p>${j?"Lista de Compras":"Relatrio de Produtos"}</p>
          </div>
          
          <div class="info">
            <div>
              <strong>Data:</strong> ${new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}
            </div>
            <div>
              <strong>Total:</strong> ${z.length} ${z.length===1?"produto":"produtos"}
            </div>
          </div>
          
          ${j?`
            <!-- Formato Compacto -->
            ${C.groupByCategory?Object.entries(q).sort(([F],[ee])=>{const ne=r.find(he=>he.id===Number(F)),ue=r.find(he=>he.id===Number(ee));return((ne==null?void 0:ne.name)||"").localeCompare((ue==null?void 0:ue.name)||"")}).map(([F,ee])=>{const ne=r.find(ue=>ue.id===Number(F));return`
                    <div class="category-header">
                      <span> ${(ne==null?void 0:ne.name)||"Sem Categoria"}</span>
                      <span class="category-count">${ee.length} ${ee.length===1?"item":"itens"}</span>
                    </div>
                    <div class="compact-grid">
                      ${ee.map(ue=>{const he=i.find(Jo=>Jo.id===ue.supplierId),hn=ue.stock<ue.minStock;let Kn=[];return C.columns.sku&&Kn.push(`SKU: ${ue.sku}`),C.columns.category&&Kn.push(`${(ne==null?void 0:ne.name)||"N/A"}`),C.columns.supplier&&Kn.push(`${(he==null?void 0:he.name)||"N/A"}`),C.columns.price&&Kn.push(`R$ ${ue.price.toFixed(2).replace(".",",")}`),C.columns.stock&&Kn.push(`Estq: ${ue.stock}${hn?" ":""}`),`
                          <div class="compact-item">
                            <div class="checkbox"></div>
                            <div class="item-content">
                              <div class="item-name">${ue.name}</div>
                              <div class="item-details">
                                ${Kn.map(Jo=>`<span>${Jo}</span>`).join("")}
                              </div>
                            </div>
                          </div>
                        `}).join("")}
                    </div>
                  `}).join(""):`
              <div class="compact-grid">
                ${z.map(F=>{const ee=r.find(hn=>hn.id===F.categoryId),ne=i.find(hn=>hn.id===F.supplierId),ue=F.stock<F.minStock;let he=[];return C.columns.sku&&he.push(`SKU: ${F.sku}`),C.columns.category&&he.push(`${(ee==null?void 0:ee.name)||"N/A"}`),C.columns.supplier&&he.push(`${(ne==null?void 0:ne.name)||"N/A"}`),C.columns.price&&he.push(`R$ ${F.price.toFixed(2).replace(".",",")}`),C.columns.stock&&he.push(`Estq: ${F.stock}${ue?" ":""}`),`
                    <div class="compact-item">
                      <div class="checkbox"></div>
                      <div class="item-content">
                        <div class="item-name">${F.name}</div>
                        <div class="item-details">
                          ${he.map(hn=>`<span>${hn}</span>`).join("")}
                        </div>
                      </div>
                    </div>
                  `}).join("")}
              </div>
            `}
          `:`
            <!-- Formato Lista -->
            ${C.groupByCategory?Object.entries(q).sort(([F],[ee])=>{const ne=r.find(he=>he.id===Number(F)),ue=r.find(he=>he.id===Number(ee));return((ne==null?void 0:ne.name)||"").localeCompare((ue==null?void 0:ue.name)||"")}).map(([F,ee])=>{const ne=r.find(he=>he.id===Number(F));let ue=0;return`
                    <div class="category-header">
                      <span> ${(ne==null?void 0:ne.name)||"Sem Categoria"}</span>
                      <span class="category-count">${ee.length} ${ee.length===1?"item":"itens"}</span>
                    </div>
                    <table>
                      <thead>
                        <tr>
                          ${C.columns.number?'<th style="width: 4%">#</th>':""}
                          ${C.columns.name?'<th style="width: 30%">Produto</th>':""}
                          ${C.columns.sku?'<th style="width: 12%">SKU</th>':""}
                          ${C.columns.category?'<th style="width: 15%">Categoria</th>':""}
                          ${C.columns.supplier?'<th style="width: 15%">Fornecedor</th>':""}
                          ${C.columns.price?'<th style="width: 10%">Preo</th>':""}
                          ${C.columns.stock?'<th style="width: 8%">Estoque</th>':""}
                          ${C.columns.minStock?'<th style="width: 6%">Mn.</th>':""}
                        </tr>
                      </thead>
                      <tbody>
                        ${ee.map((he,hn)=>{const Kn=i.find(QM=>QM.id===he.supplierId),Jo=he.stock<he.minStock;return ue++,`
                            <tr>
                              ${C.columns.number?`<td>${ue}</td>`:""}
                              ${C.columns.name?`<td><strong>${he.name}</strong></td>`:""}
                              ${C.columns.sku?`<td>${he.sku}</td>`:""}
                              ${C.columns.category?`<td>${(ne==null?void 0:ne.name)||"N/A"}</td>`:""}
                              ${C.columns.supplier?`<td>${(Kn==null?void 0:Kn.name)||"N/A"}</td>`:""}
                              ${C.columns.price?`<td class="price">R$ ${he.price.toFixed(2).replace(".",",")}</td>`:""}
                              ${C.columns.stock?`<td class="stock ${Jo?"low-stock":""}">${he.stock}</td>`:""}
                              ${C.columns.minStock?`<td class="stock">${he.minStock}</td>`:""}
                            </tr>
                          `}).join("")}
                      </tbody>
                    </table>
                  `}).join(""):`
              <table>
                <thead>
                  <tr>
                    ${C.columns.number?'<th style="width: 4%">#</th>':""}
                    ${C.columns.name?'<th style="width: 30%">Produto</th>':""}
                    ${C.columns.sku?'<th style="width: 12%">SKU</th>':""}
                    ${C.columns.category?'<th style="width: 15%">Categoria</th>':""}
                    ${C.columns.supplier?'<th style="width: 15%">Fornecedor</th>':""}
                    ${C.columns.price?'<th style="width: 10%">Preo</th>':""}
                    ${C.columns.stock?'<th style="width: 8%">Estoque</th>':""}
                    ${C.columns.minStock?'<th style="width: 6%">Mn.</th>':""}
                  </tr>
                </thead>
                <tbody>
                  ${z.map((F,ee)=>{const ne=r.find(hn=>hn.id===F.categoryId),ue=i.find(hn=>hn.id===F.supplierId),he=F.stock<F.minStock;return`
                      <tr>
                        ${C.columns.number?`<td>${ee+1}</td>`:""}
                        ${C.columns.name?`<td><strong>${F.name}</strong></td>`:""}
                        ${C.columns.sku?`<td>${F.sku}</td>`:""}
                        ${C.columns.category?`<td>${(ne==null?void 0:ne.name)||"N/A"}</td>`:""}
                        ${C.columns.supplier?`<td>${(ue==null?void 0:ue.name)||"N/A"}</td>`:""}
                        ${C.columns.price?`<td class="price">R$ ${F.price.toFixed(2).replace(".",",")}</td>`:""}
                        ${C.columns.stock?`<td class="stock ${he?"low-stock":""}">${F.stock}</td>`:""}
                        ${C.columns.minStock?`<td class="stock">${F.minStock}</td>`:""}
                      </tr>
                    `}).join("")}
                </tbody>
              </table>
            `}
          `}
          
          <div class="footer">
            Relatrio gerado por EstoqueVS - Sistema de Gerenciamento de Estoque
          </div>
          
          <script>
            window.onload = function() {
              window.print();
              setTimeout(function() {
                window.close();
              }, 500);
            }
          <\/script>
        </body>
      </html>
    `;M.document.write(ae),M.document.close(),O(!1)},V=async(M,z)=>{try{const q=M.map(ee=>{var ne,ue;return{...z.importIds&&ee.id?{id:parseInt(ee.id)}:{},name:ee.name||ee.produto||ee.nome,sku:ee.sku||ee.codigo||"",categoryId:parseInt(ee.categoryId||ee.categoria||((ne=r[0])==null?void 0:ne.id)||"0"),supplierId:parseInt(ee.supplierId||ee.fornecedor||((ue=i[0])==null?void 0:ue.id)||"0"),price:parseFloat((ee.price||ee.preco||"0").toString().replace(",",".")),stock:parseInt(ee.stock||ee.estoque||"0"),minStock:parseInt(ee.minStock||ee.estoqueMinimo||ee.minimo||"10")}}),j=await vO(q,z);let ae=` Importao concluda com sucesso!
`;ae+=`${j.imported} produtos criados`,j.updated&&j.updated>0&&(ae+=`
${j.updated} produtos atualizados`),j.errors&&j.errors.length>0&&(ae+=`

 Avisos:
${j.errors.join(`
`)}`),alert(ae);const F=await yo();n(F)}catch(q){throw new Error("Erro ao importar produtos: "+(q instanceof Error?q.message:"Erro desconhecido"))}};x.useEffect(()=>{(async()=>{s(!0),c(null);try{const[z,q,j]=await Promise.all([yo(),vo(),Jl()]);console.log("Products:",z),console.log("Categories:",q),console.log("Suppliers:",j),n(z||[]),a(q||[]),o(j||[]),q&&q.length>0&&j&&j.length>0&&K(ae=>({...ae,categoryId:q[0].id,supplierId:j[0].id}))}catch(z){console.error("Error fetching data:",z),c(z instanceof Error?z.message:"Erro ao carregar dados")}finally{s(!1)}})()},[]),x.useEffect(()=>{var M,z;K(b||{...G,categoryId:((M=r[0])==null?void 0:M.id)||0,supplierId:((z=i[0])==null?void 0:z.id)||0})},[b,r,i]);const D=t.filter(M=>{const z=M.name.toLowerCase().includes(f.toLowerCase())||M.sku.toLowerCase().includes(f.toLowerCase()),q=v===""||M.categoryId===v,j=w===""||M.supplierId===w;let ae=!0;return T==="low"?ae=M.stock<=M.minStock:T==="ok"?ae=M.stock>M.minStock&&M.stock<=M.minStock*2:T==="high"&&(ae=M.stock>M.minStock*2),z&&q&&j&&ae}).sort((M,z)=>M.name.localeCompare(z.name,"pt-BR",{sensitivity:"base"})),B=()=>{p(""),S(""),_(""),A("all")},Q=(f?1:0)+(v!==""?1:0)+(w!==""?1:0)+(T!=="all"?1:0),J=()=>{E(null),y(!0)},se=M=>{E(M),y(!0)},te=()=>{y(!1),E(null)},le=M=>{const{name:z,value:q}=M.target,j=["price","stock","minStock","categoryId","supplierId"];K(ae=>({...ae,[z]:j.includes(z)?Number(q):q}))},bt=async M=>{if(M.preventDefault(),b){const z=await gx(b.id,$);n(q=>q.map(j=>j.id===b.id?z:j))}else{const z=await qT($);n(q=>[z,...q])}te()},xe=async M=>{window.confirm("Tem certeza que deseja excluir este produto?")&&(await nO(M),n(t.filter(z=>z.id!==M)))},$e=async(M,z)=>{const q=M.stock+z;if(q<0){alert("O estoque no pode ser negativo!");return}try{const j=await gx(M.id,{stock:q});await $T({productId:M.id,userId:e.id,type:z>0?tr.In:tr.Out,quantity:Math.abs(z),reason:z>0?"Ajuste manual - Entrada":"Ajuste manual - Sada"}),n(ae=>ae.map(F=>F.id===M.id?j:F))}catch(j){console.error("Erro ao atualizar estoque:",j),alert("Erro ao atualizar o estoque. Tente novamente.")}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-2xl shadow-lg",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Produtos"}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full sm:w-auto",children:[d.jsx("input",{type:"text",placeholder:"Buscar produto...",value:f,onChange:M=>p(M.target.value),className:"w-full sm:w-64 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:()=>k(!N),className:`flex items-center justify-center px-3 sm:px-4 py-2 rounded-lg font-semibold transition-colors text-sm ${Q>0?"bg-emerald-500 text-white hover:bg-emerald-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:"Mostrar/ocultar filtros",children:[" ",d.jsx("span",{className:"hidden sm:inline ml-1",children:"Filtros"})," ",Q>0&&`(${Q})`]}),d.jsxs("button",{onClick:P,className:"flex items-center justify-center bg-blue-500 text-white px-3 sm:px-4 py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors text-sm",title:"Configurar e imprimir lista de produtos",children:[" ",d.jsx("span",{className:"hidden sm:inline ml-1",children:"Imprimir"})]}),d.jsx("div",{className:"hidden sm:block",children:d.jsx(D0,{onImport:V,userRole:e.role,fieldMappings:{id:"ID (opcional)",name:"Nome do Produto",sku:"SKU/Cdigo",categoryId:"ID da Categoria",supplierId:"ID do Fornecedor",price:"Preo",stock:"Estoque Atual",minStock:"Estoque Mnimo"},sampleData:`id,name,sku,categoryId,supplierId,price,stock,minStock
1,Notebook Dell Inspiron,NB-DELL-001,1,1,2500.00,15,5
2,Mouse Logitech MX,MS-LOG-001,1,1,120.50,50,10`})}),d.jsxs("button",{onClick:J,className:"flex items-center justify-center bg-emerald-500 text-white px-3 sm:px-4 py-2 rounded-lg font-semibold hover:bg-emerald-600 transition-colors text-sm",children:[d.jsx(Es,{className:"w-4 h-4 sm:w-5 sm:h-5 sm:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"Novo Produto"}),d.jsx("span",{className:"sm:hidden",children:"Novo"})]})]})]})]}),N&&d.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300",children:" Filtros Avanados"}),d.jsx("button",{onClick:B,className:"text-sm text-emerald-600 hover:text-emerald-700 font-medium",children:" Limpar Filtros"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" Categoria"}),d.jsxs("select",{value:v,onChange:M=>S(M.target.value===""?"":Number(M.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[d.jsx("option",{value:"",children:"Todas as categorias"}),r.map(M=>d.jsx("option",{value:M.id,children:M.name},M.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" Fornecedor"}),d.jsxs("select",{value:w,onChange:M=>_(M.target.value===""?"":Number(M.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[d.jsx("option",{value:"",children:"Todos os fornecedores"}),i.map(M=>d.jsx("option",{value:M.id,children:M.name},M.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:" Nvel de Estoque"}),d.jsxs("select",{value:T,onChange:M=>A(M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[d.jsx("option",{value:"all",children:"Todos os nveis"}),d.jsx("option",{value:"low",children:" Estoque Baixo ( mnimo)"}),d.jsx("option",{value:"ok",children:" Estoque Normal (mnimo a 2x)"}),d.jsx("option",{value:"high",children:" Estoque Alto (> 2x mnimo)"})]})]})]}),d.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[d.jsx("span",{className:"font-medium",children:"Mostrando:"}),d.jsxs("span",{className:"bg-emerald-100 dark:bg-emerald-900 text-emerald-800 dark:text-emerald-200 px-2 py-1 rounded",children:[D.length," de ",t.length," produtos"]})]})]}),u&&d.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[d.jsx("strong",{children:"Erro:"})," ",u]}),d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 text-sm text-gray-500 dark:text-gray-400",children:[d.jsx("th",{className:"py-3 px-4 font-medium"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"Produto"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"SKU"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"Categoria"}),d.jsx("th",{className:"py-3 px-4 font-medium text-right",children:"Preo"}),d.jsx("th",{className:"py-3 px-4 font-medium text-right",children:"Estoque"}),d.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"Ajuste Rpido"}),d.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"Aes"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l?d.jsx("tr",{children:d.jsx("td",{colSpan:8,className:"text-center py-8",children:d.jsx("div",{className:"animate-pulse",children:"Carregando produtos..."})})}):D.map(M=>{const z=r.find(j=>j.id===M.categoryId),q=M.stock<M.minStock;return d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[d.jsx("td",{className:"py-3 px-4",children:d.jsx("img",{src:M.imageUrl,alt:M.name,className:"w-12 h-12 rounded-lg object-cover"})}),d.jsx("td",{className:"py-3 px-4 font-semibold text-gray-800 dark:text-gray-200",children:M.name}),d.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:M.sku}),d.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:z==null?void 0:z.name}),d.jsxs("td",{className:"py-3 px-4 text-right text-gray-600 dark:text-gray-400",children:["R$ ",M.price.toFixed(2)]}),d.jsxs("td",{className:`py-3 px-4 text-right font-bold ${q?"text-red-500":"text-green-500"}`,children:[M.stock,q&&d.jsx("span",{className:"text-xs ml-1",children:" (Baixo!)"})]}),d.jsx("td",{className:"py-3 px-4 text-center",children:d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("button",{onClick:()=>$e(M,-1),className:"w-8 h-8 flex items-center justify-center bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors",title:"Diminuir estoque",children:""}),d.jsx("button",{onClick:()=>$e(M,1),className:"w-8 h-8 flex items-center justify-center bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition-colors",title:"Aumentar estoque",children:"+"})]})}),d.jsxs("td",{className:"py-3 px-4 text-center",children:[d.jsx("button",{onClick:()=>se(M),className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:d.jsx(oi,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>xe(M.id),className:"p-2 text-gray-500 hover:text-red-500 transition-colors",children:d.jsx(li,{className:"w-5 h-5"})})]})]},M.id)})})]})}),d.jsx("div",{className:"md:hidden space-y-3",children:l?d.jsx("div",{className:"text-center py-8",children:d.jsx("div",{className:"animate-pulse",children:"Carregando produtos..."})}):D.map(M=>{const z=r.find(j=>j.id===M.categoryId),q=M.stock<M.minStock;return d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 text-base",children:M.name}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["SKU: ",M.sku,"  ",z==null?void 0:z.name]})]})}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Estoque:"}),d.jsxs("span",{className:`text-lg font-bold ${q?"text-red-500":"text-green-500"}`,children:[M.stock,q&&d.jsx("span",{className:"text-xs ml-1",children:"(Baixo!)"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>$e(M,-1),className:"w-9 h-9 flex items-center justify-center bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors text-lg",title:"Diminuir estoque",children:""}),d.jsx("button",{onClick:()=>$e(M,1),className:"w-9 h-9 flex items-center justify-center bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition-colors text-lg",title:"Aumentar estoque",children:"+"})]}),d.jsx("button",{onClick:()=>se(M),className:"w-9 h-9 flex items-center justify-center bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",title:"Editar produto",children:d.jsx(oi,{className:"w-5 h-5"})})]})]},M.id)})})]}),I&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[d.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200 flex items-center",children:" Configurar Impresso"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:" Formato de Impresso"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("button",{type:"button",onClick:()=>R({...C,format:"list"}),className:`p-4 rounded-lg border-2 transition-all ${C.format==="list"?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"border-gray-300 dark:border-gray-600 hover:border-emerald-300"}`,children:[d.jsx("div",{className:"font-bold mb-2",children:" Lista Tradicional"}),d.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Tabela completa com todas as informaes selecionadas"})]}),d.jsxs("button",{type:"button",onClick:()=>R({...C,format:"compact"}),className:`p-4 rounded-lg border-2 transition-all ${C.format==="compact"?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"border-gray-300 dark:border-gray-600 hover:border-emerald-300"}`,children:[d.jsx("div",{className:"font-bold mb-2",children:" Lista de Compras"}),d.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Formato compacto com checkbox para marcar. Economiza papel!"})]})]})]}),d.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 border-2 border-purple-200 dark:border-purple-800 rounded-lg p-4",children:d.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[d.jsx("input",{type:"checkbox",checked:C.groupByCategory,onChange:M=>R({...C,groupByCategory:M.target.checked}),className:"w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-semibold text-purple-900 dark:text-purple-200 flex items-center gap-2",children:" Agrupar Produtos por Categoria"}),d.jsx("div",{className:"text-xs text-purple-700 dark:text-purple-300 mt-1",children:"Separa os produtos em sees com cabealhos de categoria. Ideal para organizao!"})]}),d.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold transition-all ${C.groupByCategory?"bg-purple-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:C.groupByCategory?"ATIVADO":"DESATIVADO"})]})}),C.format==="compact"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:" Itens por Linha"}),d.jsx("div",{className:"grid grid-cols-6 gap-2",children:[1,2,3,4,5,6].map(M=>d.jsx("button",{type:"button",onClick:()=>R({...C,compactColumns:M}),className:`p-3 rounded-lg border-2 font-bold transition-all ${C.compactColumns===M?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300":"border-gray-300 dark:border-gray-600 hover:border-emerald-300"}`,children:M},M))}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[C.compactColumns===1&&" Uma coluna - Ideal para celular/mvel",C.compactColumns===2&&" Duas colunas - Padro recomendado",C.compactColumns===3&&" Trs colunas - Compacto",C.compactColumns===4&&" Quatro colunas - Muito compacto",C.compactColumns===5&&" Cinco colunas - Ultra compacto",C.compactColumns===6&&" Seis colunas - Mxima economia"]})]}),C.format==="list"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:" Colunas a Imprimir"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[d.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:C.columns.number,onChange:M=>R({...C,columns:{...C.columns,number:M.target.checked}}),className:"w-4 h-4 text-emerald-600 rounded"}),d.jsx("span",{className:"text-sm",children:"#"})]}),d.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:C.columns.name,onChange:M=>R({...C,columns:{...C.columns,name:M.target.checked}}),className:"w-4 h-4 text-emerald-600 rounded"}),d.jsx("span",{className:"text-sm",children:"Nome"})]}),d.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:C.columns.sku,onChange:M=>R({...C,columns:{...C.columns,sku:M.target.checked}}),className:"w-4 h-4 text-emerald-600 rounded"}),d.jsx("span",{className:"text-sm",children:"SKU"})]}),d.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:C.columns.category,onChange:M=>R({...C,columns:{...C.columns,category:M.target.checked}}),className:"w-4 h-4 text-emerald-600 rounded"}),d.jsx("span",{className:"text-sm",children:"Categoria"})]}),d.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:C.columns.supplier,onChange:M=>R({...C,columns:{...C.columns,supplier:M.target.checked}}),className:"w-4 h-4 text-emerald-600 rounded"}),d.jsx("span",{className:"text-sm",children:"Fornecedor"})]}),d.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:C.columns.price,onChange:M=>R({...C,columns:{...C.columns,price:M.target.checked}}),className:"w-4 h-4 text-emerald-600 rounded"}),d.jsx("span",{className:"text-sm",children:"Preo"})]}),d.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:C.columns.stock,onChange:M=>R({...C,columns:{...C.columns,stock:M.target.checked}}),className:"w-4 h-4 text-emerald-600 rounded"}),d.jsx("span",{className:"text-sm",children:"Estoque"})]}),d.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:C.columns.minStock,onChange:M=>R({...C,columns:{...C.columns,minStock:M.target.checked}}),className:"w-4 h-4 text-emerald-600 rounded"}),d.jsx("span",{className:"text-sm",children:"Mn."})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:" Filtrar por Categorias (opcional)"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-40 overflow-y-auto p-2 bg-gray-50 dark:bg-gray-700 rounded",children:r.map(M=>d.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-white dark:hover:bg-gray-600 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:C.filterByCategories.includes(M.id),onChange:z=>{z.target.checked?R({...C,filterByCategories:[...C.filterByCategories,M.id]}):R({...C,filterByCategories:C.filterByCategories.filter(q=>q!==M.id)})},className:"w-4 h-4 text-emerald-600 rounded"}),d.jsx("span",{className:"text-sm",children:M.name})]},M.id))}),C.filterByCategories.length>0&&d.jsx("button",{type:"button",onClick:()=>R({...C,filterByCategories:[]}),className:"mt-2 text-xs text-emerald-600 hover:text-emerald-700",children:" Limpar seleo"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:" Filtrar por Fornecedores (opcional)"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-40 overflow-y-auto p-2 bg-gray-50 dark:bg-gray-700 rounded",children:i.map(M=>d.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-white dark:hover:bg-gray-600 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:C.filterBySuppliers.includes(M.id),onChange:z=>{z.target.checked?R({...C,filterBySuppliers:[...C.filterBySuppliers,M.id]}):R({...C,filterBySuppliers:C.filterBySuppliers.filter(q=>q!==M.id)})},className:"w-4 h-4 text-emerald-600 rounded"}),d.jsx("span",{className:"text-sm",children:M.name})]},M.id))}),C.filterBySuppliers.length>0&&d.jsx("button",{type:"button",onClick:()=>R({...C,filterBySuppliers:[]}),className:"mt-2 text-xs text-emerald-600 hover:text-emerald-700",children:" Limpar seleo"})]}),d.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"font-semibold",children:" Produtos que sero impressos:"}),d.jsx("span",{className:"bg-emerald-600 text-white px-3 py-1 rounded-full font-bold",children:(()=>{let M=D.length;return C.filterByCategories.length>0&&(M=D.filter(z=>C.filterByCategories.includes(z.categoryId)).length),C.filterBySuppliers.length>0&&(M=(C.filterByCategories.length>0?D.filter(q=>C.filterByCategories.includes(q.categoryId)):D).filter(q=>C.filterBySuppliers.includes(q.supplierId)).length),M})()})]})})]}),d.jsxs("div",{className:"flex justify-end space-x-4 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[d.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-6 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancelar"}),d.jsx("button",{type:"button",onClick:L,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold",children:" Imprimir Agora"})]})]})}),g&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl w-full max-w-lg",children:[d.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:b?"Editar Produto":"Adicionar Novo Produto"}),d.jsxs("form",{onSubmit:bt,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome do Produto"}),d.jsx("input",{type:"text",name:"name",id:"name",value:$.name,onChange:le,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"SKU"}),d.jsx("input",{type:"text",name:"sku",id:"sku",value:$.sku,onChange:le,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-agray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"categoryId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Categoria"}),d.jsx("select",{name:"categoryId",id:"categoryId",value:$.categoryId,onChange:le,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:r.map(M=>d.jsx("option",{value:M.id,children:M.name},M.id))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"supplierId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fornecedor"}),d.jsx("select",{name:"supplierId",id:"supplierId",value:$.supplierId,onChange:le,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:i.map(M=>d.jsx("option",{value:M.id,children:M.name},M.id))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Preo (R$)"}),d.jsx("input",{type:"number",name:"price",id:"price",value:$.price,onChange:le,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500",step:"0.01"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Estoque"}),d.jsx("input",{type:"number",name:"stock",id:"stock",value:$.stock,onChange:le,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"minStock",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Estoque Mnimo"}),d.jsx("input",{type:"number",name:"minStock",id:"minStock",value:$.minStock,onChange:le,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"URL da Imagem"}),d.jsx("input",{type:"text",name:"imageUrl",id:"imageUrl",value:$.imageUrl,onChange:le,placeholder:"https://exemplo.com/imagem.jpg ou https://source.unsplash.com/400x400/?product",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"}),$.imageUrl&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Preview:"}),d.jsx("img",{src:$.imageUrl,alt:"Preview",className:"w-24 h-24 rounded-lg object-cover border border-gray-300 dark:border-gray-600",onError:M=>{M.target.style.display="none"}})]})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[d.jsx("button",{type:"button",onClick:te,className:"px-6 py-2 rounded-lg text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 font-semibold transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 font-semibold transition-colors",children:b?"Salvar Alteraes":"Salvar Produto"})]})]})]})})]})},gF=({currentUser:e})=>{const[t,n]=x.useState([]),[r,a]=x.useState([]),[i,o]=x.useState(!0),[l,s]=x.useState(!1),[u,c]=x.useState(""),[f,p]=x.useState(null);x.useEffect(()=>{(async()=>{o(!0);const[_,T]=await Promise.all([vo(),yo()]);n(_),a(T),o(!1)})()},[]);const g=()=>{c(""),p(null),s(!0)},y=w=>{p(w),c(w.name),s(!0)},b=()=>{s(!1),p(null),c("")},E=async w=>{if(w.preventDefault(),u.trim()){if(f){const _=await aO(f.id,{name:u.trim()});n(T=>T.map(A=>A.id===f.id?_:A))}else{const _=await rO({name:u.trim()});n(T=>[_,...T])}b()}},v=async w=>{window.confirm("Tem certeza que deseja excluir esta categoria?")&&(await iO(w),n(_=>_.filter(T=>T.id!==w)))},S=async(w,_)=>{try{const T=w.map(I=>({..._.importIds&&I.id?{id:parseInt(I.id)}:{},name:I.name||I.nome||I.categoria,description:I.description||I.descricao||""})),A=await xO(T,_);let N=` Importao concluda com sucesso!
`;N+=`${A.imported} categorias criadas`,A.updated&&A.updated>0&&(N+=`
${A.updated} categorias atualizadas`),A.errors&&A.errors.length>0&&(N+=`

 Avisos:
${A.errors.join(`
`)}`),alert(N);const k=await vo();n(k)}catch(T){throw new Error("Erro ao importar categorias: "+(T instanceof Error?T.message:"Erro desconhecido"))}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg max-w-2xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Categorias"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(D0,{onImport:S,userRole:e.role,fieldMappings:{id:"ID (opcional)",name:"Nome da Categoria",description:"Descrio"},sampleData:`id,name,description
1,Eletrnicos,Produtos eletrnicos e tecnologia
2,Alimentos,Produtos alimentcios`}),d.jsxs("button",{onClick:g,className:"flex items-center bg-emerald-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-emerald-600 transition-colors",children:[d.jsx(Es,{className:"w-5 h-5 mr-2"}),"Nova Categoria"]})]})]}),i?d.jsx("div",{className:"text-center py-8",children:"Carregando categorias..."}):d.jsx("ul",{className:"space-y-3",children:t.map(w=>{const _=r.filter(T=>T.categoryId===w.id).length;return d.jsxs("li",{className:"flex justify-between items-center p-4 rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:w.name}),d.jsxs("span",{className:"px-2 py-1 text-xs font-medium text-emerald-800 bg-emerald-100 rounded-full dark:bg-emerald-900 dark:text-emerald-200",children:[_," ",_===1?"produto":"produtos"]})]}),d.jsxs("div",{children:[d.jsx("button",{onClick:()=>y(w),className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:d.jsx(oi,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>v(w.id),className:"p-2 text-gray-500 hover:text-red-500 transition-colors",children:d.jsx(li,{className:"w-5 h-5"})})]})]},w.id)})})]}),l&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl w-full max-w-md",children:[d.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:f?"Editar Categoria":"Adicionar Nova Categoria"}),d.jsxs("form",{onSubmit:E,children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome da Categoria"}),d.jsx("input",{type:"text",name:"name",id:"name",value:u,onChange:w=>c(w.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[d.jsx("button",{type:"button",onClick:b,className:"px-6 py-2 rounded-lg text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 font-semibold transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 font-semibold transition-colors",children:"Salvar"})]})]})]})})]})},yF=({currentUser:e})=>{const[t,n]=x.useState([]),[r,a]=x.useState([]),[i,o]=x.useState(!0),[l,s]=x.useState(!1),[u,c]=x.useState(null),f={name:"",contactPerson:"",email:"",phone:""},[p,g]=x.useState(f);x.useEffect(()=>{(async()=>{o(!0);const[A,N]=await Promise.all([Jl(),yo()]);n(A),a(N),o(!1)})()},[]);const y=()=>{g(f),c(null),s(!0)},b=T=>{c(T),g({name:T.name,contactPerson:T.contactPerson,email:T.email,phone:T.phone}),s(!0)},E=()=>{s(!1),c(null),g(f)},v=T=>{const{name:A,value:N}=T.target;g(k=>({...k,[A]:N}))},S=async T=>{if(T.preventDefault(),u){const A=await lO(u.id,p);n(N=>N.map(k=>k.id===u.id?A:k))}else{const A=await oO(p);n(N=>[A,...N])}E()},w=async T=>{window.confirm("Tem certeza que deseja excluir este fornecedor?")&&(await sO(T),n(A=>A.filter(N=>N.id!==T)))},_=async(T,A)=>{try{const N=T.map(C=>({...A.importIds&&C.id?{id:parseInt(C.id)}:{},name:C.name||C.nome||C.fornecedor,contactPerson:C.contactPerson||C.contato||C.responsavel||"",email:C.email||"",phone:C.phone||C.telefone||C.fone||""})),k=await bO(N,A);let I=` Importao concluda com sucesso!
`;I+=`${k.imported} fornecedores criados`,k.updated&&k.updated>0&&(I+=`
${k.updated} fornecedores atualizados`),k.errors&&k.errors.length>0&&(I+=`

 Avisos:
${k.errors.join(`
`)}`),alert(I);const O=await Jl();n(O)}catch(N){throw new Error("Erro ao importar fornecedores: "+(N instanceof Error?N.message:"Erro desconhecido"))}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Fornecedores"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(D0,{onImport:_,userRole:e.role,fieldMappings:{id:"ID (opcional)",name:"Nome do Fornecedor",contactPerson:"Pessoa de Contato",email:"E-mail",phone:"Telefone"},sampleData:`id,name,contactPerson,email,phone
1,Fornecedor ABC Ltda,Joo Silva,joao@abc.com,11999999999
2,Distribuidora XYZ,Maria Santos,maria@xyz.com,11988888888`}),d.jsxs("button",{onClick:y,className:"flex items-center bg-emerald-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-emerald-600 transition-colors",children:[d.jsx(Es,{className:"w-5 h-5 mr-2"}),"Novo Fornecedor"]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 text-sm text-gray-500 dark:text-gray-400",children:[d.jsx("th",{className:"py-3 px-4 font-medium",children:"Nome"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"Contato"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"Email"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"Telefone"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"Produtos"}),d.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"Aes"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"text-center py-8",children:"Carregando fornecedores..."})}):t.map(T=>{const A=r.filter(N=>N.supplierId===T.id).length;return d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[d.jsx("td",{className:"py-3 px-4 font-semibold text-gray-800 dark:text-gray-200",children:T.name}),d.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:T.contactPerson}),d.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:T.email}),d.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:T.phone}),d.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:d.jsxs("span",{className:"px-2 py-1 text-xs font-medium text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-200",children:[A," ",A===1?"produto":"produtos"]})}),d.jsxs("td",{className:"py-3 px-4 text-center",children:[d.jsx("button",{onClick:()=>b(T),className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:d.jsx(oi,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>w(T.id),className:"p-2 text-gray-500 hover:text-red-500 transition-colors",children:d.jsx(li,{className:"w-5 h-5"})})]})]},T.id)})})]})})]}),l&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl w-full max-w-md",children:[d.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:u?"Editar Fornecedor":"Adicionar Novo Fornecedor"}),d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome"}),d.jsx("input",{type:"text",name:"name",id:"name",value:p.name,onChange:v,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"contactPerson",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pessoa de Contato"}),d.jsx("input",{type:"text",name:"contactPerson",id:"contactPerson",value:p.contactPerson,onChange:v,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",id:"email",value:p.email,onChange:v,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefone"}),d.jsx("input",{type:"tel",name:"phone",id:"phone",value:p.phone,onChange:v,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[d.jsx("button",{type:"button",onClick:E,className:"px-6 py-2 rounded-lg text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 font-semibold transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 font-semibold transition-colors",children:"Salvar"})]})]})]})})]})},vF={[ge.SuperAdmin]:"bg-red-200 text-red-800 dark:bg-red-800 dark:text-red-200",[ge.Admin]:"bg-purple-200 text-purple-800 dark:bg-purple-800 dark:text-purple-200",[ge.Manager]:"bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-200",[ge.Employee]:"bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-200"},xF=({currentUser:e})=>{const[t,n]=x.useState([]),[r,a]=x.useState([]),[i,o]=x.useState(!0),[l,s]=x.useState(!1),[u,c]=x.useState(null),f={name:"",email:"",password:"",role:ge.Employee,companyId:e.companyId,avatar:""},[p,g]=x.useState(f);x.useEffect(()=>{(async()=>{o(!0);const[T,A]=await Promise.all([HT(),Ss()]);n(T),a(A),o(!1)})()},[]);const y=()=>{g(f),c(null),s(!0)},b=_=>{c(_),g({name:_.name,email:_.email,password:"",role:_.role,companyId:_.companyId,avatar:_.avatar||""}),s(!0)},E=()=>{s(!1),c(null),g(f)},v=_=>{const{name:T,value:A}=_.target,N=T==="companyId"?parseInt(A):A;g(k=>({...k,[T]:N}))},S=async _=>{if(_.preventDefault(),u){const T={...p};(!T.password||T.password.trim()==="")&&delete T.password;const A=await cO(u.id,T);n(N=>N.map(k=>k.id===u.id?A:k))}else{const T=await uO(p);n(A=>[T,...A])}E()},w=async _=>{if(e.id===_){alert("Voc no pode excluir a si mesmo.");return}window.confirm("Tem certeza que deseja excluir este usurio?")&&(await dO(_),n(T=>T.filter(A=>A.id!==_)))};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Usurios"}),d.jsxs("button",{onClick:y,className:"flex items-center bg-emerald-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-emerald-600 transition-colors",children:[d.jsx(Es,{className:"w-5 h-5 mr-2"}),"Novo Usurio"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 text-sm text-gray-500 dark:text-gray-400",children:[d.jsx("th",{className:"py-3 px-4 font-medium",children:"Usurio"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"Email"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"Empresa"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"Nvel"}),d.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"Aes"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i?d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"text-center py-8",children:"Carregando usurios..."})}):t.map(_=>{var T;return d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[d.jsx("td",{className:"py-3 px-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:_.avatar,alt:_.name,className:"w-10 h-10 rounded-full object-cover"}),d.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:_.name})]})}),d.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:_.email}),d.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:((T=r.find(A=>A.id===_.companyId))==null?void 0:T.name)||"N/A"}),d.jsx("td",{className:"py-3 px-4",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${vF[_.role]}`,children:_.role})}),d.jsxs("td",{className:"py-3 px-4 text-center",children:[d.jsx("button",{onClick:()=>b(_),className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:d.jsx(oi,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>w(_.id),className:"p-2 text-gray-500 hover:text-red-500 transition-colors",children:d.jsx(li,{className:"w-5 h-5"})})]})]},_.id)})})]})})]}),l&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 transition-opacity duration-300",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl w-full max-w-md transform transition-all duration-300 scale-100",children:[d.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:u?"Editar Usurio":"Adicionar Novo Usurio"}),d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome"}),d.jsx("input",{type:"text",name:"name",id:"name",value:p.name,onChange:v,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),d.jsx("input",{type:"email",name:"email",id:"email",value:p.email,onChange:v,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Senha ",u&&d.jsx("span",{className:"text-xs text-gray-500",children:"(deixe vazio para no alterar)"})]}),d.jsx("input",{type:"password",name:"password",id:"password",value:p.password,onChange:v,required:!u,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"avatar",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Avatar (URL da imagem)"}),d.jsx("input",{type:"url",name:"avatar",id:"avatar",value:p.avatar,onChange:v,placeholder:"https://exemplo.com/avatar.jpg",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"}),p.avatar&&d.jsxs("div",{className:"mt-2 flex items-center space-x-3",children:[d.jsx("img",{src:p.avatar,alt:"Preview",className:"w-12 h-12 rounded-full object-cover border-2 border-gray-300 dark:border-gray-600",onError:_=>{_.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(p.name||"User")+"&background=10b981&color=fff"}}),d.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Preview do avatar"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nvel de Acesso"}),d.jsxs("select",{name:"role",id:"role",value:p.role,onChange:v,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[d.jsx("option",{value:ge.Employee,children:"Employee"}),d.jsx("option",{value:ge.Manager,children:"Manager"}),d.jsx("option",{value:ge.Admin,children:"Admin"}),e.role===ge.SuperAdmin&&d.jsx("option",{value:ge.SuperAdmin,children:"Super Admin"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"companyId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Empresa"}),d.jsx("select",{name:"companyId",id:"companyId",value:p.companyId,onChange:v,required:!0,disabled:e.role!==ge.SuperAdmin,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:r.map(_=>d.jsx("option",{value:_.id,children:_.name},_.id))})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[d.jsx("button",{type:"button",onClick:E,className:"px-6 py-2 rounded-lg text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 font-semibold transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 font-semibold transition-colors",children:"Salvar"})]})]})]})})]})},bF={[tr.In]:{color:"text-emerald-500",icon:YT},[tr.Out]:{color:"text-rose-500",icon:KT},[tr.Adjustment]:{color:"text-amber-500",icon:FT}},SF=({currentUser:e})=>{const[t,n]=x.useState([]),[r,a]=x.useState(!0);return x.useEffect(()=>{(async()=>{a(!0);try{const o=await VT();n(o)}catch(o){console.error("Erro ao carregar movimentaes:",o)}finally{a(!1)}})()},[]),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:[d.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:"Histrico de Movimentaes"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 text-sm text-gray-500 dark:text-gray-400",children:[d.jsx("th",{className:"py-3 px-4 font-medium",children:"Data"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"Produto"}),d.jsx("th",{className:"py-3 px-4 font-medium text-center",children:"Tipo"}),d.jsx("th",{className:"py-3 px-4 font-medium text-right",children:"Quantidade"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"Motivo"}),d.jsx("th",{className:"py-3 px-4 font-medium",children:"Usurio"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"text-center py-8",children:d.jsx("div",{className:"animate-pulse",children:"Carregando movimentaes..."})})}):t.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-500",children:"Nenhuma movimentao registrada"})}):t.sort((i,o)=>new Date(o.date).getTime()-new Date(i.date).getTime()).map(i=>{const o=bF[i.type],l=o.icon;return d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[d.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:new Date(i.date).toLocaleString()}),d.jsx("td",{className:"py-3 px-4 font-semibold text-gray-800 dark:text-gray-200",children:i.productName||"Produto no encontrado"}),d.jsx("td",{className:`py-3 px-4 text-center font-semibold ${o.color}`,children:d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx(l,{className:"w-5 h-5"}),d.jsx("span",{children:i.type})]})}),d.jsx("td",{className:`py-3 px-4 text-right font-bold ${o.color}`,children:i.quantity}),d.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:i.reason}),d.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:i.userName||"Sistema"})]},i.id)})})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let EF,wF;function _F(){return{geminiUrl:EF,vertexUrl:wF}}function TF(e,t,n,r){var a,i;if(!(e!=null&&e.baseUrl)){const o=_F();return t?(a=o.vertexUrl)!==null&&a!==void 0?a:n:(i=o.geminiUrl)!==null&&i!==void 0?i:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kr{}function Y(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const i=t[a];return i!=null?String(i):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function h(e,t,n){for(let i=0;i<t.length-1;i++){const o=t[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in e))if(Array.isArray(n))e[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(e[l])){const s=e[l];if(Array.isArray(n))for(let u=0;u<s.length;u++){const c=s[u];h(c,t.slice(i+1),n[u])}else for(const u of s)h(u,t.slice(i+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in e||(e[l]=[{}]);const s=e[l];h(s[0],t.slice(i+1),n);return}(!e[o]||typeof e[o]!="object")&&(e[o]={}),e=e[o]}const r=t[t.length-1],a=e[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function m(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const a=t[r];if(a.endsWith("[]")){const i=a.slice(0,-2);if(i in e){const o=e[i];return Array.isArray(o)?o.map(l=>m(l,t.slice(r+1),n)):n}else return n}else e=e[a]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function CF(e,t){for(const[n,r]of Object.entries(t)){const a=n.split("."),i=r.split("."),o=new Set;let l=-1;for(let s=0;s<a.length;s++)if(a[s]==="*"){l=s;break}if(l!==-1&&i.length>l)for(let s=l;s<i.length;s++){const u=i[s];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}jh(e,a,i,0,o)}}function jh(e,t,n,r,a){if(r>=t.length||typeof e!="object"||e===null)return;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2),l=e;if(o in l&&Array.isArray(l[o]))for(const s of l[o])jh(s,t,n,r+1,a)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const o=e,l=Object.keys(o).filter(u=>!u.startsWith("_")&&!a.has(u)),s={};for(const u of l)s[u]=o[u];for(const[u,c]of Object.entries(s)){const f=[];for(const p of n.slice(r))p==="*"?f.push(u):f.push(p);h(o,f,c)}for(const u of l)delete o[u]}}else{const o=e;i in o&&jh(o[i],t,n,r+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O0(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AF(e){const t={},n=m(e,["operationName"]);n!=null&&h(t,["operationName"],n);const r=m(e,["resourceName"]);return r!=null&&h(t,["_url","resourceName"],r),t}function NF(e){const t={},n=m(e,["name"]);n!=null&&h(t,["name"],n);const r=m(e,["metadata"]);r!=null&&h(t,["metadata"],r);const a=m(e,["done"]);a!=null&&h(t,["done"],a);const i=m(e,["error"]);i!=null&&h(t,["error"],i);const o=m(e,["response","generateVideoResponse"]);return o!=null&&h(t,["response"],MF(o)),t}function kF(e){const t={},n=m(e,["name"]);n!=null&&h(t,["name"],n);const r=m(e,["metadata"]);r!=null&&h(t,["metadata"],r);const a=m(e,["done"]);a!=null&&h(t,["done"],a);const i=m(e,["error"]);i!=null&&h(t,["error"],i);const o=m(e,["response"]);return o!=null&&h(t,["response"],PF(o)),t}function MF(e){const t={},n=m(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>IF(o))),h(t,["generatedVideos"],i)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&h(t,["raiMediaFilteredCount"],r);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&h(t,["raiMediaFilteredReasons"],a),t}function PF(e){const t={},n=m(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>DF(o))),h(t,["generatedVideos"],i)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&h(t,["raiMediaFilteredCount"],r);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&h(t,["raiMediaFilteredReasons"],a),t}function IF(e){const t={},n=m(e,["video"]);return n!=null&&h(t,["video"],zF(n)),t}function DF(e){const t={},n=m(e,["_self"]);return n!=null&&h(t,["video"],BF(n)),t}function OF(e){const t={},n=m(e,["operationName"]);return n!=null&&h(t,["_url","operationName"],n),t}function RF(e){const t={},n=m(e,["operationName"]);return n!=null&&h(t,["_url","operationName"],n),t}function jF(e){const t={},n=m(e,["name"]);n!=null&&h(t,["name"],n);const r=m(e,["metadata"]);r!=null&&h(t,["metadata"],r);const a=m(e,["done"]);a!=null&&h(t,["done"],a);const i=m(e,["error"]);i!=null&&h(t,["error"],i);const o=m(e,["response"]);return o!=null&&h(t,["response"],LF(o)),t}function LF(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["parent"]);r!=null&&h(t,["parent"],r);const a=m(e,["documentName"]);return a!=null&&h(t,["documentName"],a),t}function TM(e){const t={},n=m(e,["name"]);n!=null&&h(t,["name"],n);const r=m(e,["metadata"]);r!=null&&h(t,["metadata"],r);const a=m(e,["done"]);a!=null&&h(t,["done"],a);const i=m(e,["error"]);i!=null&&h(t,["error"],i);const o=m(e,["response"]);return o!=null&&h(t,["response"],UF(o)),t}function UF(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["parent"]);r!=null&&h(t,["parent"],r);const a=m(e,["documentName"]);return a!=null&&h(t,["documentName"],a),t}function zF(e){const t={},n=m(e,["uri"]);n!=null&&h(t,["uri"],n);const r=m(e,["encodedVideo"]);r!=null&&h(t,["videoBytes"],O0(r));const a=m(e,["encoding"]);return a!=null&&h(t,["mimeType"],a),t}function BF(e){const t={},n=m(e,["gcsUri"]);n!=null&&h(t,["uri"],n);const r=m(e,["bytesBase64Encoded"]);r!=null&&h(t,["videoBytes"],O0(r));const a=m(e,["mimeType"]);return a!=null&&h(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pE;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(pE||(pE={}));var hE;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(hE||(hE={}));var gE;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(gE||(gE={}));var Mt;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Mt||(Mt={}));var yE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(yE||(yE={}));var vE;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(vE||(vE={}));var xE;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(xE||(xE={}));var bE;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(bE||(bE={}));var SE;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(SE||(SE={}));var EE;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(EE||(EE={}));var wE;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(wE||(wE={}));var _E;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(_E||(_E={}));var TE;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(TE||(TE={}));var CE;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(CE||(CE={}));var AE;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(AE||(AE={}));var NE;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(NE||(NE={}));var kE;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(kE||(kE={}));var ME;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ME||(ME={}));var od;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(od||(od={}));var PE;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(PE||(PE={}));var IE;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(IE||(IE={}));var DE;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(DE||(DE={}));var Lh;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Lh||(Lh={}));var OE;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(OE||(OE={}));var RE;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(RE||(RE={}));var jE;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(jE||(jE={}));var LE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(LE||(LE={}));var UE;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(UE||(UE={}));var zE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(zE||(zE={}));var BE;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(BE||(BE={}));var qE;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(qE||(qE={}));var HE;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(HE||(HE={}));var VE;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(VE||(VE={}));var $E;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($E||($E={}));var GE;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(GE||(GE={}));var FE;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(FE||(FE={}));var YE;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(YE||(YE={}));var KE;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(KE||(KE={}));var JE;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(JE||(JE={}));var XE;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(XE||(XE={}));var WE;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(WE||(WE={}));var ZE;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(ZE||(ZE={}));var QE;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(QE||(QE={}));var ew;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(ew||(ew={}));var tw;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(tw||(tw={}));var nw;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(nw||(nw={}));var rw;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(rw||(rw={}));var aw;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(aw||(aw={}));var iw;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(iw||(iw={}));var ow;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ow||(ow={}));var lw;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lw||(lw={}));var sw;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(sw||(sw={}));var Fi;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Fi||(Fi={}));class Uh{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class dl{get text(){var t,n,r,a,i,o,l,s;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const p of(s=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&s!==void 0?s:[]){for(const[g,y]of Object.entries(p))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(y!==null||y!==void 0)&&f.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,u+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var t,n,r,a,i,o,l,s;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(s=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&s!==void 0?s:[]){for(const[p,g]of Object.entries(f))p!=="inlineData"&&(g!==null||g!==void 0)&&c.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,r,a,i,o,l,s;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(s=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,r,a,i,o,l,s,u;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(s=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,r,a,i,o,l,s,u;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(s=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class uw{}class cw{}class qF{}class HF{}class VF{}class $F{}class dw{}class fw{}class mw{}class GF{}class ld{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new ld;let a;const i=t;return n?a=kF(i):a=NF(i),Object.assign(r,a),r}}class pw{}class hw{}class gw{}class FF{}class YF{}class KF{}class R0{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new R0,i=jF(t);return Object.assign(r,i),r}}class JF{}class XF{}class WF{}class yw{}class ZF{get text(){var t,n,r;let a="",i=!1;const o=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,u]of Object.entries(l))s!=="text"&&s!=="thought"&&u!==null&&o.push(s);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;i=!0,a+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?a:void 0}get data(){var t,n,r;let a="";const i=[];for(const o of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,s]of Object.entries(o))l!=="inlineData"&&s!==null&&i.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(a+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class QF{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class j0{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new j0,i=TM(t);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ve(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function CM(e,t){const n=ve(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function AM(e){return Array.isArray(e)?e.map(t=>sd(t)):[sd(e)]}function sd(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function NM(e){const t=sd(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function kM(e){const t=sd(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function vw(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function MM(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>vw(t)):[vw(e)]}function zh(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function xw(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function bw(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function It(e){if(e==null)throw new Error("ContentUnion is required");return zh(e)?e:{role:"user",parts:MM(e)}}function L0(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=It(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=It(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>It(n)):[It(t)]}function Mn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(xw(e)||bw(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[It(e)]}const t=[],n=[],r=zh(e[0]);for(const a of e){const i=zh(a);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(a);else{if(xw(a)||bw(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return r||t.push({role:"user",parts:MM(n)}),t}function e9(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Mt).includes(n[0].toUpperCase())?n[0].toUpperCase():Mt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Mt).includes(r.toUpperCase())?r.toUpperCase():Mt.TYPE_UNSPECIFIED})}}function no(e){const t={},n=["items"],r=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&e9(e.type,t);for(const[o,l]of Object.entries(e))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;t.type=Object.values(Mt).includes(l.toUpperCase())?l.toUpperCase():Mt.TYPE_UNSPECIFIED}else if(n.includes(o))t[o]=no(l);else if(r.includes(o)){const s=[];for(const u of l){if(u.type=="null"){t.nullable=!0;continue}s.push(no(u))}t[o]=s}else if(a.includes(o)){const s={};for(const[u,c]of Object.entries(l))s[u]=no(c);t[o]=s}else{if(o==="additionalProperties")continue;t[o]=l}return t}function U0(e){return no(e)}function z0(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function B0(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Fo(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=no(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=no(t.response));return e}function Yo(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function t9(e,t,n,r=1){const a=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:a?`${n}/${t}`:t}function Jr(e,t){if(typeof t!="string")throw new Error("name must be a string");return t9(e,t,"cachedContents")}function PM(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Da(e){return O0(e)}function n9(e){return e!=null&&typeof e=="object"&&"name"in e}function r9(e){return e!=null&&typeof e=="object"&&"video"in e}function a9(e){return e!=null&&typeof e=="object"&&"uri"in e}function IM(e){var t;let n;if(n9(e)&&(n=e.name),!(a9(e)&&(n=e.uri,n===void 0))&&!(r9(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function DM(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function OM(e){for(const t of["models","tunedModels","publisherModels"])if(i9(e,t))return e[t];return[]}function i9(e,t){return e!==null&&typeof e=="object"&&t in e}function o9(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function l9(e,t={}){const n=[],r=new Set;for(const a of e){const i=a.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const o=o9(a,t);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function RM(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function s9(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function jM(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let i=!1;for(const o of a){if(typeof o!="object"||o===null)continue;const s=o.response;if(typeof s!="object"||s===null)continue;if(s.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ko(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function LM(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u9(e){const t={},n=m(e,["responsesFile"]);n!=null&&h(t,["fileName"],n);const r=m(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>B9(o))),h(t,["inlinedResponses"],i)}const a=m(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),h(t,["inlinedEmbedContentResponses"],i)}return t}function c9(e){const t={},n=m(e,["predictionsFormat"]);n!=null&&h(t,["format"],n);const r=m(e,["gcsDestination","outputUriPrefix"]);r!=null&&h(t,["gcsUri"],r);const a=m(e,["bigqueryDestination","outputUri"]);return a!=null&&h(t,["bigqueryUri"],a),t}function d9(e){const t={},n=m(e,["format"]);n!=null&&h(t,["predictionsFormat"],n);const r=m(e,["gcsUri"]);r!=null&&h(t,["gcsDestination","outputUriPrefix"],r);const a=m(e,["bigqueryUri"]);if(a!=null&&h(t,["bigqueryDestination","outputUri"],a),m(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function zu(e){const t={},n=m(e,["name"]);n!=null&&h(t,["name"],n);const r=m(e,["metadata","displayName"]);r!=null&&h(t,["displayName"],r);const a=m(e,["metadata","state"]);a!=null&&h(t,["state"],LM(a));const i=m(e,["metadata","createTime"]);i!=null&&h(t,["createTime"],i);const o=m(e,["metadata","endTime"]);o!=null&&h(t,["endTime"],o);const l=m(e,["metadata","updateTime"]);l!=null&&h(t,["updateTime"],l);const s=m(e,["metadata","model"]);s!=null&&h(t,["model"],s);const u=m(e,["metadata","output"]);return u!=null&&h(t,["dest"],u9(jM(u))),t}function Bh(e){const t={},n=m(e,["name"]);n!=null&&h(t,["name"],n);const r=m(e,["displayName"]);r!=null&&h(t,["displayName"],r);const a=m(e,["state"]);a!=null&&h(t,["state"],LM(a));const i=m(e,["error"]);i!=null&&h(t,["error"],i);const o=m(e,["createTime"]);o!=null&&h(t,["createTime"],o);const l=m(e,["startTime"]);l!=null&&h(t,["startTime"],l);const s=m(e,["endTime"]);s!=null&&h(t,["endTime"],s);const u=m(e,["updateTime"]);u!=null&&h(t,["updateTime"],u);const c=m(e,["model"]);c!=null&&h(t,["model"],c);const f=m(e,["inputConfig"]);f!=null&&h(t,["src"],f9(f));const p=m(e,["outputConfig"]);p!=null&&h(t,["dest"],c9(jM(p)));const g=m(e,["completionStats"]);return g!=null&&h(t,["completionStats"],g),t}function f9(e){const t={},n=m(e,["instancesFormat"]);n!=null&&h(t,["format"],n);const r=m(e,["gcsSource","uris"]);r!=null&&h(t,["gcsUri"],r);const a=m(e,["bigquerySource","inputUri"]);return a!=null&&h(t,["bigqueryUri"],a),t}function m9(e,t){const n={};if(m(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(t,["fileName"]);r!=null&&h(n,["fileName"],r);const a=m(t,["inlinedRequests"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>z9(e,o))),h(n,["requests","requests"],i)}return n}function p9(e){const t={},n=m(e,["format"]);n!=null&&h(t,["instancesFormat"],n);const r=m(e,["gcsUri"]);r!=null&&h(t,["gcsSource","uris"],r);const a=m(e,["bigqueryUri"]);if(a!=null&&h(t,["bigquerySource","inputUri"],a),m(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function h9(e){const t={},n=m(e,["data"]);if(n!=null&&h(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function g9(e,t){const n={},r=m(t,["name"]);return r!=null&&h(n,["_url","name"],Ko(e,r)),n}function y9(e,t){const n={},r=m(t,["name"]);return r!=null&&h(n,["_url","name"],Ko(e,r)),n}function v9(e){const t={},n=m(e,["content"]);n!=null&&h(t,["content"],n);const r=m(e,["citationMetadata"]);r!=null&&h(t,["citationMetadata"],x9(r));const a=m(e,["tokenCount"]);a!=null&&h(t,["tokenCount"],a);const i=m(e,["finishReason"]);i!=null&&h(t,["finishReason"],i);const o=m(e,["avgLogprobs"]);o!=null&&h(t,["avgLogprobs"],o);const l=m(e,["groundingMetadata"]);l!=null&&h(t,["groundingMetadata"],l);const s=m(e,["index"]);s!=null&&h(t,["index"],s);const u=m(e,["logprobsResult"]);u!=null&&h(t,["logprobsResult"],u);const c=m(e,["safetyRatings"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>g)),h(t,["safetyRatings"],p)}const f=m(e,["urlContextMetadata"]);return f!=null&&h(t,["urlContextMetadata"],f),t}function x9(e){const t={},n=m(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),h(t,["citations"],r)}return t}function UM(e){const t={},n=m(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>Y9(i))),h(t,["parts"],a)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function b9(e,t){const n={},r=m(e,["displayName"]);if(t!==void 0&&r!=null&&h(t,["batch","displayName"],r),m(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function S9(e,t){const n={},r=m(e,["displayName"]);t!==void 0&&r!=null&&h(t,["displayName"],r);const a=m(e,["dest"]);return t!==void 0&&a!=null&&h(t,["outputConfig"],d9(s9(a))),n}function Sw(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["src"]);a!=null&&h(n,["batch","inputConfig"],m9(e,RM(e,a)));const i=m(t,["config"]);return i!=null&&b9(i,n),n}function E9(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["model"],ve(e,r));const a=m(t,["src"]);a!=null&&h(n,["inputConfig"],p9(RM(e,a)));const i=m(t,["config"]);return i!=null&&S9(i,n),n}function w9(e,t){const n={},r=m(e,["displayName"]);return t!==void 0&&r!=null&&h(t,["batch","displayName"],r),n}function _9(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["src"]);a!=null&&h(n,["batch","inputConfig"],P9(e,a));const i=m(t,["config"]);return i!=null&&w9(i,n),n}function T9(e,t){const n={},r=m(t,["name"]);return r!=null&&h(n,["_url","name"],Ko(e,r)),n}function C9(e,t){const n={},r=m(t,["name"]);return r!=null&&h(n,["_url","name"],Ko(e,r)),n}function A9(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["name"]);r!=null&&h(t,["name"],r);const a=m(e,["done"]);a!=null&&h(t,["done"],a);const i=m(e,["error"]);return i!=null&&h(t,["error"],i),t}function N9(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["name"]);r!=null&&h(t,["name"],r);const a=m(e,["done"]);a!=null&&h(t,["done"],a);const i=m(e,["error"]);return i!=null&&h(t,["error"],i),t}function k9(e,t){const n={},r=m(t,["contents"]);if(r!=null){let i=L0(e,r);Array.isArray(i)&&(i=i.map(o=>o)),h(n,["requests[]","request","content"],i)}const a=m(t,["config"]);return a!=null&&(h(n,["_self"],M9(a,n)),CF(n,{"requests[].*":"requests[].request.*"})),n}function M9(e,t){const n={},r=m(e,["taskType"]);t!==void 0&&r!=null&&h(t,["requests[]","taskType"],r);const a=m(e,["title"]);t!==void 0&&a!=null&&h(t,["requests[]","title"],a);const i=m(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&h(t,["requests[]","outputDimensionality"],i),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function P9(e,t){const n={},r=m(t,["fileName"]);r!=null&&h(n,["file_name"],r);const a=m(t,["inlinedRequests"]);return a!=null&&h(n,["requests"],k9(e,a)),n}function I9(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&h(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function D9(e,t,n){const r={},a=m(t,["systemInstruction"]);n!==void 0&&a!=null&&h(n,["systemInstruction"],UM(It(a)));const i=m(t,["temperature"]);i!=null&&h(r,["temperature"],i);const o=m(t,["topP"]);o!=null&&h(r,["topP"],o);const l=m(t,["topK"]);l!=null&&h(r,["topK"],l);const s=m(t,["candidateCount"]);s!=null&&h(r,["candidateCount"],s);const u=m(t,["maxOutputTokens"]);u!=null&&h(r,["maxOutputTokens"],u);const c=m(t,["stopSequences"]);c!=null&&h(r,["stopSequences"],c);const f=m(t,["responseLogprobs"]);f!=null&&h(r,["responseLogprobs"],f);const p=m(t,["logprobs"]);p!=null&&h(r,["logprobs"],p);const g=m(t,["presencePenalty"]);g!=null&&h(r,["presencePenalty"],g);const y=m(t,["frequencyPenalty"]);y!=null&&h(r,["frequencyPenalty"],y);const b=m(t,["seed"]);b!=null&&h(r,["seed"],b);const E=m(t,["responseMimeType"]);E!=null&&h(r,["responseMimeType"],E);const v=m(t,["responseSchema"]);v!=null&&h(r,["responseSchema"],U0(v));const S=m(t,["responseJsonSchema"]);if(S!=null&&h(r,["responseJsonSchema"],S),m(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=m(t,["safetySettings"]);if(n!==void 0&&w!=null){let R=w;Array.isArray(R)&&(R=R.map(G=>K9(G))),h(n,["safetySettings"],R)}const _=m(t,["tools"]);if(n!==void 0&&_!=null){let R=Yo(_);Array.isArray(R)&&(R=R.map(G=>J9(Fo(G)))),h(n,["tools"],R)}const T=m(t,["toolConfig"]);if(n!==void 0&&T!=null&&h(n,["toolConfig"],T),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=m(t,["cachedContent"]);n!==void 0&&A!=null&&h(n,["cachedContent"],Jr(e,A));const N=m(t,["responseModalities"]);N!=null&&h(r,["responseModalities"],N);const k=m(t,["mediaResolution"]);k!=null&&h(r,["mediaResolution"],k);const I=m(t,["speechConfig"]);if(I!=null&&h(r,["speechConfig"],z0(I)),m(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=m(t,["thinkingConfig"]);O!=null&&h(r,["thinkingConfig"],O);const C=m(t,["imageConfig"]);return C!=null&&h(r,["imageConfig"],C),r}function O9(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["candidates"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>v9(u))),h(t,["candidates"],s)}const a=m(e,["modelVersion"]);a!=null&&h(t,["modelVersion"],a);const i=m(e,["promptFeedback"]);i!=null&&h(t,["promptFeedback"],i);const o=m(e,["responseId"]);o!=null&&h(t,["responseId"],o);const l=m(e,["usageMetadata"]);return l!=null&&h(t,["usageMetadata"],l),t}function R9(e,t){const n={},r=m(t,["name"]);return r!=null&&h(n,["_url","name"],Ko(e,r)),n}function j9(e,t){const n={},r=m(t,["name"]);return r!=null&&h(n,["_url","name"],Ko(e,r)),n}function L9(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&h(t,["enableWidget"],n),t}function U9(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&h(t,["timeRangeFilter"],n),t}function z9(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["request","model"],ve(e,r));const a=m(t,["contents"]);if(a!=null){let l=Mn(a);Array.isArray(l)&&(l=l.map(s=>UM(s))),h(n,["request","contents"],l)}const i=m(t,["metadata"]);i!=null&&h(n,["metadata"],i);const o=m(t,["config"]);return o!=null&&h(n,["request","generationConfig"],D9(e,o,m(n,["request"],{}))),n}function B9(e){const t={},n=m(e,["response"]);n!=null&&h(t,["response"],O9(n));const r=m(e,["error"]);return r!=null&&h(t,["error"],r),t}function q9(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const a=m(e,["pageToken"]);if(t!==void 0&&a!=null&&h(t,["_query","pageToken"],a),m(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function H9(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const a=m(e,["pageToken"]);t!==void 0&&a!=null&&h(t,["_query","pageToken"],a);const i=m(e,["filter"]);return t!==void 0&&i!=null&&h(t,["_query","filter"],i),n}function V9(e){const t={},n=m(e,["config"]);return n!=null&&q9(n,t),t}function $9(e){const t={},n=m(e,["config"]);return n!=null&&H9(n,t),t}function G9(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const a=m(e,["operations"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>zu(o))),h(t,["batchJobs"],i)}return t}function F9(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const a=m(e,["batchPredictionJobs"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>Bh(o))),h(t,["batchJobs"],i)}return t}function Y9(e){const t={},n=m(e,["functionCall"]);n!=null&&h(t,["functionCall"],n);const r=m(e,["codeExecutionResult"]);r!=null&&h(t,["codeExecutionResult"],r);const a=m(e,["executableCode"]);a!=null&&h(t,["executableCode"],a);const i=m(e,["fileData"]);i!=null&&h(t,["fileData"],I9(i));const o=m(e,["functionResponse"]);o!=null&&h(t,["functionResponse"],o);const l=m(e,["inlineData"]);l!=null&&h(t,["inlineData"],h9(l));const s=m(e,["text"]);s!=null&&h(t,["text"],s);const u=m(e,["thought"]);u!=null&&h(t,["thought"],u);const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const f=m(e,["videoMetadata"]);return f!=null&&h(t,["videoMetadata"],f),t}function K9(e){const t={},n=m(e,["category"]);if(n!=null&&h(t,["category"],n),m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(e,["threshold"]);return r!=null&&h(t,["threshold"],r),t}function J9(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),h(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearchRetrieval"]);r!=null&&h(t,["googleSearchRetrieval"],r);const a=m(e,["computerUse"]);a!=null&&h(t,["computerUse"],a);const i=m(e,["fileSearch"]);i!=null&&h(t,["fileSearch"],i);const o=m(e,["codeExecution"]);if(o!=null&&h(t,["codeExecution"],o),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=m(e,["googleMaps"]);l!=null&&h(t,["googleMaps"],L9(l));const s=m(e,["googleSearch"]);s!=null&&h(t,["googleSearch"],U9(s));const u=m(e,["urlContext"]);return u!=null&&h(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Br;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Br||(Br={}));class wi{constructor(t,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,a)}init(t,n,r){var a,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(i=(a=o.config)===null||a===void 0?void 0:a.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X9 extends Kr{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new wi(Br.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=Sw(this.apiClient,t),r=n._url,a=Y("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,s=l.requests,u=[];for(const c of s){const f=Object.assign({},c);if(f.systemInstruction){const p=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=p,f.request=g}u.push(f)}return l.requests=u,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const i=this.getGcsUri(t),o=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${a}`;else if(o)r.dest=`${o}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=E9(this.apiClient,t);return l=Y("batchPredictionJobs",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Bh(c))}else{const u=Sw(this.apiClient,t);return l=Y("{model}:batchGenerateContent",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>zu(c))}}async createEmbeddingsInternal(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=_9(this.apiClient,t);return i=Y("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a.then(s=>zu(s))}}async get(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=j9(this.apiClient,t);return l=Y("batchPredictionJobs/{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Bh(c))}else{const u=R9(this.apiClient,t);return l=Y("batches/{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>zu(c))}}async cancel(t){var n,r,a,i;let o="",l={};if(this.apiClient.isVertexAI()){const s=y9(this.apiClient,t);o=Y("batchPredictionJobs/{name}:cancel",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const s=g9(this.apiClient,t);o=Y("batches/{name}:cancel",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=$9(t);return l=Y("batchPredictionJobs",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=F9(c),p=new yw;return Object.assign(p,f),p})}else{const u=V9(t);return l=Y("batches",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=G9(c),p=new yw;return Object.assign(p,f),p})}}async delete(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=C9(this.apiClient,t);return l=Y("batchPredictionJobs/{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>N9(c))}else{const u=T9(this.apiClient,t);return l=Y("batches/{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>A9(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W9(e){const t={},n=m(e,["data"]);if(n!=null&&h(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function Ew(e){const t={},n=m(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>vY(i))),h(t,["parts"],a)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function Z9(e,t){const n={},r=m(e,["ttl"]);t!==void 0&&r!=null&&h(t,["ttl"],r);const a=m(e,["expireTime"]);t!==void 0&&a!=null&&h(t,["expireTime"],a);const i=m(e,["displayName"]);t!==void 0&&i!=null&&h(t,["displayName"],i);const o=m(e,["contents"]);if(t!==void 0&&o!=null){let c=Mn(o);Array.isArray(c)&&(c=c.map(f=>Ew(f))),h(t,["contents"],c)}const l=m(e,["systemInstruction"]);t!==void 0&&l!=null&&h(t,["systemInstruction"],Ew(It(l)));const s=m(e,["tools"]);if(t!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>xY(f))),h(t,["tools"],c)}const u=m(e,["toolConfig"]);if(t!==void 0&&u!=null&&h(t,["toolConfig"],u),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Q9(e,t){const n={},r=m(e,["ttl"]);t!==void 0&&r!=null&&h(t,["ttl"],r);const a=m(e,["expireTime"]);t!==void 0&&a!=null&&h(t,["expireTime"],a);const i=m(e,["displayName"]);t!==void 0&&i!=null&&h(t,["displayName"],i);const o=m(e,["contents"]);if(t!==void 0&&o!=null){let f=Mn(o);Array.isArray(f)&&(f=f.map(p=>p)),h(t,["contents"],f)}const l=m(e,["systemInstruction"]);t!==void 0&&l!=null&&h(t,["systemInstruction"],It(l));const s=m(e,["tools"]);if(t!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>bY(p))),h(t,["tools"],f)}const u=m(e,["toolConfig"]);t!==void 0&&u!=null&&h(t,["toolConfig"],u);const c=m(e,["kmsKeyName"]);return t!==void 0&&c!=null&&h(t,["encryption_spec","kmsKeyName"],c),n}function eY(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["model"],CM(e,r));const a=m(t,["config"]);return a!=null&&Z9(a,n),n}function tY(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["model"],CM(e,r));const a=m(t,["config"]);return a!=null&&Q9(a,n),n}function nY(e,t){const n={},r=m(t,["name"]);return r!=null&&h(n,["_url","name"],Jr(e,r)),n}function rY(e,t){const n={},r=m(t,["name"]);return r!=null&&h(n,["_url","name"],Jr(e,r)),n}function aY(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}function iY(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}function oY(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&h(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function lY(e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(e,["description"]);n!=null&&h(t,["description"],n);const r=m(e,["name"]);r!=null&&h(t,["name"],r);const a=m(e,["parameters"]);a!=null&&h(t,["parameters"],a);const i=m(e,["parametersJsonSchema"]);i!=null&&h(t,["parametersJsonSchema"],i);const o=m(e,["response"]);o!=null&&h(t,["response"],o);const l=m(e,["responseJsonSchema"]);return l!=null&&h(t,["responseJsonSchema"],l),t}function sY(e,t){const n={},r=m(t,["name"]);return r!=null&&h(n,["_url","name"],Jr(e,r)),n}function uY(e,t){const n={},r=m(t,["name"]);return r!=null&&h(n,["_url","name"],Jr(e,r)),n}function cY(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&h(t,["enableWidget"],n),t}function dY(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&h(t,["timeRangeFilter"],n),t}function fY(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const a=m(e,["pageToken"]);return t!==void 0&&a!=null&&h(t,["_query","pageToken"],a),n}function mY(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const a=m(e,["pageToken"]);return t!==void 0&&a!=null&&h(t,["_query","pageToken"],a),n}function pY(e){const t={},n=m(e,["config"]);return n!=null&&fY(n,t),t}function hY(e){const t={},n=m(e,["config"]);return n!=null&&mY(n,t),t}function gY(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const a=m(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),h(t,["cachedContents"],i)}return t}function yY(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const a=m(e,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),h(t,["cachedContents"],i)}return t}function vY(e){const t={},n=m(e,["functionCall"]);n!=null&&h(t,["functionCall"],n);const r=m(e,["codeExecutionResult"]);r!=null&&h(t,["codeExecutionResult"],r);const a=m(e,["executableCode"]);a!=null&&h(t,["executableCode"],a);const i=m(e,["fileData"]);i!=null&&h(t,["fileData"],oY(i));const o=m(e,["functionResponse"]);o!=null&&h(t,["functionResponse"],o);const l=m(e,["inlineData"]);l!=null&&h(t,["inlineData"],W9(l));const s=m(e,["text"]);s!=null&&h(t,["text"],s);const u=m(e,["thought"]);u!=null&&h(t,["thought"],u);const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const f=m(e,["videoMetadata"]);return f!=null&&h(t,["videoMetadata"],f),t}function xY(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),h(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearchRetrieval"]);r!=null&&h(t,["googleSearchRetrieval"],r);const a=m(e,["computerUse"]);a!=null&&h(t,["computerUse"],a);const i=m(e,["fileSearch"]);i!=null&&h(t,["fileSearch"],i);const o=m(e,["codeExecution"]);if(o!=null&&h(t,["codeExecution"],o),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=m(e,["googleMaps"]);l!=null&&h(t,["googleMaps"],cY(l));const s=m(e,["googleSearch"]);s!=null&&h(t,["googleSearch"],dY(s));const u=m(e,["urlContext"]);return u!=null&&h(t,["urlContext"],u),t}function bY(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>lY(p))),h(t,["functionDeclarations"],f)}const r=m(e,["retrieval"]);r!=null&&h(t,["retrieval"],r);const a=m(e,["googleSearchRetrieval"]);a!=null&&h(t,["googleSearchRetrieval"],a);const i=m(e,["computerUse"]);if(i!=null&&h(t,["computerUse"],i),m(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(e,["codeExecution"]);o!=null&&h(t,["codeExecution"],o);const l=m(e,["enterpriseWebSearch"]);l!=null&&h(t,["enterpriseWebSearch"],l);const s=m(e,["googleMaps"]);s!=null&&h(t,["googleMaps"],s);const u=m(e,["googleSearch"]);u!=null&&h(t,["googleSearch"],u);const c=m(e,["urlContext"]);return c!=null&&h(t,["urlContext"],c),t}function SY(e,t){const n={},r=m(e,["ttl"]);t!==void 0&&r!=null&&h(t,["ttl"],r);const a=m(e,["expireTime"]);return t!==void 0&&a!=null&&h(t,["expireTime"],a),n}function EY(e,t){const n={},r=m(e,["ttl"]);t!==void 0&&r!=null&&h(t,["ttl"],r);const a=m(e,["expireTime"]);return t!==void 0&&a!=null&&h(t,["expireTime"],a),n}function wY(e,t){const n={},r=m(t,["name"]);r!=null&&h(n,["_url","name"],Jr(e,r));const a=m(t,["config"]);return a!=null&&SY(a,n),n}function _Y(e,t){const n={},r=m(t,["name"]);r!=null&&h(n,["_url","name"],Jr(e,r));const a=m(t,["config"]);return a!=null&&EY(a,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TY extends Kr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new wi(Br.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=tY(this.apiClient,t);return l=Y("cachedContents",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}else{const u=eY(this.apiClient,t);return l=Y("cachedContents",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=uY(this.apiClient,t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}else{const u=sY(this.apiClient,t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=rY(this.apiClient,t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=iY(c),p=new hw;return Object.assign(p,f),p})}else{const u=nY(this.apiClient,t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=aY(c),p=new hw;return Object.assign(p,f),p})}}async update(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=_Y(this.apiClient,t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}else{const u=wY(this.apiClient,t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async listInternal(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=hY(t);return l=Y("cachedContents",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=yY(c),p=new gw;return Object.assign(p,f),p})}else{const u=pY(t);return l=Y("cachedContents",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=gY(c),p=new gw;return Object.assign(p,f),p})}}}function ww(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(e){return this instanceof Re?(this.v=e,this):new Re(e)}function ro(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(g){return function(y){return Promise.resolve(y).then(g,f)}}function l(g,y){r[g]&&(a[g]=function(b){return new Promise(function(E,v){i.push([g,b,E,v])>1||s(g,b)})},y&&(a[g]=y(a[g])))}function s(g,y){try{u(r[g](y))}catch(b){p(i[0][3],b)}}function u(g){g.value instanceof Re?Promise.resolve(g.value.v).then(c,f):p(i[0][2],g)}function c(g){s("next",g)}function f(g){s("throw",g)}function p(g,y){g(y),i.shift(),i.length&&s(i[0][0],i[0][1])}}function Ol(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ww=="function"?ww(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(o){return new Promise(function(l,s){o=e[i](o),a(l,s,o.done,o.value)})}}function a(i,o,l,s){Promise.resolve(s).then(function(u){i({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CY(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:zM(n)}function zM(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function AY(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function _w(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const a=[];let i=!0;for(;r<n&&e[r].role==="model";)a.push(e[r]),i&&!zM(e[r])&&(i=!1),r++;i?t.push(...a):t.pop()}return t}class NY{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new kY(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class kY{constructor(t,n,r,a={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=a,this.history=i,this.sendPromise=Promise.resolve(),AY(i)}async sendMessage(t){var n;await this.sendPromise;const r=It(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,o,l;const s=await a,u=(o=(i=s.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content,c=s.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let p=[];c!=null&&(p=(l=c.slice(f))!==null&&l!==void 0?l:[]);const g=u?[u]:[];this.recordHistory(r,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var n;await this.sendPromise;const r=It(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const i=await a;return this.processStreamResponse(i,r)}getHistory(t=!1){const n=t?_w(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,a;return ro(this,arguments,function*(){var o,l,s,u;const c=[];try{for(var f=!0,p=Ol(t),g;g=yield Re(p.next()),o=g.done,!o;f=!0){u=g.value,f=!1;const y=u;if(CY(y)){const b=(a=(r=y.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;b!==void 0&&c.push(b)}yield yield Re(y)}}catch(y){l={error:y}}finally{try{!f&&!o&&(s=p.return)&&(yield Re(s.call(p)))}finally{if(l)throw l.error}}this.recordHistory(n,c)})}recordHistory(t,n,r){let a=[];n.length>0&&n.every(i=>i.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(..._w(r)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pf extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Pf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MY(e){const t={},n=m(e,["file"]);return n!=null&&h(t,["file"],n),t}function PY(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}function IY(e){const t={},n=m(e,["name"]);return n!=null&&h(t,["_url","file"],IM(n)),t}function DY(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}function OY(e){const t={},n=m(e,["name"]);return n!=null&&h(t,["_url","file"],IM(n)),t}function RY(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const a=m(e,["pageToken"]);return t!==void 0&&a!=null&&h(t,["_query","pageToken"],a),n}function jY(e){const t={},n=m(e,["config"]);return n!=null&&RY(n,t),t}function LY(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const a=m(e,["files"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),h(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UY extends Kr{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new wi(Br.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=jY(t);return i=Y("files",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:s.headers},c})),a.then(s=>{const u=LY(s),c=new JF;return Object.assign(c,u),c})}}async createInternal(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=MY(t);return i=Y("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a.then(s=>{const u=PY(s),c=new XF;return Object.assign(c,u),c})}}async get(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=OY(t);return i=Y("files/{file}",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a.then(s=>s)}}async delete(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=IY(t);return i=Y("files/{file}",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:s.headers},c})),a.then(s=>{const u=DY(s),c=new WF;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bu(e){const t={},n=m(e,["data"]);if(n!=null&&h(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function zY(e){const t={},n=m(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>eK(i))),h(t,["parts"],a)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function BY(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&h(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function qY(e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(e,["description"]);n!=null&&h(t,["description"],n);const r=m(e,["name"]);r!=null&&h(t,["name"],r);const a=m(e,["parameters"]);a!=null&&h(t,["parameters"],a);const i=m(e,["parametersJsonSchema"]);i!=null&&h(t,["parametersJsonSchema"],i);const o=m(e,["response"]);o!=null&&h(t,["response"],o);const l=m(e,["responseJsonSchema"]);return l!=null&&h(t,["responseJsonSchema"],l),t}function HY(e){const t={},n=m(e,["modelSelectionConfig"]);n!=null&&h(t,["modelConfig"],n);const r=m(e,["responseJsonSchema"]);r!=null&&h(t,["responseJsonSchema"],r);const a=m(e,["audioTimestamp"]);a!=null&&h(t,["audioTimestamp"],a);const i=m(e,["candidateCount"]);i!=null&&h(t,["candidateCount"],i);const o=m(e,["enableAffectiveDialog"]);o!=null&&h(t,["enableAffectiveDialog"],o);const l=m(e,["frequencyPenalty"]);l!=null&&h(t,["frequencyPenalty"],l);const s=m(e,["logprobs"]);s!=null&&h(t,["logprobs"],s);const u=m(e,["maxOutputTokens"]);u!=null&&h(t,["maxOutputTokens"],u);const c=m(e,["mediaResolution"]);c!=null&&h(t,["mediaResolution"],c);const f=m(e,["presencePenalty"]);f!=null&&h(t,["presencePenalty"],f);const p=m(e,["responseLogprobs"]);p!=null&&h(t,["responseLogprobs"],p);const g=m(e,["responseMimeType"]);g!=null&&h(t,["responseMimeType"],g);const y=m(e,["responseModalities"]);y!=null&&h(t,["responseModalities"],y);const b=m(e,["responseSchema"]);b!=null&&h(t,["responseSchema"],b);const E=m(e,["routingConfig"]);E!=null&&h(t,["routingConfig"],E);const v=m(e,["seed"]);v!=null&&h(t,["seed"],v);const S=m(e,["speechConfig"]);S!=null&&h(t,["speechConfig"],BM(S));const w=m(e,["stopSequences"]);w!=null&&h(t,["stopSequences"],w);const _=m(e,["temperature"]);_!=null&&h(t,["temperature"],_);const T=m(e,["thinkingConfig"]);T!=null&&h(t,["thinkingConfig"],T);const A=m(e,["topK"]);A!=null&&h(t,["topK"],A);const N=m(e,["topP"]);if(N!=null&&h(t,["topP"],N),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function VY(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&h(t,["enableWidget"],n),t}function $Y(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&h(t,["timeRangeFilter"],n),t}function GY(e,t){const n={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&h(t,["setup","generationConfig"],r);const a=m(e,["responseModalities"]);t!==void 0&&a!=null&&h(t,["setup","generationConfig","responseModalities"],a);const i=m(e,["temperature"]);t!==void 0&&i!=null&&h(t,["setup","generationConfig","temperature"],i);const o=m(e,["topP"]);t!==void 0&&o!=null&&h(t,["setup","generationConfig","topP"],o);const l=m(e,["topK"]);t!==void 0&&l!=null&&h(t,["setup","generationConfig","topK"],l);const s=m(e,["maxOutputTokens"]);t!==void 0&&s!=null&&h(t,["setup","generationConfig","maxOutputTokens"],s);const u=m(e,["mediaResolution"]);t!==void 0&&u!=null&&h(t,["setup","generationConfig","mediaResolution"],u);const c=m(e,["seed"]);t!==void 0&&c!=null&&h(t,["setup","generationConfig","seed"],c);const f=m(e,["speechConfig"]);t!==void 0&&f!=null&&h(t,["setup","generationConfig","speechConfig"],B0(f));const p=m(e,["thinkingConfig"]);t!==void 0&&p!=null&&h(t,["setup","generationConfig","thinkingConfig"],p);const g=m(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&h(t,["setup","generationConfig","enableAffectiveDialog"],g);const y=m(e,["systemInstruction"]);t!==void 0&&y!=null&&h(t,["setup","systemInstruction"],zY(It(y)));const b=m(e,["tools"]);if(t!==void 0&&b!=null){let A=Yo(b);Array.isArray(A)&&(A=A.map(N=>nK(Fo(N)))),h(t,["setup","tools"],A)}const E=m(e,["sessionResumption"]);t!==void 0&&E!=null&&h(t,["setup","sessionResumption"],tK(E));const v=m(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&h(t,["setup","inputAudioTranscription"],v);const S=m(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&h(t,["setup","outputAudioTranscription"],S);const w=m(e,["realtimeInputConfig"]);t!==void 0&&w!=null&&h(t,["setup","realtimeInputConfig"],w);const _=m(e,["contextWindowCompression"]);t!==void 0&&_!=null&&h(t,["setup","contextWindowCompression"],_);const T=m(e,["proactivity"]);return t!==void 0&&T!=null&&h(t,["setup","proactivity"],T),n}function FY(e,t){const n={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&h(t,["setup","generationConfig"],HY(r));const a=m(e,["responseModalities"]);t!==void 0&&a!=null&&h(t,["setup","generationConfig","responseModalities"],a);const i=m(e,["temperature"]);t!==void 0&&i!=null&&h(t,["setup","generationConfig","temperature"],i);const o=m(e,["topP"]);t!==void 0&&o!=null&&h(t,["setup","generationConfig","topP"],o);const l=m(e,["topK"]);t!==void 0&&l!=null&&h(t,["setup","generationConfig","topK"],l);const s=m(e,["maxOutputTokens"]);t!==void 0&&s!=null&&h(t,["setup","generationConfig","maxOutputTokens"],s);const u=m(e,["mediaResolution"]);t!==void 0&&u!=null&&h(t,["setup","generationConfig","mediaResolution"],u);const c=m(e,["seed"]);t!==void 0&&c!=null&&h(t,["setup","generationConfig","seed"],c);const f=m(e,["speechConfig"]);t!==void 0&&f!=null&&h(t,["setup","generationConfig","speechConfig"],BM(B0(f)));const p=m(e,["thinkingConfig"]);t!==void 0&&p!=null&&h(t,["setup","generationConfig","thinkingConfig"],p);const g=m(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&h(t,["setup","generationConfig","enableAffectiveDialog"],g);const y=m(e,["systemInstruction"]);t!==void 0&&y!=null&&h(t,["setup","systemInstruction"],It(y));const b=m(e,["tools"]);if(t!==void 0&&b!=null){let A=Yo(b);Array.isArray(A)&&(A=A.map(N=>rK(Fo(N)))),h(t,["setup","tools"],A)}const E=m(e,["sessionResumption"]);t!==void 0&&E!=null&&h(t,["setup","sessionResumption"],E);const v=m(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&h(t,["setup","inputAudioTranscription"],v);const S=m(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&h(t,["setup","outputAudioTranscription"],S);const w=m(e,["realtimeInputConfig"]);t!==void 0&&w!=null&&h(t,["setup","realtimeInputConfig"],w);const _=m(e,["contextWindowCompression"]);t!==void 0&&_!=null&&h(t,["setup","contextWindowCompression"],_);const T=m(e,["proactivity"]);return t!==void 0&&T!=null&&h(t,["setup","proactivity"],T),n}function YY(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["setup","model"],ve(e,r));const a=m(t,["config"]);return a!=null&&h(n,["config"],GY(a,n)),n}function KY(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["setup","model"],ve(e,r));const a=m(t,["config"]);return a!=null&&h(n,["config"],FY(a,n)),n}function JY(e){const t={},n=m(e,["musicGenerationConfig"]);return n!=null&&h(t,["musicGenerationConfig"],n),t}function XY(e){const t={},n=m(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),h(t,["weightedPrompts"],r)}return t}function WY(e){const t={},n=m(e,["media"]);if(n!=null){let u=AM(n);Array.isArray(u)&&(u=u.map(c=>Bu(c))),h(t,["mediaChunks"],u)}const r=m(e,["audio"]);r!=null&&h(t,["audio"],Bu(kM(r)));const a=m(e,["audioStreamEnd"]);a!=null&&h(t,["audioStreamEnd"],a);const i=m(e,["video"]);i!=null&&h(t,["video"],Bu(NM(i)));const o=m(e,["text"]);o!=null&&h(t,["text"],o);const l=m(e,["activityStart"]);l!=null&&h(t,["activityStart"],l);const s=m(e,["activityEnd"]);return s!=null&&h(t,["activityEnd"],s),t}function ZY(e){const t={},n=m(e,["media"]);if(n!=null){let u=AM(n);Array.isArray(u)&&(u=u.map(c=>c)),h(t,["mediaChunks"],u)}const r=m(e,["audio"]);r!=null&&h(t,["audio"],kM(r));const a=m(e,["audioStreamEnd"]);a!=null&&h(t,["audioStreamEnd"],a);const i=m(e,["video"]);i!=null&&h(t,["video"],NM(i));const o=m(e,["text"]);o!=null&&h(t,["text"],o);const l=m(e,["activityStart"]);l!=null&&h(t,["activityStart"],l);const s=m(e,["activityEnd"]);return s!=null&&h(t,["activityEnd"],s),t}function QY(e){const t={},n=m(e,["setupComplete"]);n!=null&&h(t,["setupComplete"],n);const r=m(e,["serverContent"]);r!=null&&h(t,["serverContent"],r);const a=m(e,["toolCall"]);a!=null&&h(t,["toolCall"],a);const i=m(e,["toolCallCancellation"]);i!=null&&h(t,["toolCallCancellation"],i);const o=m(e,["usageMetadata"]);o!=null&&h(t,["usageMetadata"],aK(o));const l=m(e,["goAway"]);l!=null&&h(t,["goAway"],l);const s=m(e,["sessionResumptionUpdate"]);return s!=null&&h(t,["sessionResumptionUpdate"],s),t}function eK(e){const t={},n=m(e,["functionCall"]);n!=null&&h(t,["functionCall"],n);const r=m(e,["codeExecutionResult"]);r!=null&&h(t,["codeExecutionResult"],r);const a=m(e,["executableCode"]);a!=null&&h(t,["executableCode"],a);const i=m(e,["fileData"]);i!=null&&h(t,["fileData"],BY(i));const o=m(e,["functionResponse"]);o!=null&&h(t,["functionResponse"],o);const l=m(e,["inlineData"]);l!=null&&h(t,["inlineData"],Bu(l));const s=m(e,["text"]);s!=null&&h(t,["text"],s);const u=m(e,["thought"]);u!=null&&h(t,["thought"],u);const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const f=m(e,["videoMetadata"]);return f!=null&&h(t,["videoMetadata"],f),t}function tK(e){const t={},n=m(e,["handle"]);if(n!=null&&h(t,["handle"],n),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function BM(e){const t={},n=m(e,["languageCode"]);n!=null&&h(t,["languageCode"],n);const r=m(e,["voiceConfig"]);if(r!=null&&h(t,["voiceConfig"],r),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function nK(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),h(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearchRetrieval"]);r!=null&&h(t,["googleSearchRetrieval"],r);const a=m(e,["computerUse"]);a!=null&&h(t,["computerUse"],a);const i=m(e,["fileSearch"]);i!=null&&h(t,["fileSearch"],i);const o=m(e,["codeExecution"]);if(o!=null&&h(t,["codeExecution"],o),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=m(e,["googleMaps"]);l!=null&&h(t,["googleMaps"],VY(l));const s=m(e,["googleSearch"]);s!=null&&h(t,["googleSearch"],$Y(s));const u=m(e,["urlContext"]);return u!=null&&h(t,["urlContext"],u),t}function rK(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>qY(p))),h(t,["functionDeclarations"],f)}const r=m(e,["retrieval"]);r!=null&&h(t,["retrieval"],r);const a=m(e,["googleSearchRetrieval"]);a!=null&&h(t,["googleSearchRetrieval"],a);const i=m(e,["computerUse"]);if(i!=null&&h(t,["computerUse"],i),m(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(e,["codeExecution"]);o!=null&&h(t,["codeExecution"],o);const l=m(e,["enterpriseWebSearch"]);l!=null&&h(t,["enterpriseWebSearch"],l);const s=m(e,["googleMaps"]);s!=null&&h(t,["googleMaps"],s);const u=m(e,["googleSearch"]);u!=null&&h(t,["googleSearch"],u);const c=m(e,["urlContext"]);return c!=null&&h(t,["urlContext"],c),t}function aK(e){const t={},n=m(e,["promptTokenCount"]);n!=null&&h(t,["promptTokenCount"],n);const r=m(e,["cachedContentTokenCount"]);r!=null&&h(t,["cachedContentTokenCount"],r);const a=m(e,["candidatesTokenCount"]);a!=null&&h(t,["responseTokenCount"],a);const i=m(e,["toolUsePromptTokenCount"]);i!=null&&h(t,["toolUsePromptTokenCount"],i);const o=m(e,["thoughtsTokenCount"]);o!=null&&h(t,["thoughtsTokenCount"],o);const l=m(e,["totalTokenCount"]);l!=null&&h(t,["totalTokenCount"],l);const s=m(e,["promptTokensDetails"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(y=>y)),h(t,["promptTokensDetails"],g)}const u=m(e,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(y=>y)),h(t,["cacheTokensDetails"],g)}const c=m(e,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),h(t,["responseTokensDetails"],g)}const f=m(e,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),h(t,["toolUsePromptTokensDetails"],g)}const p=m(e,["trafficType"]);return p!=null&&h(t,["trafficType"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iK(e){const t={},n=m(e,["data"]);if(n!=null&&h(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function oK(e){const t={},n=m(e,["content"]);n!=null&&h(t,["content"],n);const r=m(e,["citationMetadata"]);r!=null&&h(t,["citationMetadata"],lK(r));const a=m(e,["tokenCount"]);a!=null&&h(t,["tokenCount"],a);const i=m(e,["finishReason"]);i!=null&&h(t,["finishReason"],i);const o=m(e,["avgLogprobs"]);o!=null&&h(t,["avgLogprobs"],o);const l=m(e,["groundingMetadata"]);l!=null&&h(t,["groundingMetadata"],l);const s=m(e,["index"]);s!=null&&h(t,["index"],s);const u=m(e,["logprobsResult"]);u!=null&&h(t,["logprobsResult"],u);const c=m(e,["safetyRatings"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>g)),h(t,["safetyRatings"],p)}const f=m(e,["urlContextMetadata"]);return f!=null&&h(t,["urlContextMetadata"],f),t}function lK(e){const t={},n=m(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),h(t,["citations"],r)}return t}function sK(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["contents"]);if(a!=null){let i=Mn(a);Array.isArray(i)&&(i=i.map(o=>o)),h(n,["contents"],i)}return n}function uK(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>i)),h(t,["tokensInfo"],a)}return t}function cK(e){const t={},n=m(e,["values"]);n!=null&&h(t,["values"],n);const r=m(e,["statistics"]);return r!=null&&h(t,["statistics"],dK(r)),t}function dK(e){const t={},n=m(e,["truncated"]);n!=null&&h(t,["truncated"],n);const r=m(e,["token_count"]);return r!=null&&h(t,["tokenCount"],r),t}function If(e){const t={},n=m(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>gJ(i))),h(t,["parts"],a)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function fK(e){const t={},n=m(e,["controlType"]);n!=null&&h(t,["controlType"],n);const r=m(e,["enableControlImageComputation"]);return r!=null&&h(t,["computeControl"],r),t}function mK(e){const t={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function pK(e,t){const n={},r=m(e,["systemInstruction"]);t!==void 0&&r!=null&&h(t,["systemInstruction"],It(r));const a=m(e,["tools"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>GM(l))),h(t,["tools"],o)}const i=m(e,["generationConfig"]);return t!==void 0&&i!=null&&h(t,["generationConfig"],rJ(i)),n}function hK(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["contents"]);if(a!=null){let o=Mn(a);Array.isArray(o)&&(o=o.map(l=>If(l))),h(n,["contents"],o)}const i=m(t,["config"]);return i!=null&&mK(i),n}function gK(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["contents"]);if(a!=null){let o=Mn(a);Array.isArray(o)&&(o=o.map(l=>l)),h(n,["contents"],o)}const i=m(t,["config"]);return i!=null&&pK(i,n),n}function yK(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["totalTokens"]);r!=null&&h(t,["totalTokens"],r);const a=m(e,["cachedContentTokenCount"]);return a!=null&&h(t,["cachedContentTokenCount"],a),t}function vK(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["totalTokens"]);return r!=null&&h(t,["totalTokens"],r),t}function xK(e,t){const n={},r=m(t,["model"]);return r!=null&&h(n,["_url","name"],ve(e,r)),n}function bK(e,t){const n={},r=m(t,["model"]);return r!=null&&h(n,["_url","name"],ve(e,r)),n}function SK(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}function EK(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}function wK(e,t){const n={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&h(t,["parameters","storageUri"],r);const a=m(e,["negativePrompt"]);t!==void 0&&a!=null&&h(t,["parameters","negativePrompt"],a);const i=m(e,["numberOfImages"]);t!==void 0&&i!=null&&h(t,["parameters","sampleCount"],i);const o=m(e,["aspectRatio"]);t!==void 0&&o!=null&&h(t,["parameters","aspectRatio"],o);const l=m(e,["guidanceScale"]);t!==void 0&&l!=null&&h(t,["parameters","guidanceScale"],l);const s=m(e,["seed"]);t!==void 0&&s!=null&&h(t,["parameters","seed"],s);const u=m(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&h(t,["parameters","safetySetting"],u);const c=m(e,["personGeneration"]);t!==void 0&&c!=null&&h(t,["parameters","personGeneration"],c);const f=m(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&h(t,["parameters","includeSafetyAttributes"],f);const p=m(e,["includeRaiReason"]);t!==void 0&&p!=null&&h(t,["parameters","includeRaiReason"],p);const g=m(e,["language"]);t!==void 0&&g!=null&&h(t,["parameters","language"],g);const y=m(e,["outputMimeType"]);t!==void 0&&y!=null&&h(t,["parameters","outputOptions","mimeType"],y);const b=m(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&h(t,["parameters","outputOptions","compressionQuality"],b);const E=m(e,["addWatermark"]);t!==void 0&&E!=null&&h(t,["parameters","addWatermark"],E);const v=m(e,["labels"]);t!==void 0&&v!=null&&h(t,["labels"],v);const S=m(e,["editMode"]);t!==void 0&&S!=null&&h(t,["parameters","editMode"],S);const w=m(e,["baseSteps"]);return t!==void 0&&w!=null&&h(t,["parameters","editConfig","baseSteps"],w),n}function _K(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["prompt"]);a!=null&&h(n,["instances[0]","prompt"],a);const i=m(t,["referenceImages"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>EJ(s))),h(n,["instances[0]","referenceImages"],l)}const o=m(t,["config"]);return o!=null&&wK(o,n),n}function TK(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Df(i))),h(t,["generatedImages"],a)}return t}function CK(e,t){const n={},r=m(e,["taskType"]);t!==void 0&&r!=null&&h(t,["requests[]","taskType"],r);const a=m(e,["title"]);t!==void 0&&a!=null&&h(t,["requests[]","title"],a);const i=m(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&h(t,["requests[]","outputDimensionality"],i),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function AK(e,t){const n={},r=m(e,["taskType"]);t!==void 0&&r!=null&&h(t,["instances[]","task_type"],r);const a=m(e,["title"]);t!==void 0&&a!=null&&h(t,["instances[]","title"],a);const i=m(e,["outputDimensionality"]);t!==void 0&&i!=null&&h(t,["parameters","outputDimensionality"],i);const o=m(e,["mimeType"]);t!==void 0&&o!=null&&h(t,["instances[]","mimeType"],o);const l=m(e,["autoTruncate"]);return t!==void 0&&l!=null&&h(t,["parameters","autoTruncate"],l),n}function NK(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["contents"]);if(a!=null){let l=L0(e,a);Array.isArray(l)&&(l=l.map(s=>s)),h(n,["requests[]","content"],l)}const i=m(t,["config"]);i!=null&&CK(i,n);const o=m(t,["model"]);return o!==void 0&&h(n,["requests[]","model"],ve(e,o)),n}function kK(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["contents"]);if(a!=null){let o=L0(e,a);Array.isArray(o)&&(o=o.map(l=>l)),h(n,["instances[]","content"],o)}const i=m(t,["config"]);return i!=null&&AK(i,n),n}function MK(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),h(t,["embeddings"],i)}const a=m(e,["metadata"]);return a!=null&&h(t,["metadata"],a),t}function PK(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>cK(o))),h(t,["embeddings"],i)}const a=m(e,["metadata"]);return a!=null&&h(t,["metadata"],a),t}function IK(e){const t={},n=m(e,["endpoint"]);n!=null&&h(t,["name"],n);const r=m(e,["deployedModelId"]);return r!=null&&h(t,["deployedModelId"],r),t}function DK(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&h(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function OK(e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(e,["description"]);n!=null&&h(t,["description"],n);const r=m(e,["name"]);r!=null&&h(t,["name"],r);const a=m(e,["parameters"]);a!=null&&h(t,["parameters"],a);const i=m(e,["parametersJsonSchema"]);i!=null&&h(t,["parametersJsonSchema"],i);const o=m(e,["response"]);o!=null&&h(t,["response"],o);const l=m(e,["responseJsonSchema"]);return l!=null&&h(t,["responseJsonSchema"],l),t}function RK(e,t,n){const r={},a=m(t,["systemInstruction"]);n!==void 0&&a!=null&&h(n,["systemInstruction"],If(It(a)));const i=m(t,["temperature"]);i!=null&&h(r,["temperature"],i);const o=m(t,["topP"]);o!=null&&h(r,["topP"],o);const l=m(t,["topK"]);l!=null&&h(r,["topK"],l);const s=m(t,["candidateCount"]);s!=null&&h(r,["candidateCount"],s);const u=m(t,["maxOutputTokens"]);u!=null&&h(r,["maxOutputTokens"],u);const c=m(t,["stopSequences"]);c!=null&&h(r,["stopSequences"],c);const f=m(t,["responseLogprobs"]);f!=null&&h(r,["responseLogprobs"],f);const p=m(t,["logprobs"]);p!=null&&h(r,["logprobs"],p);const g=m(t,["presencePenalty"]);g!=null&&h(r,["presencePenalty"],g);const y=m(t,["frequencyPenalty"]);y!=null&&h(r,["frequencyPenalty"],y);const b=m(t,["seed"]);b!=null&&h(r,["seed"],b);const E=m(t,["responseMimeType"]);E!=null&&h(r,["responseMimeType"],E);const v=m(t,["responseSchema"]);v!=null&&h(r,["responseSchema"],U0(v));const S=m(t,["responseJsonSchema"]);if(S!=null&&h(r,["responseJsonSchema"],S),m(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=m(t,["safetySettings"]);if(n!==void 0&&w!=null){let R=w;Array.isArray(R)&&(R=R.map(G=>wJ(G))),h(n,["safetySettings"],R)}const _=m(t,["tools"]);if(n!==void 0&&_!=null){let R=Yo(_);Array.isArray(R)&&(R=R.map(G=>kJ(Fo(G)))),h(n,["tools"],R)}const T=m(t,["toolConfig"]);if(n!==void 0&&T!=null&&h(n,["toolConfig"],T),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=m(t,["cachedContent"]);n!==void 0&&A!=null&&h(n,["cachedContent"],Jr(e,A));const N=m(t,["responseModalities"]);N!=null&&h(r,["responseModalities"],N);const k=m(t,["mediaResolution"]);k!=null&&h(r,["mediaResolution"],k);const I=m(t,["speechConfig"]);if(I!=null&&h(r,["speechConfig"],z0(I)),m(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=m(t,["thinkingConfig"]);O!=null&&h(r,["thinkingConfig"],O);const C=m(t,["imageConfig"]);return C!=null&&h(r,["imageConfig"],C),r}function jK(e,t,n){const r={},a=m(t,["systemInstruction"]);n!==void 0&&a!=null&&h(n,["systemInstruction"],It(a));const i=m(t,["temperature"]);i!=null&&h(r,["temperature"],i);const o=m(t,["topP"]);o!=null&&h(r,["topP"],o);const l=m(t,["topK"]);l!=null&&h(r,["topK"],l);const s=m(t,["candidateCount"]);s!=null&&h(r,["candidateCount"],s);const u=m(t,["maxOutputTokens"]);u!=null&&h(r,["maxOutputTokens"],u);const c=m(t,["stopSequences"]);c!=null&&h(r,["stopSequences"],c);const f=m(t,["responseLogprobs"]);f!=null&&h(r,["responseLogprobs"],f);const p=m(t,["logprobs"]);p!=null&&h(r,["logprobs"],p);const g=m(t,["presencePenalty"]);g!=null&&h(r,["presencePenalty"],g);const y=m(t,["frequencyPenalty"]);y!=null&&h(r,["frequencyPenalty"],y);const b=m(t,["seed"]);b!=null&&h(r,["seed"],b);const E=m(t,["responseMimeType"]);E!=null&&h(r,["responseMimeType"],E);const v=m(t,["responseSchema"]);v!=null&&h(r,["responseSchema"],U0(v));const S=m(t,["responseJsonSchema"]);S!=null&&h(r,["responseJsonSchema"],S);const w=m(t,["routingConfig"]);w!=null&&h(r,["routingConfig"],w);const _=m(t,["modelSelectionConfig"]);_!=null&&h(r,["modelConfig"],_);const T=m(t,["safetySettings"]);if(n!==void 0&&T!=null){let P=T;Array.isArray(P)&&(P=P.map(L=>L)),h(n,["safetySettings"],P)}const A=m(t,["tools"]);if(n!==void 0&&A!=null){let P=Yo(A);Array.isArray(P)&&(P=P.map(L=>GM(Fo(L)))),h(n,["tools"],P)}const N=m(t,["toolConfig"]);n!==void 0&&N!=null&&h(n,["toolConfig"],N);const k=m(t,["labels"]);n!==void 0&&k!=null&&h(n,["labels"],k);const I=m(t,["cachedContent"]);n!==void 0&&I!=null&&h(n,["cachedContent"],Jr(e,I));const O=m(t,["responseModalities"]);O!=null&&h(r,["responseModalities"],O);const C=m(t,["mediaResolution"]);C!=null&&h(r,["mediaResolution"],C);const R=m(t,["speechConfig"]);R!=null&&h(r,["speechConfig"],$M(z0(R)));const G=m(t,["audioTimestamp"]);G!=null&&h(r,["audioTimestamp"],G);const $=m(t,["thinkingConfig"]);$!=null&&h(r,["thinkingConfig"],$);const K=m(t,["imageConfig"]);return K!=null&&h(r,["imageConfig"],K),r}function Tw(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["contents"]);if(a!=null){let o=Mn(a);Array.isArray(o)&&(o=o.map(l=>If(l))),h(n,["contents"],o)}const i=m(t,["config"]);return i!=null&&h(n,["generationConfig"],RK(e,i,n)),n}function Cw(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["contents"]);if(a!=null){let o=Mn(a);Array.isArray(o)&&(o=o.map(l=>l)),h(n,["contents"],o)}const i=m(t,["config"]);return i!=null&&h(n,["generationConfig"],jK(e,i,n)),n}function Aw(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["candidates"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>oK(u))),h(t,["candidates"],s)}const a=m(e,["modelVersion"]);a!=null&&h(t,["modelVersion"],a);const i=m(e,["promptFeedback"]);i!=null&&h(t,["promptFeedback"],i);const o=m(e,["responseId"]);o!=null&&h(t,["responseId"],o);const l=m(e,["usageMetadata"]);return l!=null&&h(t,["usageMetadata"],l),t}function Nw(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),h(t,["candidates"],u)}const a=m(e,["createTime"]);a!=null&&h(t,["createTime"],a);const i=m(e,["modelVersion"]);i!=null&&h(t,["modelVersion"],i);const o=m(e,["promptFeedback"]);o!=null&&h(t,["promptFeedback"],o);const l=m(e,["responseId"]);l!=null&&h(t,["responseId"],l);const s=m(e,["usageMetadata"]);return s!=null&&h(t,["usageMetadata"],s),t}function LK(e,t){const n={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=m(e,["numberOfImages"]);t!==void 0&&r!=null&&h(t,["parameters","sampleCount"],r);const a=m(e,["aspectRatio"]);t!==void 0&&a!=null&&h(t,["parameters","aspectRatio"],a);const i=m(e,["guidanceScale"]);if(t!==void 0&&i!=null&&h(t,["parameters","guidanceScale"],i),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&h(t,["parameters","safetySetting"],o);const l=m(e,["personGeneration"]);t!==void 0&&l!=null&&h(t,["parameters","personGeneration"],l);const s=m(e,["includeSafetyAttributes"]);t!==void 0&&s!=null&&h(t,["parameters","includeSafetyAttributes"],s);const u=m(e,["includeRaiReason"]);t!==void 0&&u!=null&&h(t,["parameters","includeRaiReason"],u);const c=m(e,["language"]);t!==void 0&&c!=null&&h(t,["parameters","language"],c);const f=m(e,["outputMimeType"]);t!==void 0&&f!=null&&h(t,["parameters","outputOptions","mimeType"],f);const p=m(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&h(t,["parameters","outputOptions","compressionQuality"],p),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=m(e,["imageSize"]);if(t!==void 0&&g!=null&&h(t,["parameters","sampleImageSize"],g),m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function UK(e,t){const n={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&h(t,["parameters","storageUri"],r);const a=m(e,["negativePrompt"]);t!==void 0&&a!=null&&h(t,["parameters","negativePrompt"],a);const i=m(e,["numberOfImages"]);t!==void 0&&i!=null&&h(t,["parameters","sampleCount"],i);const o=m(e,["aspectRatio"]);t!==void 0&&o!=null&&h(t,["parameters","aspectRatio"],o);const l=m(e,["guidanceScale"]);t!==void 0&&l!=null&&h(t,["parameters","guidanceScale"],l);const s=m(e,["seed"]);t!==void 0&&s!=null&&h(t,["parameters","seed"],s);const u=m(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&h(t,["parameters","safetySetting"],u);const c=m(e,["personGeneration"]);t!==void 0&&c!=null&&h(t,["parameters","personGeneration"],c);const f=m(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&h(t,["parameters","includeSafetyAttributes"],f);const p=m(e,["includeRaiReason"]);t!==void 0&&p!=null&&h(t,["parameters","includeRaiReason"],p);const g=m(e,["language"]);t!==void 0&&g!=null&&h(t,["parameters","language"],g);const y=m(e,["outputMimeType"]);t!==void 0&&y!=null&&h(t,["parameters","outputOptions","mimeType"],y);const b=m(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&h(t,["parameters","outputOptions","compressionQuality"],b);const E=m(e,["addWatermark"]);t!==void 0&&E!=null&&h(t,["parameters","addWatermark"],E);const v=m(e,["labels"]);t!==void 0&&v!=null&&h(t,["labels"],v);const S=m(e,["imageSize"]);t!==void 0&&S!=null&&h(t,["parameters","sampleImageSize"],S);const w=m(e,["enhancePrompt"]);return t!==void 0&&w!=null&&h(t,["parameters","enhancePrompt"],w),n}function zK(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["prompt"]);a!=null&&h(n,["instances[0]","prompt"],a);const i=m(t,["config"]);return i!=null&&LK(i,n),n}function BK(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["prompt"]);a!=null&&h(n,["instances[0]","prompt"],a);const i=m(t,["config"]);return i!=null&&UK(i,n),n}function qK(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>QK(o))),h(t,["generatedImages"],i)}const a=m(e,["positivePromptSafetyAttributes"]);return a!=null&&h(t,["positivePromptSafetyAttributes"],HM(a)),t}function HK(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Df(o))),h(t,["generatedImages"],i)}const a=m(e,["positivePromptSafetyAttributes"]);return a!=null&&h(t,["positivePromptSafetyAttributes"],VM(a)),t}function VK(e,t){const n={},r=m(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&h(t,["parameters","sampleCount"],r),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=m(e,["durationSeconds"]);if(t!==void 0&&a!=null&&h(t,["parameters","durationSeconds"],a),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=m(e,["aspectRatio"]);t!==void 0&&i!=null&&h(t,["parameters","aspectRatio"],i);const o=m(e,["resolution"]);t!==void 0&&o!=null&&h(t,["parameters","resolution"],o);const l=m(e,["personGeneration"]);if(t!==void 0&&l!=null&&h(t,["parameters","personGeneration"],l),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const s=m(e,["negativePrompt"]);t!==void 0&&s!=null&&h(t,["parameters","negativePrompt"],s);const u=m(e,["enhancePrompt"]);if(t!==void 0&&u!=null&&h(t,["parameters","enhancePrompt"],u),m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=m(e,["lastFrame"]);t!==void 0&&c!=null&&h(t,["instances[0]","lastFrame"],Of(c));const f=m(e,["referenceImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>HJ(g))),h(t,["instances[0]","referenceImages"],p)}if(m(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function $K(e,t){const n={},r=m(e,["numberOfVideos"]);t!==void 0&&r!=null&&h(t,["parameters","sampleCount"],r);const a=m(e,["outputGcsUri"]);t!==void 0&&a!=null&&h(t,["parameters","storageUri"],a);const i=m(e,["fps"]);t!==void 0&&i!=null&&h(t,["parameters","fps"],i);const o=m(e,["durationSeconds"]);t!==void 0&&o!=null&&h(t,["parameters","durationSeconds"],o);const l=m(e,["seed"]);t!==void 0&&l!=null&&h(t,["parameters","seed"],l);const s=m(e,["aspectRatio"]);t!==void 0&&s!=null&&h(t,["parameters","aspectRatio"],s);const u=m(e,["resolution"]);t!==void 0&&u!=null&&h(t,["parameters","resolution"],u);const c=m(e,["personGeneration"]);t!==void 0&&c!=null&&h(t,["parameters","personGeneration"],c);const f=m(e,["pubsubTopic"]);t!==void 0&&f!=null&&h(t,["parameters","pubsubTopic"],f);const p=m(e,["negativePrompt"]);t!==void 0&&p!=null&&h(t,["parameters","negativePrompt"],p);const g=m(e,["enhancePrompt"]);t!==void 0&&g!=null&&h(t,["parameters","enhancePrompt"],g);const y=m(e,["generateAudio"]);t!==void 0&&y!=null&&h(t,["parameters","generateAudio"],y);const b=m(e,["lastFrame"]);t!==void 0&&b!=null&&h(t,["instances[0]","lastFrame"],Yn(b));const E=m(e,["referenceImages"]);if(t!==void 0&&E!=null){let w=E;Array.isArray(w)&&(w=w.map(_=>VJ(_))),h(t,["instances[0]","referenceImages"],w)}const v=m(e,["mask"]);t!==void 0&&v!=null&&h(t,["instances[0]","mask"],qJ(v));const S=m(e,["compressionQuality"]);return t!==void 0&&S!=null&&h(t,["parameters","compressionQuality"],S),n}function GK(e){const t={},n=m(e,["name"]);n!=null&&h(t,["name"],n);const r=m(e,["metadata"]);r!=null&&h(t,["metadata"],r);const a=m(e,["done"]);a!=null&&h(t,["done"],a);const i=m(e,["error"]);i!=null&&h(t,["error"],i);const o=m(e,["response","generateVideoResponse"]);return o!=null&&h(t,["response"],JK(o)),t}function FK(e){const t={},n=m(e,["name"]);n!=null&&h(t,["name"],n);const r=m(e,["metadata"]);r!=null&&h(t,["metadata"],r);const a=m(e,["done"]);a!=null&&h(t,["done"],a);const i=m(e,["error"]);i!=null&&h(t,["error"],i);const o=m(e,["response"]);return o!=null&&h(t,["response"],XK(o)),t}function YK(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["prompt"]);a!=null&&h(n,["instances[0]","prompt"],a);const i=m(t,["image"]);i!=null&&h(n,["instances[0]","image"],Of(i));const o=m(t,["video"]);o!=null&&h(n,["instances[0]","video"],FM(o));const l=m(t,["source"]);l!=null&&WK(l,n);const s=m(t,["config"]);return s!=null&&VK(s,n),n}function KK(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["prompt"]);a!=null&&h(n,["instances[0]","prompt"],a);const i=m(t,["image"]);i!=null&&h(n,["instances[0]","image"],Yn(i));const o=m(t,["video"]);o!=null&&h(n,["instances[0]","video"],YM(o));const l=m(t,["source"]);l!=null&&ZK(l,n);const s=m(t,["config"]);return s!=null&&$K(s,n),n}function JK(e){const t={},n=m(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tJ(o))),h(t,["generatedVideos"],i)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&h(t,["raiMediaFilteredCount"],r);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&h(t,["raiMediaFilteredReasons"],a),t}function XK(e){const t={},n=m(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nJ(o))),h(t,["generatedVideos"],i)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&h(t,["raiMediaFilteredCount"],r);const a=m(e,["raiMediaFilteredReasons"]);return a!=null&&h(t,["raiMediaFilteredReasons"],a),t}function WK(e,t){const n={},r=m(e,["prompt"]);t!==void 0&&r!=null&&h(t,["instances[0]","prompt"],r);const a=m(e,["image"]);t!==void 0&&a!=null&&h(t,["instances[0]","image"],Of(a));const i=m(e,["video"]);return t!==void 0&&i!=null&&h(t,["instances[0]","video"],FM(i)),n}function ZK(e,t){const n={},r=m(e,["prompt"]);t!==void 0&&r!=null&&h(t,["instances[0]","prompt"],r);const a=m(e,["image"]);t!==void 0&&a!=null&&h(t,["instances[0]","image"],Yn(a));const i=m(e,["video"]);return t!==void 0&&i!=null&&h(t,["instances[0]","video"],YM(i)),n}function QK(e){const t={},n=m(e,["_self"]);n!=null&&h(t,["image"],sJ(n));const r=m(e,["raiFilteredReason"]);r!=null&&h(t,["raiFilteredReason"],r);const a=m(e,["_self"]);return a!=null&&h(t,["safetyAttributes"],HM(a)),t}function Df(e){const t={},n=m(e,["_self"]);n!=null&&h(t,["image"],qM(n));const r=m(e,["raiFilteredReason"]);r!=null&&h(t,["raiFilteredReason"],r);const a=m(e,["_self"]);a!=null&&h(t,["safetyAttributes"],VM(a));const i=m(e,["prompt"]);return i!=null&&h(t,["enhancedPrompt"],i),t}function eJ(e){const t={},n=m(e,["_self"]);n!=null&&h(t,["mask"],qM(n));const r=m(e,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>i)),h(t,["labels"],a)}return t}function tJ(e){const t={},n=m(e,["video"]);return n!=null&&h(t,["video"],zJ(n)),t}function nJ(e){const t={},n=m(e,["_self"]);return n!=null&&h(t,["video"],BJ(n)),t}function rJ(e){const t={},n=m(e,["modelSelectionConfig"]);n!=null&&h(t,["modelConfig"],n);const r=m(e,["responseJsonSchema"]);r!=null&&h(t,["responseJsonSchema"],r);const a=m(e,["audioTimestamp"]);a!=null&&h(t,["audioTimestamp"],a);const i=m(e,["candidateCount"]);i!=null&&h(t,["candidateCount"],i);const o=m(e,["enableAffectiveDialog"]);o!=null&&h(t,["enableAffectiveDialog"],o);const l=m(e,["frequencyPenalty"]);l!=null&&h(t,["frequencyPenalty"],l);const s=m(e,["logprobs"]);s!=null&&h(t,["logprobs"],s);const u=m(e,["maxOutputTokens"]);u!=null&&h(t,["maxOutputTokens"],u);const c=m(e,["mediaResolution"]);c!=null&&h(t,["mediaResolution"],c);const f=m(e,["presencePenalty"]);f!=null&&h(t,["presencePenalty"],f);const p=m(e,["responseLogprobs"]);p!=null&&h(t,["responseLogprobs"],p);const g=m(e,["responseMimeType"]);g!=null&&h(t,["responseMimeType"],g);const y=m(e,["responseModalities"]);y!=null&&h(t,["responseModalities"],y);const b=m(e,["responseSchema"]);b!=null&&h(t,["responseSchema"],b);const E=m(e,["routingConfig"]);E!=null&&h(t,["routingConfig"],E);const v=m(e,["seed"]);v!=null&&h(t,["seed"],v);const S=m(e,["speechConfig"]);S!=null&&h(t,["speechConfig"],$M(S));const w=m(e,["stopSequences"]);w!=null&&h(t,["stopSequences"],w);const _=m(e,["temperature"]);_!=null&&h(t,["temperature"],_);const T=m(e,["thinkingConfig"]);T!=null&&h(t,["thinkingConfig"],T);const A=m(e,["topK"]);A!=null&&h(t,["topK"],A);const N=m(e,["topP"]);if(N!=null&&h(t,["topP"],N),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function aJ(e,t){const n={},r=m(t,["model"]);return r!=null&&h(n,["_url","name"],ve(e,r)),n}function iJ(e,t){const n={},r=m(t,["model"]);return r!=null&&h(n,["_url","name"],ve(e,r)),n}function oJ(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&h(t,["enableWidget"],n),t}function lJ(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&h(t,["timeRangeFilter"],n),t}function sJ(e){const t={},n=m(e,["bytesBase64Encoded"]);n!=null&&h(t,["imageBytes"],Da(n));const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function qM(e){const t={},n=m(e,["gcsUri"]);n!=null&&h(t,["gcsUri"],n);const r=m(e,["bytesBase64Encoded"]);r!=null&&h(t,["imageBytes"],Da(r));const a=m(e,["mimeType"]);return a!=null&&h(t,["mimeType"],a),t}function Of(e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=m(e,["imageBytes"]);n!=null&&h(t,["bytesBase64Encoded"],Da(n));const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function Yn(e){const t={},n=m(e,["gcsUri"]);n!=null&&h(t,["gcsUri"],n);const r=m(e,["imageBytes"]);r!=null&&h(t,["bytesBase64Encoded"],Da(r));const a=m(e,["mimeType"]);return a!=null&&h(t,["mimeType"],a),t}function uJ(e,t,n){const r={},a=m(t,["pageSize"]);n!==void 0&&a!=null&&h(n,["_query","pageSize"],a);const i=m(t,["pageToken"]);n!==void 0&&i!=null&&h(n,["_query","pageToken"],i);const o=m(t,["filter"]);n!==void 0&&o!=null&&h(n,["_query","filter"],o);const l=m(t,["queryBase"]);return n!==void 0&&l!=null&&h(n,["_url","models_url"],DM(e,l)),r}function cJ(e,t,n){const r={},a=m(t,["pageSize"]);n!==void 0&&a!=null&&h(n,["_query","pageSize"],a);const i=m(t,["pageToken"]);n!==void 0&&i!=null&&h(n,["_query","pageToken"],i);const o=m(t,["filter"]);n!==void 0&&o!=null&&h(n,["_query","filter"],o);const l=m(t,["queryBase"]);return n!==void 0&&l!=null&&h(n,["_url","models_url"],DM(e,l)),r}function dJ(e,t){const n={},r=m(t,["config"]);return r!=null&&uJ(e,r,n),n}function fJ(e,t){const n={},r=m(t,["config"]);return r!=null&&cJ(e,r,n),n}function mJ(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const a=m(e,["_self"]);if(a!=null){let i=OM(a);Array.isArray(i)&&(i=i.map(o=>qh(o))),h(t,["models"],i)}return t}function pJ(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const a=m(e,["_self"]);if(a!=null){let i=OM(a);Array.isArray(i)&&(i=i.map(o=>Hh(o))),h(t,["models"],i)}return t}function hJ(e){const t={},n=m(e,["maskMode"]);n!=null&&h(t,["maskMode"],n);const r=m(e,["segmentationClasses"]);r!=null&&h(t,["maskClasses"],r);const a=m(e,["maskDilation"]);return a!=null&&h(t,["dilation"],a),t}function qh(e){const t={},n=m(e,["name"]);n!=null&&h(t,["name"],n);const r=m(e,["displayName"]);r!=null&&h(t,["displayName"],r);const a=m(e,["description"]);a!=null&&h(t,["description"],a);const i=m(e,["version"]);i!=null&&h(t,["version"],i);const o=m(e,["_self"]);o!=null&&h(t,["tunedModelInfo"],MJ(o));const l=m(e,["inputTokenLimit"]);l!=null&&h(t,["inputTokenLimit"],l);const s=m(e,["outputTokenLimit"]);s!=null&&h(t,["outputTokenLimit"],s);const u=m(e,["supportedGenerationMethods"]);u!=null&&h(t,["supportedActions"],u);const c=m(e,["temperature"]);c!=null&&h(t,["temperature"],c);const f=m(e,["maxTemperature"]);f!=null&&h(t,["maxTemperature"],f);const p=m(e,["topP"]);p!=null&&h(t,["topP"],p);const g=m(e,["topK"]);g!=null&&h(t,["topK"],g);const y=m(e,["thinking"]);return y!=null&&h(t,["thinking"],y),t}function Hh(e){const t={},n=m(e,["name"]);n!=null&&h(t,["name"],n);const r=m(e,["displayName"]);r!=null&&h(t,["displayName"],r);const a=m(e,["description"]);a!=null&&h(t,["description"],a);const i=m(e,["versionId"]);i!=null&&h(t,["version"],i);const o=m(e,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>IK(p))),h(t,["endpoints"],f)}const l=m(e,["labels"]);l!=null&&h(t,["labels"],l);const s=m(e,["_self"]);s!=null&&h(t,["tunedModelInfo"],PJ(s));const u=m(e,["defaultCheckpointId"]);u!=null&&h(t,["defaultCheckpointId"],u);const c=m(e,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>p)),h(t,["checkpoints"],f)}return t}function gJ(e){const t={},n=m(e,["functionCall"]);n!=null&&h(t,["functionCall"],n);const r=m(e,["codeExecutionResult"]);r!=null&&h(t,["codeExecutionResult"],r);const a=m(e,["executableCode"]);a!=null&&h(t,["executableCode"],a);const i=m(e,["fileData"]);i!=null&&h(t,["fileData"],DK(i));const o=m(e,["functionResponse"]);o!=null&&h(t,["functionResponse"],o);const l=m(e,["inlineData"]);l!=null&&h(t,["inlineData"],iK(l));const s=m(e,["text"]);s!=null&&h(t,["text"],s);const u=m(e,["thought"]);u!=null&&h(t,["thought"],u);const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const f=m(e,["videoMetadata"]);return f!=null&&h(t,["videoMetadata"],f),t}function yJ(e){const t={},n=m(e,["productImage"]);return n!=null&&h(t,["image"],Yn(n)),t}function vJ(e,t){const n={},r=m(e,["numberOfImages"]);t!==void 0&&r!=null&&h(t,["parameters","sampleCount"],r);const a=m(e,["baseSteps"]);t!==void 0&&a!=null&&h(t,["parameters","baseSteps"],a);const i=m(e,["outputGcsUri"]);t!==void 0&&i!=null&&h(t,["parameters","storageUri"],i);const o=m(e,["seed"]);t!==void 0&&o!=null&&h(t,["parameters","seed"],o);const l=m(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&h(t,["parameters","safetySetting"],l);const s=m(e,["personGeneration"]);t!==void 0&&s!=null&&h(t,["parameters","personGeneration"],s);const u=m(e,["addWatermark"]);t!==void 0&&u!=null&&h(t,["parameters","addWatermark"],u);const c=m(e,["outputMimeType"]);t!==void 0&&c!=null&&h(t,["parameters","outputOptions","mimeType"],c);const f=m(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&h(t,["parameters","outputOptions","compressionQuality"],f);const p=m(e,["enhancePrompt"]);t!==void 0&&p!=null&&h(t,["parameters","enhancePrompt"],p);const g=m(e,["labels"]);return t!==void 0&&g!=null&&h(t,["labels"],g),n}function xJ(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["source"]);a!=null&&SJ(a,n);const i=m(t,["config"]);return i!=null&&vJ(i,n),n}function bJ(e){const t={},n=m(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Df(a))),h(t,["generatedImages"],r)}return t}function SJ(e,t){const n={},r=m(e,["prompt"]);t!==void 0&&r!=null&&h(t,["instances[0]","prompt"],r);const a=m(e,["personImage"]);t!==void 0&&a!=null&&h(t,["instances[0]","personImage","image"],Yn(a));const i=m(e,["productImages"]);if(t!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>yJ(l))),h(t,["instances[0]","productImages"],o)}return n}function EJ(e){const t={},n=m(e,["referenceImage"]);n!=null&&h(t,["referenceImage"],Yn(n));const r=m(e,["referenceId"]);r!=null&&h(t,["referenceId"],r);const a=m(e,["referenceType"]);a!=null&&h(t,["referenceType"],a);const i=m(e,["maskImageConfig"]);i!=null&&h(t,["maskImageConfig"],hJ(i));const o=m(e,["controlImageConfig"]);o!=null&&h(t,["controlImageConfig"],fK(o));const l=m(e,["styleImageConfig"]);l!=null&&h(t,["styleImageConfig"],l);const s=m(e,["subjectImageConfig"]);return s!=null&&h(t,["subjectImageConfig"],s),t}function HM(e){const t={},n=m(e,["safetyAttributes","categories"]);n!=null&&h(t,["categories"],n);const r=m(e,["safetyAttributes","scores"]);r!=null&&h(t,["scores"],r);const a=m(e,["contentType"]);return a!=null&&h(t,["contentType"],a),t}function VM(e){const t={},n=m(e,["safetyAttributes","categories"]);n!=null&&h(t,["categories"],n);const r=m(e,["safetyAttributes","scores"]);r!=null&&h(t,["scores"],r);const a=m(e,["contentType"]);return a!=null&&h(t,["contentType"],a),t}function wJ(e){const t={},n=m(e,["category"]);if(n!=null&&h(t,["category"],n),m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(e,["threshold"]);return r!=null&&h(t,["threshold"],r),t}function _J(e){const t={},n=m(e,["image"]);return n!=null&&h(t,["image"],Yn(n)),t}function TJ(e,t){const n={},r=m(e,["mode"]);t!==void 0&&r!=null&&h(t,["parameters","mode"],r);const a=m(e,["maxPredictions"]);t!==void 0&&a!=null&&h(t,["parameters","maxPredictions"],a);const i=m(e,["confidenceThreshold"]);t!==void 0&&i!=null&&h(t,["parameters","confidenceThreshold"],i);const o=m(e,["maskDilation"]);t!==void 0&&o!=null&&h(t,["parameters","maskDilation"],o);const l=m(e,["binaryColorThreshold"]);t!==void 0&&l!=null&&h(t,["parameters","binaryColorThreshold"],l);const s=m(e,["labels"]);return t!==void 0&&s!=null&&h(t,["labels"],s),n}function CJ(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["source"]);a!=null&&NJ(a,n);const i=m(t,["config"]);return i!=null&&TJ(i,n),n}function AJ(e){const t={},n=m(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>eJ(a))),h(t,["generatedMasks"],r)}return t}function NJ(e,t){const n={},r=m(e,["prompt"]);t!==void 0&&r!=null&&h(t,["instances[0]","prompt"],r);const a=m(e,["image"]);t!==void 0&&a!=null&&h(t,["instances[0]","image"],Yn(a));const i=m(e,["scribbleImage"]);return t!==void 0&&i!=null&&h(t,["instances[0]","scribble"],_J(i)),n}function $M(e){const t={},n=m(e,["languageCode"]);n!=null&&h(t,["languageCode"],n);const r=m(e,["voiceConfig"]);if(r!=null&&h(t,["voiceConfig"],r),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function kJ(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),h(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearchRetrieval"]);r!=null&&h(t,["googleSearchRetrieval"],r);const a=m(e,["computerUse"]);a!=null&&h(t,["computerUse"],a);const i=m(e,["fileSearch"]);i!=null&&h(t,["fileSearch"],i);const o=m(e,["codeExecution"]);if(o!=null&&h(t,["codeExecution"],o),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=m(e,["googleMaps"]);l!=null&&h(t,["googleMaps"],oJ(l));const s=m(e,["googleSearch"]);s!=null&&h(t,["googleSearch"],lJ(s));const u=m(e,["urlContext"]);return u!=null&&h(t,["urlContext"],u),t}function GM(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>OK(p))),h(t,["functionDeclarations"],f)}const r=m(e,["retrieval"]);r!=null&&h(t,["retrieval"],r);const a=m(e,["googleSearchRetrieval"]);a!=null&&h(t,["googleSearchRetrieval"],a);const i=m(e,["computerUse"]);if(i!=null&&h(t,["computerUse"],i),m(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(e,["codeExecution"]);o!=null&&h(t,["codeExecution"],o);const l=m(e,["enterpriseWebSearch"]);l!=null&&h(t,["enterpriseWebSearch"],l);const s=m(e,["googleMaps"]);s!=null&&h(t,["googleMaps"],s);const u=m(e,["googleSearch"]);u!=null&&h(t,["googleSearch"],u);const c=m(e,["urlContext"]);return c!=null&&h(t,["urlContext"],c),t}function MJ(e){const t={},n=m(e,["baseModel"]);n!=null&&h(t,["baseModel"],n);const r=m(e,["createTime"]);r!=null&&h(t,["createTime"],r);const a=m(e,["updateTime"]);return a!=null&&h(t,["updateTime"],a),t}function PJ(e){const t={},n=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&h(t,["baseModel"],n);const r=m(e,["createTime"]);r!=null&&h(t,["createTime"],r);const a=m(e,["updateTime"]);return a!=null&&h(t,["updateTime"],a),t}function IJ(e,t){const n={},r=m(e,["displayName"]);t!==void 0&&r!=null&&h(t,["displayName"],r);const a=m(e,["description"]);t!==void 0&&a!=null&&h(t,["description"],a);const i=m(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&h(t,["defaultCheckpointId"],i),n}function DJ(e,t){const n={},r=m(e,["displayName"]);t!==void 0&&r!=null&&h(t,["displayName"],r);const a=m(e,["description"]);t!==void 0&&a!=null&&h(t,["description"],a);const i=m(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&h(t,["defaultCheckpointId"],i),n}function OJ(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","name"],ve(e,r));const a=m(t,["config"]);return a!=null&&IJ(a,n),n}function RJ(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["config"]);return a!=null&&DJ(a,n),n}function jJ(e,t){const n={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&h(t,["parameters","storageUri"],r);const a=m(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&h(t,["parameters","safetySetting"],a);const i=m(e,["personGeneration"]);t!==void 0&&i!=null&&h(t,["parameters","personGeneration"],i);const o=m(e,["includeRaiReason"]);t!==void 0&&o!=null&&h(t,["parameters","includeRaiReason"],o);const l=m(e,["outputMimeType"]);t!==void 0&&l!=null&&h(t,["parameters","outputOptions","mimeType"],l);const s=m(e,["outputCompressionQuality"]);t!==void 0&&s!=null&&h(t,["parameters","outputOptions","compressionQuality"],s);const u=m(e,["enhanceInputImage"]);t!==void 0&&u!=null&&h(t,["parameters","upscaleConfig","enhanceInputImage"],u);const c=m(e,["imagePreservationFactor"]);t!==void 0&&c!=null&&h(t,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=m(e,["labels"]);t!==void 0&&f!=null&&h(t,["labels"],f);const p=m(e,["numberOfImages"]);t!==void 0&&p!=null&&h(t,["parameters","sampleCount"],p);const g=m(e,["mode"]);return t!==void 0&&g!=null&&h(t,["parameters","mode"],g),n}function LJ(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["_url","model"],ve(e,r));const a=m(t,["image"]);a!=null&&h(n,["instances[0]","image"],Yn(a));const i=m(t,["upscaleFactor"]);i!=null&&h(n,["parameters","upscaleConfig","upscaleFactor"],i);const o=m(t,["config"]);return o!=null&&jJ(o,n),n}function UJ(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Df(i))),h(t,["generatedImages"],a)}return t}function zJ(e){const t={},n=m(e,["uri"]);n!=null&&h(t,["uri"],n);const r=m(e,["encodedVideo"]);r!=null&&h(t,["videoBytes"],Da(r));const a=m(e,["encoding"]);return a!=null&&h(t,["mimeType"],a),t}function BJ(e){const t={},n=m(e,["gcsUri"]);n!=null&&h(t,["uri"],n);const r=m(e,["bytesBase64Encoded"]);r!=null&&h(t,["videoBytes"],Da(r));const a=m(e,["mimeType"]);return a!=null&&h(t,["mimeType"],a),t}function qJ(e){const t={},n=m(e,["image"]);n!=null&&h(t,["_self"],Yn(n));const r=m(e,["maskMode"]);return r!=null&&h(t,["maskMode"],r),t}function HJ(e){const t={},n=m(e,["image"]);n!=null&&h(t,["image"],Of(n));const r=m(e,["referenceType"]);return r!=null&&h(t,["referenceType"],r),t}function VJ(e){const t={},n=m(e,["image"]);n!=null&&h(t,["image"],Yn(n));const r=m(e,["referenceType"]);return r!=null&&h(t,["referenceType"],r),t}function FM(e){const t={},n=m(e,["uri"]);n!=null&&h(t,["uri"],n);const r=m(e,["videoBytes"]);r!=null&&h(t,["encodedVideo"],Da(r));const a=m(e,["mimeType"]);return a!=null&&h(t,["encoding"],a),t}function YM(e){const t={},n=m(e,["uri"]);n!=null&&h(t,["gcsUri"],n);const r=m(e,["videoBytes"]);r!=null&&h(t,["bytesBase64Encoded"],Da(r));const a=m(e,["mimeType"]);return a!=null&&h(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $J="Content-Type",GJ="X-Server-Timeout",FJ="User-Agent",Vh="x-goog-api-client",YJ="1.29.1",KJ=`google-genai-sdk/${YJ}`,JJ="v1beta1",XJ="v1beta",kw=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class WJ{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:JJ,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:XJ,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[o,l]of Object.entries(t.queryParams))a.searchParams.append(o,String(l));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,a.toString(),t.abortSignal),this.unaryApiCall(a,i,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[a,i]of Object.entries(n))typeof i=="object"?r[a]=Object.assign(Object.assign({},r[a]),i):i!==void 0&&(r[a]=i);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,a.toString(),t.abortSignal),this.streamApiCall(a,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,a){if(n&&n.timeout||a){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>i.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}a&&a.addEventListener("abort",()=>{i.abort()}),t.signal=o}return n&&n.extraBody!==null&&ZJ(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await Mw(a),new Uh(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await Mw(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){var n;return ro(this,arguments,function*(){const a=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:s}=yield Re(a.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=i.decode(s,{stream:!0});try{const f=JSON.parse(u);if("error"in f){const p=JSON.parse(JSON.stringify(f.error)),g=p.status,y=p.code,b=`got status: ${g}. ${JSON.stringify(f)}`;if(y>=400&&y<600)throw new Pf({message:b,status:y})}}catch(f){if(f.name==="ApiError")throw f}o+=u;let c=o.match(kw);for(;c;){const f=c[1];try{const p=new Response(f,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Re(new Uh(p)),o=o.slice(c[0].length),c=o.match(kw)}catch(p){throw new Error(`exception parsing stream chunk ${f}. ${p}`)}}}}finally{a.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=KJ+" "+this.clientOptions.userAgentExtra;return t[FJ]=n,t[Vh]=n,t[$J]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[a,i]of Object.entries(t.headers))r.append(a,i);t.timeout&&t.timeout>0&&r.append(GJ,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const i=this.clientOptions.uploader,o=await i.stat(t);a.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=l;const s={file:a},u=this.getFileName(t),c=Y("upload/v1beta/files",s._url),f=await this.fetchUploadUrl(c,a.sizeBytes,a.mimeType,u,s,n==null?void 0:n.httpOptions);return i.upload(t,f,this)}async uploadFileToFileSearchStore(t,n,r){var a;const i=this.clientOptions.uploader,o=await i.stat(n),l=String(o.size),s=(a=r==null?void 0:r.mimeType)!==null&&a!==void 0?a:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&r.customMetadata&&(f.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(f.chunkingConfig=r.chunkingConfig);const p=await this.fetchUploadUrl(u,l,s,c,f,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,a,i,o){var l;let s={};o?s=o:s={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},a?{"X-Goog-Upload-File-Name":a}:{})};const u=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:s});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(l=u==null?void 0:u.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Mw(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(r);throw n>=400&&n<600?new Pf({message:a,status:n}):new Error(a)}}function ZJ(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,o){const l=Object.assign({},i);for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s)){const u=o[s],c=l[s];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?l[s]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${s}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),l[s]=u)}return l}const a=r(n,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QJ="mcp_used/unknown";let eX=!1;function KM(e){for(const t of e)if(tX(t)||typeof t=="object"&&"inputSchema"in t)return!0;return eX}function JM(e){var t;const n=(t=e[Vh])!==null&&t!==void 0?t:"";e[Vh]=(n+` ${QJ}`).trimStart()}function tX(e){return e!==null&&typeof e=="object"&&e instanceof q0}function nX(e,t=100){return ro(this,arguments,function*(){let r,a=0;for(;a<t;){const i=yield Re(e.listTools({cursor:r}));for(const o of i.tools)yield yield Re(o),a++;if(!i.nextCursor)break;r=i.nextCursor}})}class q0{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new q0(t,n)}async initialize(){var t,n,r,a;if(this.mcpTools.length>0)return;const i={},o=[];for(const c of this.mcpClients)try{for(var l=!0,s=(n=void 0,Ol(nX(c))),u;u=await s.next(),t=u.done,!t;l=!0){a=u.value,l=!1;const f=a;o.push(f);const p=f.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=c}}catch(f){n={error:f}}finally{try{!l&&!t&&(r=s.return)&&await r.call(s)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),l9(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const o=await a.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rX(e,t,n){const r=new QF;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(r,a),t(r)}class aX{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=lX(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),s=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${l}`;let u=()=>{};const c=new Promise(w=>{u=w}),f=t.callbacks,p=function(){u({})},g=this.apiClient,y={onopen:p,onmessage:w=>{rX(g,f.onmessage,w)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(w){}},b=this.webSocketFactory.create(s,oX(o),y);b.connect(),await c;const S={setup:{model:ve(this.apiClient,t.model)}};return b.send(JSON.stringify(S)),new iX(b,this.apiClient)}}class iX{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=XY(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=JY(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Fi.PLAY)}pause(){this.sendPlaybackControl(Fi.PAUSE)}stop(){this.sendPlaybackControl(Fi.STOP)}resetContext(){this.sendPlaybackControl(Fi.RESET_CONTEXT)}close(){this.conn.close()}}function oX(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function lX(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function uX(e,t,n){const r=new ZF;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const i=JSON.parse(a);if(e.isVertexAI()){const o=QY(i);Object.assign(r,o)}else Object.assign(r,i);t(r)}class cX{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new aX(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,a,i,o,l;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const s=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();t.config&&t.config.tools&&KM(t.config.tools)&&JM(f);const p=pX(f);if(this.apiClient.isVertexAI())c=`${s}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,c);else{const I=this.apiClient.getApiKey();let O="BidiGenerateContent",C="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",C="access_token"),c=`${s}/ws/google.ai.generativelanguage.${u}.GenerativeService.${O}?${C}=${I}`}let g=()=>{};const y=new Promise(I=>{g=I}),b=t.callbacks,E=function(){var I;(I=b==null?void 0:b.onopen)===null||I===void 0||I.call(b),g({})},v=this.apiClient,S={onopen:E,onmessage:I=>{uX(v,b.onmessage,I)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(I){}},w=this.webSocketFactory.create(c,mX(p),S);w.connect(),await y;let _=ve(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&_.startsWith("publishers/")){const I=this.apiClient.getProject(),O=this.apiClient.getLocation();_=`projects/${I}/locations/${O}/`+_}let T={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[od.AUDIO]}:t.config.responseModalities=[od.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(l=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],N=[];for(const I of A)if(this.isCallableTool(I)){const O=I;N.push(await O.tool())}else N.push(I);N.length>0&&(t.config.tools=N);const k={model:_,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?T=KY(this.apiClient,k):T=YY(this.apiClient,k),delete T.config,w.send(JSON.stringify(T)),new fX(w,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const dX={turnComplete:!0};class fX{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Mn(n.turns),t.isVertexAI()||(r=r.map(a=>If(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(sX)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},dX),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ZY(t)}:n={realtimeInput:WY(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function mX(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function pX(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pw=10;function Iw(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const o of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(ao(o)){a=!0;break}if(!a)return!0;const i=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function ao(e){return"callTool"in e&&typeof e.callTool=="function"}function hX(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(a=>ao(a)))!==null&&r!==void 0?r:!1}function Dw(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,a)=>{if(ao(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(a)}),n}function Ow(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gX extends Kr{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,a,i,o,l;const s=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!hX(n)||Iw(n.config))return await this.generateContentInternal(s);const u=Dw(n);if(u.length>0){const b=u.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let c,f;const p=Mn(s.contents),g=(i=(a=(r=s.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&i!==void 0?i:Pw;let y=0;for(;y<g&&(c=await this.generateContentInternal(s),!(!c.functionCalls||c.functionCalls.length===0));){const b=c.candidates[0].content,E=[];for(const v of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(ao(v)){const w=await v.callTool(c.functionCalls);E.push(...w)}y++,f={role:"user",parts:E},s.contents=Mn(s.contents),s.contents.push(b),s.contents.push(f),Ow(s.config)&&(p.push(b),p.push(f))}return Ow(s.config)&&(c.automaticFunctionCallingHistory=p),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Iw(n.config)){const a=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(a)}const r=Dw(n);if(r.length>0){const a=r.map(i=>`tools[${i}]`).join(", ");throw new Error(`Incompatible tools found at ${a}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let i;const o=[];if(r!=null&&r.generatedImages)for(const s of r.generatedImages)s&&(s!=null&&s.safetyAttributes)&&((a=s==null?void 0:s.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?i=s==null?void 0:s.safetyAttributes:o.push(s);let l;return i?l={generatedImages:o,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new wi(Br.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{var r,a,i,o,l,s;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((a=n.video)===null||a===void 0)&&a.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(i=n.source)===null||i===void 0?void 0:i.video)===null||o===void 0)&&o.uri&&(!((s=(l=n.source)===null||l===void 0?void 0:l.video)===null||s===void 0)&&s.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,a;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const o=await Promise.all(i.map(async s=>ao(s)?await s.tool():s)),l={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:o})};if(l.config.tools=o,t.config&&t.config.tools&&KM(t.config.tools)){const s=(a=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let u=Object.assign({},s);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),JM(u),l.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return l}async initAfcToolsMap(t){var n,r,a;const i=new Map;for(const o of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ao(o)){const l=o,s=await l.tool();for(const u of(a=s.functionDeclarations)!==null&&a!==void 0?a:[]){if(!u.name)throw new Error("Function declaration name is required.");if(i.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);i.set(u.name,l)}}return i}async processAfcStream(t){var n,r,a;const i=(a=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:Pw;let o=!1,l=0;const s=await this.initAfcToolsMap(t);return function(u,c,f){var p,g;return ro(this,arguments,function*(){for(var y,b,E,v;l<i;){o&&(l++,o=!1);const T=yield Re(u.processParamsMaybeAddMcpUsage(f)),A=yield Re(u.generateContentStreamInternal(T)),N=[],k=[];try{for(var S=!0,w=(b=void 0,Ol(A)),_;_=yield Re(w.next()),y=_.done,!y;S=!0){v=_.value,S=!1;const I=v;if(yield yield Re(I),I.candidates&&(!((p=I.candidates[0])===null||p===void 0)&&p.content)){k.push(I.candidates[0].content);for(const O of(g=I.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(l<i&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(O.functionCall.name)){const C=yield Re(c.get(O.functionCall.name).callTool([O.functionCall]));N.push(...C)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(I){b={error:I}}finally{try{!S&&!y&&(E=w.return)&&(yield Re(E.call(w)))}finally{if(b)throw b.error}}if(N.length>0){o=!0;const I=new dl;I.candidates=[{content:{role:"user",parts:N}}],yield yield Re(I);const O=[];O.push(...k),O.push({role:"user",parts:N});const C=Mn(f.contents).concat(O);f.contents=C}else break}})}(this,s,t)}async generateContentInternal(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=Cw(this.apiClient,t);return l=Y("{model}:generateContent",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=Nw(c),p=new dl;return Object.assign(p,f),p})}else{const u=Tw(this.apiClient,t);return l=Y("{model}:generateContent",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=Aw(c),p=new dl;return Object.assign(p,f),p})}}async generateContentStreamInternal(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=Cw(this.apiClient,t);return l=Y("{model}:streamGenerateContent?alt=sse",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return ro(this,arguments,function*(){var p,g,y,b;try{for(var E=!0,v=Ol(f),S;S=yield Re(v.next()),p=S.done,!p;E=!0){b=S.value,E=!1;const w=b,_=Nw(yield Re(w.json()));_.sdkHttpResponse={headers:w.headers};const T=new dl;Object.assign(T,_),yield yield Re(T)}}catch(w){g={error:w}}finally{try{!E&&!p&&(y=v.return)&&(yield Re(y.call(v)))}finally{if(g)throw g.error}}})})}else{const u=Tw(this.apiClient,t);return l=Y("{model}:streamGenerateContent?alt=sse",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(f){return ro(this,arguments,function*(){var p,g,y,b;try{for(var E=!0,v=Ol(f),S;S=yield Re(v.next()),p=S.done,!p;E=!0){b=S.value,E=!1;const w=b,_=Aw(yield Re(w.json()));_.sdkHttpResponse={headers:w.headers};const T=new dl;Object.assign(T,_),yield yield Re(T)}}catch(w){g={error:w}}finally{try{!E&&!p&&(y=v.return)&&(yield Re(y.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=kK(this.apiClient,t);return l=Y("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=PK(c),p=new uw;return Object.assign(p,f),p})}else{const u=NK(this.apiClient,t);return l=Y("{model}:batchEmbedContents",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=MK(c),p=new uw;return Object.assign(p,f),p})}}async generateImagesInternal(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=BK(this.apiClient,t);return l=Y("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=HK(c),p=new cw;return Object.assign(p,f),p})}else{const u=zK(this.apiClient,t);return l=Y("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=qK(c),p=new cw;return Object.assign(p,f),p})}}async editImageInternal(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const l=_K(this.apiClient,t);return i=Y("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:s.headers},c})),a.then(s=>{const u=TK(s),c=new qF;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const l=LJ(this.apiClient,t);return i=Y("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:s.headers},c})),a.then(s=>{const u=UJ(s),c=new HF;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const l=xJ(this.apiClient,t);return i=Y("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a.then(s=>{const u=bJ(s),c=new VF;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const l=CJ(this.apiClient,t);return i=Y("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a.then(s=>{const u=AJ(s),c=new $F;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=iJ(this.apiClient,t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Hh(c))}else{const u=aJ(this.apiClient,t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>qh(c))}}async listInternal(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=fJ(this.apiClient,t);return l=Y("{models_url}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=pJ(c),p=new dw;return Object.assign(p,f),p})}else{const u=dJ(this.apiClient,t);return l=Y("{models_url}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=mJ(c),p=new dw;return Object.assign(p,f),p})}}async update(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=RJ(this.apiClient,t);return l=Y("{model}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Hh(c))}else{const u=OJ(this.apiClient,t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>qh(c))}}async delete(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=bK(this.apiClient,t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=EK(c),p=new fw;return Object.assign(p,f),p})}else{const u=xK(this.apiClient,t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=SK(c),p=new fw;return Object.assign(p,f),p})}}async countTokens(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=gK(this.apiClient,t);return l=Y("{model}:countTokens",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=vK(c),p=new mw;return Object.assign(p,f),p})}else{const u=hK(this.apiClient,t);return l=Y("{model}:countTokens",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=yK(c),p=new mw;return Object.assign(p,f),p})}}async computeTokens(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const l=sK(this.apiClient,t);return i=Y("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:s.headers},c})),a.then(s=>{const u=uK(s),c=new GF;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=KK(this.apiClient,t);return l=Y("{model}:predictLongRunning",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=FK(c),p=new ld;return Object.assign(p,f),p})}else{const u=YK(this.apiClient,t);return l=Y("{model}:predictLongRunning",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=GK(c),p=new ld;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yX extends Kr{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=RF(t);return l=Y("{operationName}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else{const u=OF(t);return l=Y("{operationName}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o}}async fetchPredictVideosOperationInternal(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const l=AF(t);return i=Y("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vX(e){const t={},n=m(e,["data"]);if(n!=null&&h(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function xX(e){const t={},n=m(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>AX(i))),h(t,["parts"],a)}const r=m(e,["role"]);return r!=null&&h(t,["role"],r),t}function bX(e,t,n){const r={},a=m(t,["expireTime"]);n!==void 0&&a!=null&&h(n,["expireTime"],a);const i=m(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&h(n,["newSessionExpireTime"],i);const o=m(t,["uses"]);n!==void 0&&o!=null&&h(n,["uses"],o);const l=m(t,["liveConnectConstraints"]);n!==void 0&&l!=null&&h(n,["bidiGenerateContentSetup"],CX(e,l));const s=m(t,["lockAdditionalFields"]);return n!==void 0&&s!=null&&h(n,["fieldMask"],s),r}function SX(e,t){const n={},r=m(t,["config"]);return r!=null&&h(n,["config"],bX(e,r,n)),n}function EX(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&h(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&h(t,["mimeType"],r),t}function wX(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&h(t,["enableWidget"],n),t}function _X(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&h(t,["timeRangeFilter"],n),t}function TX(e,t){const n={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&h(t,["setup","generationConfig"],r);const a=m(e,["responseModalities"]);t!==void 0&&a!=null&&h(t,["setup","generationConfig","responseModalities"],a);const i=m(e,["temperature"]);t!==void 0&&i!=null&&h(t,["setup","generationConfig","temperature"],i);const o=m(e,["topP"]);t!==void 0&&o!=null&&h(t,["setup","generationConfig","topP"],o);const l=m(e,["topK"]);t!==void 0&&l!=null&&h(t,["setup","generationConfig","topK"],l);const s=m(e,["maxOutputTokens"]);t!==void 0&&s!=null&&h(t,["setup","generationConfig","maxOutputTokens"],s);const u=m(e,["mediaResolution"]);t!==void 0&&u!=null&&h(t,["setup","generationConfig","mediaResolution"],u);const c=m(e,["seed"]);t!==void 0&&c!=null&&h(t,["setup","generationConfig","seed"],c);const f=m(e,["speechConfig"]);t!==void 0&&f!=null&&h(t,["setup","generationConfig","speechConfig"],B0(f));const p=m(e,["thinkingConfig"]);t!==void 0&&p!=null&&h(t,["setup","generationConfig","thinkingConfig"],p);const g=m(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&h(t,["setup","generationConfig","enableAffectiveDialog"],g);const y=m(e,["systemInstruction"]);t!==void 0&&y!=null&&h(t,["setup","systemInstruction"],xX(It(y)));const b=m(e,["tools"]);if(t!==void 0&&b!=null){let A=Yo(b);Array.isArray(A)&&(A=A.map(N=>kX(Fo(N)))),h(t,["setup","tools"],A)}const E=m(e,["sessionResumption"]);t!==void 0&&E!=null&&h(t,["setup","sessionResumption"],NX(E));const v=m(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&h(t,["setup","inputAudioTranscription"],v);const S=m(e,["outputAudioTranscription"]);t!==void 0&&S!=null&&h(t,["setup","outputAudioTranscription"],S);const w=m(e,["realtimeInputConfig"]);t!==void 0&&w!=null&&h(t,["setup","realtimeInputConfig"],w);const _=m(e,["contextWindowCompression"]);t!==void 0&&_!=null&&h(t,["setup","contextWindowCompression"],_);const T=m(e,["proactivity"]);return t!==void 0&&T!=null&&h(t,["setup","proactivity"],T),n}function CX(e,t){const n={},r=m(t,["model"]);r!=null&&h(n,["setup","model"],ve(e,r));const a=m(t,["config"]);return a!=null&&h(n,["config"],TX(a,n)),n}function AX(e){const t={},n=m(e,["functionCall"]);n!=null&&h(t,["functionCall"],n);const r=m(e,["codeExecutionResult"]);r!=null&&h(t,["codeExecutionResult"],r);const a=m(e,["executableCode"]);a!=null&&h(t,["executableCode"],a);const i=m(e,["fileData"]);i!=null&&h(t,["fileData"],EX(i));const o=m(e,["functionResponse"]);o!=null&&h(t,["functionResponse"],o);const l=m(e,["inlineData"]);l!=null&&h(t,["inlineData"],vX(l));const s=m(e,["text"]);s!=null&&h(t,["text"],s);const u=m(e,["thought"]);u!=null&&h(t,["thought"],u);const c=m(e,["thoughtSignature"]);c!=null&&h(t,["thoughtSignature"],c);const f=m(e,["videoMetadata"]);return f!=null&&h(t,["videoMetadata"],f),t}function NX(e){const t={},n=m(e,["handle"]);if(n!=null&&h(t,["handle"],n),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function kX(e){const t={},n=m(e,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),h(t,["functionDeclarations"],c)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(e,["googleSearchRetrieval"]);r!=null&&h(t,["googleSearchRetrieval"],r);const a=m(e,["computerUse"]);a!=null&&h(t,["computerUse"],a);const i=m(e,["fileSearch"]);i!=null&&h(t,["fileSearch"],i);const o=m(e,["codeExecution"]);if(o!=null&&h(t,["codeExecution"],o),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=m(e,["googleMaps"]);l!=null&&h(t,["googleMaps"],wX(l));const s=m(e,["googleSearch"]);s!=null&&h(t,["googleSearch"],_X(s));const u=m(e,["urlContext"]);return u!=null&&h(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MX(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(i=>`${n}.${i}`);t.push(...a)}else t.push(n)}return t.join(",")}function PX(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(n){const i=MX(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];a.length>0&&(l=a.map(u=>o.includes(u)?`generationConfig.${u}`:u));const s=[];i&&s.push(i),l.length>0&&s.push(...l),s.length>0?e.fieldMask=s.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class IX extends Kr{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=SX(this.apiClient,t);i=Y("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const s=PX(l,t.config);return a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),a.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DX(e,t){const n={},r=m(e,["displayName"]);return t!==void 0&&r!=null&&h(t,["displayName"],r),n}function OX(e){const t={},n=m(e,["config"]);return n!=null&&DX(n,t),t}function RX(e,t){const n={},r=m(e,["force"]);return t!==void 0&&r!=null&&h(t,["_query","force"],r),n}function jX(e){const t={},n=m(e,["name"]);n!=null&&h(t,["_url","name"],n);const r=m(e,["config"]);return r!=null&&RX(r,t),t}function LX(e){const t={},n=m(e,["name"]);return n!=null&&h(t,["_url","name"],n),t}function UX(e,t){const n={},r=m(e,["customMetadata"]);if(t!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),h(t,["customMetadata"],i)}const a=m(e,["chunkingConfig"]);return t!==void 0&&a!=null&&h(t,["chunkingConfig"],a),n}function zX(e){const t={},n=m(e,["name"]);n!=null&&h(t,["name"],n);const r=m(e,["metadata"]);r!=null&&h(t,["metadata"],r);const a=m(e,["done"]);a!=null&&h(t,["done"],a);const i=m(e,["error"]);i!=null&&h(t,["error"],i);const o=m(e,["response"]);return o!=null&&h(t,["response"],qX(o)),t}function BX(e){const t={},n=m(e,["fileSearchStoreName"]);n!=null&&h(t,["_url","file_search_store_name"],n);const r=m(e,["fileName"]);r!=null&&h(t,["fileName"],r);const a=m(e,["config"]);return a!=null&&UX(a,t),t}function qX(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["parent"]);r!=null&&h(t,["parent"],r);const a=m(e,["documentName"]);return a!=null&&h(t,["documentName"],a),t}function HX(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const a=m(e,["pageToken"]);return t!==void 0&&a!=null&&h(t,["_query","pageToken"],a),n}function VX(e){const t={},n=m(e,["config"]);return n!=null&&HX(n,t),t}function $X(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const a=m(e,["fileSearchStores"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),h(t,["fileSearchStores"],i)}return t}function GX(e,t){const n={},r=m(e,["mimeType"]);t!==void 0&&r!=null&&h(t,["mimeType"],r);const a=m(e,["displayName"]);t!==void 0&&a!=null&&h(t,["displayName"],a);const i=m(e,["customMetadata"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),h(t,["customMetadata"],l)}const o=m(e,["chunkingConfig"]);return t!==void 0&&o!=null&&h(t,["chunkingConfig"],o),n}function FX(e){const t={},n=m(e,["fileSearchStoreName"]);n!=null&&h(t,["_url","file_search_store_name"],n);const r=m(e,["config"]);return r!=null&&GX(r,t),t}function YX(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&h(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KX(e,t){const n={},r=m(e,["force"]);return t!==void 0&&r!=null&&h(t,["_query","force"],r),n}function JX(e){const t={},n=m(e,["name"]);n!=null&&h(t,["_url","name"],n);const r=m(e,["config"]);return r!=null&&KX(r,t),t}function XX(e){const t={},n=m(e,["name"]);return n!=null&&h(t,["_url","name"],n),t}function WX(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const a=m(e,["pageToken"]);return t!==void 0&&a!=null&&h(t,["_query","pageToken"],a),n}function ZX(e){const t={},n=m(e,["parent"]);n!=null&&h(t,["_url","parent"],n);const r=m(e,["config"]);return r!=null&&WX(r,t),t}function QX(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&h(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const a=m(e,["documents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),h(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eW extends Kr{constructor(t){super(),this.apiClient=t,this.list=async n=>new wi(Br.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=XX(t);return i=Y("{name}",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a.then(s=>s)}}async delete(t){var n,r;let a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=JX(t);a=Y("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ZX(t);return i=Y("{parent}/documents",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a.then(s=>{const u=QX(s),c=new FF;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tW extends Kr{constructor(t,n=new eW(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new wi(Br.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=OX(t);return i=Y("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a.then(s=>s)}}async get(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=LX(t);return i=Y("{name}",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a.then(s=>s)}}async delete(t){var n,r;let a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=jX(t);a=Y("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=VX(t);return i=Y("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a.then(s=>{const u=$X(s),c=new YF;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=FX(t);return i=Y("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a.then(s=>{const u=YX(s),c=new KF;return Object.assign(c,u),c})}}async importFile(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=BX(t);return i=Y("{file_search_store_name}:importFile",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json()),a.then(s=>{const u=zX(s),c=new R0;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nW(e,t){const n={},r=m(e,["name"]);return r!=null&&h(n,["_url","name"],r),n}function rW(e,t){const n={},r=m(e,["name"]);return r!=null&&h(n,["_url","name"],r),n}function aW(e,t,n){const r={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=m(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&h(t,["displayName"],a),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=m(e,["epochCount"]);t!==void 0&&i!=null&&h(t,["tuningTask","hyperparameters","epochCount"],i);const o=m(e,["learningRateMultiplier"]);if(o!=null&&h(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=m(e,["batchSize"]);t!==void 0&&l!=null&&h(t,["tuningTask","hyperparameters","batchSize"],l);const s=m(e,["learningRate"]);if(t!==void 0&&s!=null&&h(t,["tuningTask","hyperparameters","learningRate"],s),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function iW(e,t,n){const r={};let a=m(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=m(e,["validationDataset"]);t!==void 0&&g!=null&&h(t,["supervisedTuningSpec"],Rw(g))}else if(a==="PREFERENCE_TUNING"){const g=m(e,["validationDataset"]);t!==void 0&&g!=null&&h(t,["preferenceOptimizationSpec"],Rw(g))}const i=m(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&h(t,["tunedModelDisplayName"],i);const o=m(e,["description"]);t!==void 0&&o!=null&&h(t,["description"],o);let l=m(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=m(e,["epochCount"]);t!==void 0&&g!=null&&h(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(l==="PREFERENCE_TUNING"){const g=m(e,["epochCount"]);t!==void 0&&g!=null&&h(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let s=m(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=m(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&h(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(s==="PREFERENCE_TUNING"){const g=m(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&h(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=m(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=m(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&h(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=m(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&h(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let c=m(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=m(e,["adapterSize"]);t!==void 0&&g!=null&&h(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(c==="PREFERENCE_TUNING"){const g=m(e,["adapterSize"]);t!==void 0&&g!=null&&h(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=m(e,["labels"]);t!==void 0&&f!=null&&h(t,["labels"],f);const p=m(e,["beta"]);return t!==void 0&&p!=null&&h(t,["preferenceOptimizationSpec","hyperParameters","beta"],p),r}function oW(e,t){const n={},r=m(e,["baseModel"]);r!=null&&h(n,["baseModel"],r);const a=m(e,["preTunedModel"]);a!=null&&h(n,["preTunedModel"],a);const i=m(e,["trainingDataset"]);i!=null&&yW(i);const o=m(e,["config"]);return o!=null&&aW(o,n),n}function lW(e,t){const n={},r=m(e,["baseModel"]);r!=null&&h(n,["baseModel"],r);const a=m(e,["preTunedModel"]);a!=null&&h(n,["preTunedModel"],a);const i=m(e,["trainingDataset"]);i!=null&&vW(i,n,t);const o=m(e,["config"]);return o!=null&&iW(o,n,t),n}function sW(e,t){const n={},r=m(e,["name"]);return r!=null&&h(n,["_url","name"],r),n}function uW(e,t){const n={},r=m(e,["name"]);return r!=null&&h(n,["_url","name"],r),n}function cW(e,t,n){const r={},a=m(e,["pageSize"]);t!==void 0&&a!=null&&h(t,["_query","pageSize"],a);const i=m(e,["pageToken"]);t!==void 0&&i!=null&&h(t,["_query","pageToken"],i);const o=m(e,["filter"]);return t!==void 0&&o!=null&&h(t,["_query","filter"],o),r}function dW(e,t,n){const r={},a=m(e,["pageSize"]);t!==void 0&&a!=null&&h(t,["_query","pageSize"],a);const i=m(e,["pageToken"]);t!==void 0&&i!=null&&h(t,["_query","pageToken"],i);const o=m(e,["filter"]);return t!==void 0&&o!=null&&h(t,["_query","filter"],o),r}function fW(e,t){const n={},r=m(e,["config"]);return r!=null&&cW(r,n),n}function mW(e,t){const n={},r=m(e,["config"]);return r!=null&&dW(r,n),n}function pW(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const a=m(e,["nextPageToken"]);a!=null&&h(n,["nextPageToken"],a);const i=m(e,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>XM(l))),h(n,["tuningJobs"],o)}return n}function hW(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const a=m(e,["nextPageToken"]);a!=null&&h(n,["nextPageToken"],a);const i=m(e,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>$h(l))),h(n,["tuningJobs"],o)}return n}function gW(e,t){const n={},r=m(e,["name"]);r!=null&&h(n,["model"],r);const a=m(e,["name"]);return a!=null&&h(n,["endpoint"],a),n}function yW(e,t){const n={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(e,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>i)),h(n,["examples","examples"],a)}return n}function vW(e,t,n){const r={};let a=m(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=m(e,["gcsUri"]);t!==void 0&&o!=null&&h(t,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=m(e,["gcsUri"]);t!==void 0&&o!=null&&h(t,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=m(e,["vertexDatasetResource"]);t!==void 0&&o!=null&&h(t,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=m(e,["vertexDatasetResource"]);t!==void 0&&o!=null&&h(t,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function XM(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const a=m(e,["name"]);a!=null&&h(n,["name"],a);const i=m(e,["state"]);i!=null&&h(n,["state"],PM(i));const o=m(e,["createTime"]);o!=null&&h(n,["createTime"],o);const l=m(e,["tuningTask","startTime"]);l!=null&&h(n,["startTime"],l);const s=m(e,["tuningTask","completeTime"]);s!=null&&h(n,["endTime"],s);const u=m(e,["updateTime"]);u!=null&&h(n,["updateTime"],u);const c=m(e,["description"]);c!=null&&h(n,["description"],c);const f=m(e,["baseModel"]);f!=null&&h(n,["baseModel"],f);const p=m(e,["_self"]);return p!=null&&h(n,["tunedModel"],gW(p)),n}function $h(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const a=m(e,["name"]);a!=null&&h(n,["name"],a);const i=m(e,["state"]);i!=null&&h(n,["state"],PM(i));const o=m(e,["createTime"]);o!=null&&h(n,["createTime"],o);const l=m(e,["startTime"]);l!=null&&h(n,["startTime"],l);const s=m(e,["endTime"]);s!=null&&h(n,["endTime"],s);const u=m(e,["updateTime"]);u!=null&&h(n,["updateTime"],u);const c=m(e,["error"]);c!=null&&h(n,["error"],c);const f=m(e,["description"]);f!=null&&h(n,["description"],f);const p=m(e,["baseModel"]);p!=null&&h(n,["baseModel"],p);const g=m(e,["tunedModel"]);g!=null&&h(n,["tunedModel"],g);const y=m(e,["preTunedModel"]);y!=null&&h(n,["preTunedModel"],y);const b=m(e,["supervisedTuningSpec"]);b!=null&&h(n,["supervisedTuningSpec"],b);const E=m(e,["preferenceOptimizationSpec"]);E!=null&&h(n,["preferenceOptimizationSpec"],E);const v=m(e,["tuningDataStats"]);v!=null&&h(n,["tuningDataStats"],v);const S=m(e,["encryptionSpec"]);S!=null&&h(n,["encryptionSpec"],S);const w=m(e,["partnerModelTuningSpec"]);w!=null&&h(n,["partnerModelTuningSpec"],w);const _=m(e,["customBaseModel"]);_!=null&&h(n,["customBaseModel"],_);const T=m(e,["experiment"]);T!=null&&h(n,["experiment"],T);const A=m(e,["labels"]);A!=null&&h(n,["labels"],A);const N=m(e,["outputUri"]);N!=null&&h(n,["outputUri"],N);const k=m(e,["pipelineJob"]);k!=null&&h(n,["pipelineJob"],k);const I=m(e,["serviceAccount"]);I!=null&&h(n,["serviceAccount"],I);const O=m(e,["tunedModelDisplayName"]);O!=null&&h(n,["tunedModelDisplayName"],O);const C=m(e,["veoTuningSpec"]);return C!=null&&h(n,["veoTuningSpec"],C),n}function xW(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const a=m(e,["name"]);a!=null&&h(n,["name"],a);const i=m(e,["metadata"]);i!=null&&h(n,["metadata"],i);const o=m(e,["done"]);o!=null&&h(n,["done"],o);const l=m(e,["error"]);return l!=null&&h(n,["error"],l),n}function Rw(e,t){const n={},r=m(e,["gcsUri"]);r!=null&&h(n,["validationDatasetUri"],r);const a=m(e,["vertexDatasetResource"]);return a!=null&&h(n,["validationDatasetUri"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bW extends Kr{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new wi(Br.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:a});return i.baseModel=void 0,await this.tuneInternal(i)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),i=await this.tuneMldevInternal(a);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:Lh.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=uW(t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>$h(c))}else{const u=sW(t);return l=Y("{name}",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>XM(c))}}async listInternal(t){var n,r,a,i;let o,l="",s={};if(this.apiClient.isVertexAI()){const u=mW(t);return l=Y("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=hW(c),p=new pw;return Object.assign(p,f),p})}else{const u=fW(t);return l=Y("tunedModels",u._url),s=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=pW(c),p=new pw;return Object.assign(p,f),p})}}async cancel(t){var n,r,a,i;let o="",l={};if(this.apiClient.isVertexAI()){const s=rW(t);o=Y("{name}:cancel",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const s=nW(t);o=Y("{name}:cancel",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const l=lW(t,t);return i=Y("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:s.headers},c})),a.then(s=>$h(s))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=oW(t);return i=Y("tunedModels",l._url),o=l._query,delete l._url,delete l._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(s=>s.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:s.headers},c})),a.then(s=>xW(s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SW{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const EW=1024*1024*8,wW=3,_W=1e3,TW=2,ud="x-goog-upload-status";async function CW(e,t,n){var r;const a=await WM(e,t,n),i=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[ud])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function AW(e,t,n){var r;const a=await WM(e,t,n),i=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[ud])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=TM(i),l=new j0;return Object.assign(l,o),l}async function WM(e,t,n){var r,a;let i=0,o=0,l=new Uh(new Response),s="upload";for(i=e.size;o<i;){const u=Math.min(EW,i-o),c=e.slice(o,o+u);o+u>=i&&(s+=", finalize");let f=0,p=_W;for(;f<wW&&(l=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":s,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[ud]));)f++,await kW(p),p=p*TW;if(o+=u,((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[ud])!=="active")break;if(i<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function NW(e){return{size:e.size,type:e.type}}function kW(e){return new Promise(t=>setTimeout(t,e))}class MW{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await CW(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await AW(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await NW(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PW{create(t,n,r){return new IW(t,n,r)}}class IW{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jw="x-goog-api-key";class DW{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(jw)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(jw,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OW="gl-node/";class RW{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=TF(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const a=new DW(this.apiKey);this.apiClient=new WJ({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:OW+"web",uploader:new MW,downloader:new SW}),this.models=new gX(this.apiClient),this.live=new cX(this.apiClient,a,new PW),this.batches=new X9(this.apiClient),this.chats=new NY(this.models,this.apiClient),this.caches=new TY(this.apiClient),this.files=new UY(this.apiClient),this.operations=new yX(this.apiClient),this.authTokens=new IX(this.apiClient),this.tunings=new bW(this.apiClient),this.fileSearchStores=new tW(this.apiClient)}}const jW=async e=>({inlineData:{data:await new Promise(n=>{const r=new FileReader;r.onloadend=()=>n(r.result.split(",")[1]),r.readAsDataURL(e)}),mimeType:e.type}}),LW=async()=>{var e,t;try{const r=(e=(await Fg()).gemini_api_key)==null?void 0:e.value;if(r&&r.trim()!=="")return console.log(" Using API key from company settings"),r;console.log(" API key not found in company settings, trying system settings")}catch(n){console.warn(" Could not fetch company settings:",n)}try{const r=(t=(await jo()).gemini_api_key)==null?void 0:t.value;if(r&&r.trim()!=="")return console.log(" Using API key from system settings"),r;console.log(" API key not found in system settings, trying environment variable")}catch(n){console.warn(" Could not fetch system settings:",n)}throw new Error(" API Key do Gemini no configurada. Configure nas Configuraes da Empresa ou nas Configuraes do Sistema, ou adicione VITE_GEMINI_API_KEY no arquivo .env")},UW=async e=>{const t=await LW(),n=new RW({apiKey:t}),r=await jW(e),a=`
    Analyze the provided invoice image. Extract all line items, including product name, quantity, unit price, and suggest an appropriate category.
    
    Return the data as a JSON object. The root should be an object with a single key "items", which is an array of objects. 
    Each object in the array should have five keys:
    - "productName" (string): Name of the product
    - "quantity" (number): Quantity purchased
    - "unitPrice" (number): Unit price
    - "imageUrl" (string): A URL for an appropriate product image using the format: https://source.unsplash.com/400x400/?{product-keywords}
      where {product-keywords} should be relevant English keywords separated by commas (e.g., "apple,fruit" for apple, "milk,dairy" for milk)
    - "suggestedCategory" (string): An appropriate category name in Portuguese for this product. Common categories include:
      * Alimentos e Bebidas (for food and drinks)
      * Limpeza (for cleaning products)
      * Higiene Pessoal (for personal hygiene)
      * Papelaria (for stationery)
      * Eletrnicos (for electronics)
      * Mveis e Decorao (for furniture and decoration)
      * Roupas e Acessrios (for clothing and accessories)
      * Ferramentas (for tools)
      * Automotivo (for automotive)
      * Outros (for other products)
    
    For imageUrl, use English keywords that best describe the product visually. Examples:
    - "Arroz"  https://source.unsplash.com/400x400/?rice,grain
    - "Leite"  https://source.unsplash.com/400x400/?milk,dairy
    - "Ma"  https://source.unsplash.com/400x400/?apple,fruit
    - "Sabo em P"  https://source.unsplash.com/400x400/?detergent,powder
    
    If you cannot find any items, return an empty array.
    Do not include any text outside of the JSON object in your response.
  `;try{const o=(await n.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[r,{text:a}]},config:{responseMimeType:"application/json",responseSchema:{type:Mt.OBJECT,properties:{items:{type:Mt.ARRAY,items:{type:Mt.OBJECT,properties:{productName:{type:Mt.STRING},quantity:{type:Mt.NUMBER},unitPrice:{type:Mt.NUMBER},imageUrl:{type:Mt.STRING},suggestedCategory:{type:Mt.STRING}},required:["productName","quantity","unitPrice","imageUrl","suggestedCategory"]}}}}}})).text.trim();return JSON.parse(o).items||[]}catch(i){throw console.error("Error calling Gemini API:",i),new Error("Failed to parse invoice. The AI model could not process the request.")}},zW=({currentUser:e})=>{const[t,n]=x.useState(null),[r,a]=x.useState(!1),[i,o]=x.useState(!1),[l,s]=x.useState(null),[u,c]=x.useState(null),[f,p]=x.useState([]),[g,y]=x.useState(null),[b,E]=x.useState(1),[v,S]=x.useState(1),[w,_]=x.useState(10),[T,A]=x.useState([]),[N,k]=x.useState([]),[I,O]=x.useState(1);Ga.useEffect(()=>{const D=async()=>{var Q,J,se;try{const te=await jo();if((Q=te.default_category_id)!=null&&Q.value&&E(parseInt(te.default_category_id.value)),(J=te.default_supplier_id)!=null&&J.value){const le=parseInt(te.default_supplier_id.value);S(le),O(le)}(se=te.min_stock_default)!=null&&se.value&&_(parseInt(te.min_stock_default.value))}catch(te){console.warn("Could not load default settings:",te)}},B=async()=>{try{const[Q,J]=await Promise.all([Jl(),vo()]);A(Q),k(J)}catch(Q){console.warn("Could not load suppliers and categories:",Q)}};D(),B()},[]);const C=D=>{var Q;const B=(Q=D.target.files)==null?void 0:Q[0];B&&(n(B),y(URL.createObjectURL(B)),s(null),p([]))},R=()=>{n(null),y(null),p([]),s(null),c(null)},G=D=>{const B=[...f];B[D].isEditing=!0,p(B)},$=D=>{const B=[...f];B[D].isEditing=!1,p(B)},K=D=>{p(f.filter((B,Q)=>Q!==D))},P=(D,B,Q)=>{const J=[...f];B==="quantity"||B==="unitPrice"||B==="categoryId"?J[D][B]=Number(Q):(B==="productName"||B==="imageUrl"||B==="suggestedCategory")&&(J[D][B]=String(Q)),p(J)},L=async()=>{if(!t){s("Por favor, selecione um arquivo de nota fiscal.");return}a(!0),s(null),c(null),p([]);try{const D=await UW(t);D.length===0&&s("Nenhum item foi encontrado na nota fiscal. Tente uma imagem mais ntida.");const B=D.map(Q=>{let J=b;if(Q.suggestedCategory&&N.length>0){const se=Q.suggestedCategory.toLowerCase(),te=N.find(le=>le.name.toLowerCase().includes(se)||se.includes(le.name.toLowerCase()));te&&(J=te.id)}return{...Q,categoryId:J,isEditing:!1}});p(B)}catch(D){s(D.message||"Ocorreu um erro ao processar a nota.")}finally{a(!1)}},V=async()=>{if(f.length===0){s("Nenhum item para adicionar ao estoque.");return}o(!0),s(null),c(null);try{const D={success:0,failed:0,errors:[]};for(const B of f)try{const J=(await yo()).find(te=>te.name.toLowerCase()===B.productName.toLowerCase());let se;J?se=J.id:se=(await qT({name:B.productName,sku:`AUTO-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,categoryId:B.categoryId||b,supplierId:I,price:B.unitPrice,stock:0,minStock:w,imageUrl:B.imageUrl||""})).id,await $T({productId:se,type:tr.In,quantity:B.quantity,userId:e.id,reason:`Entrada via nota fiscal - ${B.quantity} un. @ R$ ${B.unitPrice.toFixed(2)}`}),D.success++}catch(Q){D.failed++,D.errors.push(`${B.productName}: ${Q.message}`)}D.success>0&&(c(` ${D.success} ${D.success===1?"item adicionado":"itens adicionados"} ao estoque com sucesso!`),p([]),n(null),y(null)),D.failed>0&&s(` ${D.failed} ${D.failed===1?"item falhou":"itens falharam"}: ${D.errors.join(", ")}`)}catch(D){s(D.message||"Erro ao adicionar itens ao estoque.")}finally{o(!1)}};return d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg max-w-4xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Processador de Notas Fiscais com IA"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Faa o upload da imagem de uma nota fiscal para adicionar os itens ao estoque automaticamente."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[d.jsxs("div",{className:"space-y-4",children:[t?d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:g,alt:"Pr-visualizao da nota",className:"w-full h-auto max-h-80 object-contain rounded-lg shadow-md"}),d.jsx("button",{onClick:R,className:"absolute top-2 right-2 p-1.5 bg-black/50 rounded-full text-white hover:bg-black/70",children:d.jsx(Yg,{className:"w-5 h-5"})})]}):d.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[d.jsx(Ru,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mb-2"}),d.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:"Clique para fazer upload"}),d.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"PNG, JPG, ou WEBP"}),d.jsx("input",{type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:C})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fornecedor dos Produtos"}),d.jsx("select",{value:I,onChange:D=>O(Number(D.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:T.map(D=>d.jsx("option",{value:D.id,children:D.name},D.id))}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Selecione o fornecedor que emitiu esta nota fiscal"})]}),d.jsx("button",{onClick:L,disabled:!t||r,className:"w-full py-3 px-4 bg-emerald-600 text-white font-semibold rounded-lg hover:bg-emerald-700 disabled:bg-emerald-400 disabled:cursor-not-allowed flex items-center justify-center transition-all",children:r?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processando..."]}):"Analisar Nota Fiscal"}),l&&d.jsx("p",{className:"text-sm text-red-500 text-center",children:l})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Itens Extrados"}),f.length>0&&d.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f.length," ",f.length===1?"item":"itens"]})]}),u&&d.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg",children:d.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300",children:u})}),f.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"max-h-96 overflow-y-auto pr-2 space-y-3",children:f.map((D,B)=>{var Q;return d.jsx("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600",children:D.isEditing?d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:D.productName,onChange:J=>P(B,"productName",J.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200",placeholder:"Nome do produto"}),d.jsx("input",{type:"text",value:D.imageUrl||"",onChange:J=>P(B,"imageUrl",J.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200",placeholder:"URL da imagem (opcional)"}),d.jsx("select",{value:D.categoryId||b,onChange:J=>P(B,"categoryId",J.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200",children:N.map(J=>d.jsx("option",{value:J.id,children:J.name},J.id))}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("input",{type:"number",value:D.quantity,onChange:J=>P(B,"quantity",J.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200",placeholder:"Quantidade",min:"1",step:"1"}),d.jsx("input",{type:"number",value:D.unitPrice,onChange:J=>P(B,"unitPrice",J.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200",placeholder:"Preo unitrio",min:"0",step:"0.01"})]}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsxs("button",{onClick:()=>$(B),className:"px-3 py-1.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 flex items-center gap-1 text-sm",children:[d.jsx(Xl,{className:"w-4 h-4"}),"Salvar"]}),d.jsxs("button",{onClick:()=>K(B),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center gap-1 text-sm",children:[d.jsx(li,{className:"w-4 h-4"}),"Excluir"]})]})]}):d.jsxs("div",{className:"flex justify-between items-start gap-4",children:[D.imageUrl&&d.jsx("div",{className:"flex-shrink-0",children:d.jsx("img",{src:D.imageUrl,alt:D.productName,className:"w-16 h-16 rounded-lg object-cover border border-gray-300 dark:border-gray-600",onError:J=>{J.target.style.display="none"}})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:D.productName}),D.suggestedCategory&&d.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-0.5",children:[" Categoria sugerida: ",D.suggestedCategory,D.categoryId&&N.find(J=>J.id===D.categoryId)&&d.jsxs("span",{className:"ml-1 text-emerald-600 dark:text-emerald-400",children:[" ",(Q=N.find(J=>J.id===D.categoryId))==null?void 0:Q.name]})]}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Quantidade: ",D.quantity," un. | Preo: R$ ",D.unitPrice.toFixed(2)]}),d.jsxs("p",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400 mt-1",children:["Total: R$ ",(D.quantity*D.unitPrice).toFixed(2)]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>G(B),className:"p-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",title:"Editar",children:d.jsx(oi,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>K(B),className:"p-2 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",title:"Remover",children:d.jsx(li,{className:"w-5 h-5"})})]})]})},B)})}),d.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-600",children:[d.jsx("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:d.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:[" Total da Nota: R$ ",f.reduce((D,B)=>D+B.quantity*B.unitPrice,0).toFixed(2)]})}),d.jsx("button",{onClick:V,disabled:i,className:"w-full py-3 px-4 bg-emerald-600 text-white font-semibold rounded-lg hover:bg-emerald-700 disabled:bg-emerald-400 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all",children:i?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adicionando ao estoque..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Xl,{className:"w-5 h-5"}),"Confirmar e Adicionar ao Estoque"]})})]})]}):d.jsx("div",{className:"flex flex-col items-center justify-center h-64 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700/50 text-center px-4",children:d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Os itens da nota fiscal aparecero aqui aps a anlise."})})]})]})]})},BW=({currentUser:e})=>{const[t,n]=x.useState([]),[r,a]=x.useState(!0),[i,o]=x.useState(!1),[l,s]=x.useState(""),[u,c]=x.useState(null);x.useEffect(()=>{(async()=>{a(!0);const v=await Ss();n(v),a(!1)})()},[]);const f=()=>{s(""),c(null),o(!0)},p=E=>{c(E),s(E.name),o(!0)},g=()=>{o(!1),c(null),s("")},y=async E=>{if(E.preventDefault(),l.trim()){if(u){const v=await mO(u.id,{name:l.trim()});n(S=>S.map(w=>w.id===u.id?v:w))}else{const v=await fO({name:l.trim()});n(S=>[v,...S])}g()}},b=async E=>{window.confirm("Tem certeza que deseja excluir esta empresa?")&&(await pO(E),n(v=>v.filter(S=>S.id!==E)))};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg max-w-2xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Empresas"}),d.jsxs("button",{onClick:f,className:"flex items-center bg-emerald-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-emerald-600 transition-colors",children:[d.jsx(Es,{className:"w-5 h-5 mr-2"}),"Nova Empresa"]})]}),r?d.jsx("div",{className:"text-center py-8",children:"Carregando empresas..."}):d.jsx("ul",{className:"space-y-3",children:t.map(E=>d.jsxs("li",{className:"flex justify-between items-center p-4 rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[d.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:E.name}),d.jsxs("div",{children:[d.jsx("button",{onClick:()=>p(E),className:"p-2 text-gray-500 hover:text-blue-500 transition-colors",children:d.jsx(oi,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>b(E.id),className:"p-2 text-gray-500 hover:text-red-500 transition-colors",children:d.jsx(li,{className:"w-5 h-5"})})]})]},E.id))})]}),i&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl w-full max-w-md",children:[d.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200",children:u?"Editar Empresa":"Adicionar Nova Empresa"}),d.jsxs("form",{onSubmit:y,children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome da Empresa"}),d.jsx("input",{type:"text",name:"name",id:"name",value:l,onChange:E=>s(E.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[d.jsx("button",{type:"button",onClick:g,className:"px-6 py-2 rounded-lg text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 font-semibold transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg text-white bg-emerald-600 hover:bg-emerald-700 font-semibold transition-colors",children:"Salvar"})]})]})]})})]})},qW=({currentUser:e})=>{const[t,n]=x.useState([]),[r,a]=x.useState([]),[i,o]=x.useState(!0),[l,s]=x.useState(null),[u,c]=x.useState("all"),[f,p]=x.useState("all"),[g,y]=x.useState("all"),[b,E]=x.useState("");x.useEffect(()=>{v()},[]),x.useEffect(()=>{S()},[t,u,f,g,b]);const v=async()=>{try{o(!0);const k=await yO();n(k)}catch(k){console.error("Erro ao carregar log de atividades:",k)}finally{o(!1)}},S=()=>{let k=[...t];u!=="all"&&(k=k.filter(I=>I.action===u)),f!=="all"&&(k=k.filter(I=>I.entityType===f)),g!=="all"&&(k=k.filter(I=>I.userId.toString()===g)),b&&(k=k.filter(I=>new Date(I.createdAt).toISOString().split("T")[0]===b)),a(k)},w=k=>{const I={INSERT:"bg-green-100 text-green-800",UPDATE:"bg-blue-100 text-blue-800",DELETE:"bg-red-100 text-red-800"},O={INSERT:"Criao",UPDATE:"Edio",DELETE:"Excluso"};return d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${I[k]}`,children:O[k]})},_=k=>({products:"Produtos",categories:"Categorias",suppliers:"Fornecedores",users:"Usurios",stock_movements:"Movimentaes"})[k]||k,T=k=>{const I=new Date(k);return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(I)},A=Array.from(new Set(t.map(k=>k.userId))).map(k=>{const I=t.find(O=>O.userId===k);return{id:k,name:(I==null?void 0:I.userName)||"Desconhecido"}}),N=k=>!k.oldData&&!k.newData?null:d.jsxs("div",{className:"mt-4 space-y-4",children:[k.action===Ou.Delete&&k.oldData&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-red-700 mb-2",children:"Dados Removidos:"}),d.jsx("pre",{className:"bg-red-50 p-3 rounded text-xs overflow-x-auto",children:JSON.stringify(k.oldData,null,2)})]}),k.action===Ou.Insert&&k.newData&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-green-700 mb-2",children:"Dados Criados:"}),d.jsx("pre",{className:"bg-green-50 p-3 rounded text-xs overflow-x-auto",children:JSON.stringify(k.newData,null,2)})]}),k.action===Ou.Update&&d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[k.oldData&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Antes:"}),d.jsx("pre",{className:"bg-gray-50 p-3 rounded text-xs overflow-x-auto",children:JSON.stringify(k.oldData,null,2)})]}),k.newData&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-blue-700 mb-2",children:"Depois:"}),d.jsx("pre",{className:"bg-blue-50 p-3 rounded text-xs overflow-x-auto",children:JSON.stringify(k.newData,null,2)})]})]})]});return i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"text-gray-500",children:"Carregando logs..."})}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-4xl",children:""}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Log de Atividades"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Histrico de todas as alteraes no sistema"})]})]}),d.jsxs("div",{className:"text-sm text-gray-500",children:[r.length," registro",r.length!==1?"s":""]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("span",{className:"text-xl",children:""}),d.jsx("h2",{className:"font-semibold text-gray-700",children:"Filtros"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ao"}),d.jsxs("select",{value:u,onChange:k=>c(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"all",children:"Todas"}),d.jsx("option",{value:"INSERT",children:"Criao"}),d.jsx("option",{value:"UPDATE",children:"Edio"}),d.jsx("option",{value:"DELETE",children:"Excluso"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entidade"}),d.jsxs("select",{value:f,onChange:k=>p(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"all",children:"Todas"}),d.jsx("option",{value:"products",children:"Produtos"}),d.jsx("option",{value:"categories",children:"Categorias"}),d.jsx("option",{value:"suppliers",children:"Fornecedores"}),d.jsx("option",{value:"users",children:"Usurios"}),d.jsx("option",{value:"stock_movements",children:"Movimentaes"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio"}),d.jsxs("select",{value:g,onChange:k=>y(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"all",children:"Todos"}),A.map(k=>d.jsx("option",{value:k.id.toString(),children:k.name},k.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),d.jsx("input",{type:"date",value:b,onChange:k=>E(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(u!=="all"||f!=="all"||g!=="all"||b)&&d.jsx("button",{onClick:()=>{c("all"),p("all"),y("all"),E("")},className:"mt-4 text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Limpar Filtros"})]}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usurio"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ao"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Entidade"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detalhes"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Nenhum registro encontrado"})}):r.map(k=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T(k.createdAt)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"mr-2",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.userName}),d.jsx("div",{className:"text-xs text-gray-500",children:k.userEmail})]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(k.action)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"mr-2",children:""}),_(k.entityType)]})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["#",k.entityId]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.ipAddress||"-"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsx("button",{onClick:()=>s((l==null?void 0:l.id)===k.id?null:k),className:"text-blue-600 hover:text-blue-800",title:"Ver detalhes",children:""})})]},k.id))})]})})}),l&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Detalhes da Atividade #",l.id]}),d.jsx("button",{onClick:()=>s(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Usurio:"}),d.jsxs("p",{className:"text-sm text-gray-900",children:[l.userName," (",l.userEmail,")"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Empresa:"}),d.jsx("p",{className:"text-sm text-gray-900",children:l.companyName})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Ao:"}),d.jsx("p",{className:"text-sm",children:w(l.action)})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Entidade:"}),d.jsxs("p",{className:"text-sm text-gray-900",children:[_(l.entityType)," #",l.entityId]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Data/Hora:"}),d.jsx("p",{className:"text-sm text-gray-900",children:T(l.createdAt)})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"IP:"}),d.jsx("p",{className:"text-sm text-gray-900",children:l.ipAddress||"No registrado"})]})]}),N(l)]}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Fechar"})})]})})})]})};function HW(){const[e,t]=x.useState([]),[n,r]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState([]),[s,u]=x.useState({totalProducts:0,totalValue:0,lowStockCount:0,outOfStockCount:0,categoriesCount:0,suppliersCount:0,recentMovements:0}),[c,f]=x.useState([]),[p,g]=x.useState([]),[y,b]=x.useState(!0),[E,v]=x.useState(""),[S,w]=x.useState("30"),[_,T]=x.useState("overview");x.useEffect(()=>{A()},[S]);const A=async()=>{var P,L;try{b(!0),v("");const[V,D,B,Q]=await Promise.all([yo(),vo(),Jl(),VT()]),J=V.map(xe=>{var $e,M;return{...xe,categoryName:(($e=D.find(z=>z.id===xe.categoryId))==null?void 0:$e.name)||"Sem categoria",supplierName:((M=B.find(z=>z.id===xe.supplierId))==null?void 0:M.name)||"Sem fornecedor"}});t(J),r(D),i(B);const se=parseInt(S),te=new Date;te.setDate(te.getDate()-se);const bt=Q.map(xe=>{var $e;return{...xe,productName:($e=J.find(M=>M.id===xe.productId))==null?void 0:$e.name}}).filter(xe=>new Date(xe.date)>=te);l(bt),N(J,D,B,bt),k(J),I(J)}catch(V){v(((L=(P=V.response)==null?void 0:P.data)==null?void 0:L.message)||"Erro ao carregar dados dos relatrios"),console.error("Erro ao carregar dados:",V)}finally{b(!1)}},N=(P,L,V,D)=>{const B=P.length,Q=P.reduce((te,le)=>te+le.price*le.stock,0),J=P.filter(te=>te.stock<=te.minStock&&te.stock>0).length,se=P.filter(te=>te.stock===0).length;u({totalProducts:B,totalValue:Q,lowStockCount:J,outOfStockCount:se,categoriesCount:L.length,suppliersCount:V.length,recentMovements:D.length})},k=P=>{const L=new Map;P.forEach(D=>{L.has(D.categoryId)||L.set(D.categoryId,{categoryId:D.categoryId,categoryName:D.categoryName||"Sem categoria",productCount:0,totalValue:0,avgStock:0});const B=L.get(D.categoryId);B.productCount++,B.totalValue+=D.price*D.stock,B.avgStock+=D.stock});const V=Array.from(L.values()).map(D=>({...D,avgStock:D.productCount>0?Math.round(D.avgStock/D.productCount):0}));V.sort((D,B)=>B.totalValue-D.totalValue),f(V)},I=P=>{const L=new Map;P.forEach(D=>{L.has(D.supplierId)||L.set(D.supplierId,{supplierId:D.supplierId,supplierName:D.supplierName||"Sem fornecedor",productCount:0,totalValue:0});const B=L.get(D.supplierId);B.productCount++,B.totalValue+=D.price*D.stock});const V=Array.from(L.values());V.sort((D,B)=>B.totalValue-D.totalValue),g(V)},O=()=>e.filter(P=>P.stock<=P.minStock).sort((P,L)=>P.stock/P.minStock-L.stock/L.minStock).slice(0,10),C=()=>e.map(P=>({...P,totalValue:P.price*P.stock})).sort((P,L)=>L.totalValue-P.totalValue).slice(0,10),R=P=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P),G=P=>new Date(P).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),$=()=>{window.print()},K=()=>{let P="",L="";switch(_){case"categories":P=`Categoria,Produtos,Valor Total,Estoque Mdio
`,c.forEach(B=>{P+=`"${B.categoryName}",${B.productCount},${B.totalValue.toFixed(2)},${B.avgStock}
`}),L="relatorio_categorias.csv";break;case"suppliers":P=`Fornecedor,Produtos,Valor Total
`,p.forEach(B=>{P+=`"${B.supplierName}",${B.productCount},${B.totalValue.toFixed(2)}
`}),L="relatorio_fornecedores.csv";break;case"stock":P=`Produto,SKU,Estoque Atual,Estoque Mnimo,Status
`,O().forEach(B=>{const Q=B.stock===0?"SEM ESTOQUE":"ESTOQUE BAIXO";P+=`"${B.name}","${B.sku}",${B.stock},${B.minStock},${Q}
`}),L="relatorio_estoque_critico.csv";break;default:P=`Mtrica,Valor
`,P+=`Total de Produtos,${s.totalProducts}
`,P+=`Valor Total do Inventrio,${s.totalValue.toFixed(2)}
`,P+=`Produtos com Estoque Baixo,${s.lowStockCount}
`,P+=`Produtos Sem Estoque,${s.outOfStockCount}
`,P+=`Total de Categorias,${s.categoriesCount}
`,P+=`Total de Fornecedores,${s.suppliersCount}
`,P+=`Movimentaes (${S} dias),${s.recentMovements}
`,L="relatorio_geral.csv"}const V=new Blob([P],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a");D.href=URL.createObjectURL(V),D.download=L,D.click()};return y?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:"text-xl text-gray-600",children:"Carregando relatrios..."})}):d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6 print:mb-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:" Relatrios"}),d.jsxs("div",{className:"flex items-center space-x-4 print:hidden",children:[d.jsxs("select",{value:S,onChange:P=>w(P.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[d.jsx("option",{value:"7",children:"ltimos 7 dias"}),d.jsx("option",{value:"30",children:"ltimos 30 dias"}),d.jsx("option",{value:"90",children:"ltimos 90 dias"})]}),d.jsx("button",{onClick:K,className:"flex items-center bg-green-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-600 transition-colors",children:" Exportar CSV"}),d.jsx("button",{onClick:$,className:"flex items-center bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors",children:" Imprimir"})]})]}),E&&d.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[d.jsx("strong",{children:"Erro:"})," ",E]}),d.jsxs("div",{className:"flex space-x-2 mb-6 overflow-x-auto print:hidden",children:[d.jsx("button",{onClick:()=>T("overview"),className:`px-4 py-2 rounded-lg font-semibold transition-colors whitespace-nowrap ${_==="overview"?"bg-emerald-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300"}`,children:" Viso Geral"}),d.jsx("button",{onClick:()=>T("stock"),className:`px-4 py-2 rounded-lg font-semibold transition-colors whitespace-nowrap ${_==="stock"?"bg-emerald-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300"}`,children:" Estoque Crtico"}),d.jsx("button",{onClick:()=>T("categories"),className:`px-4 py-2 rounded-lg font-semibold transition-colors whitespace-nowrap ${_==="categories"?"bg-emerald-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300"}`,children:" Por Categoria"}),d.jsx("button",{onClick:()=>T("suppliers"),className:`px-4 py-2 rounded-lg font-semibold transition-colors whitespace-nowrap ${_==="suppliers"?"bg-emerald-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300"}`,children:" Por Fornecedor"}),d.jsx("button",{onClick:()=>T("movements"),className:`px-4 py-2 rounded-lg font-semibold transition-colors whitespace-nowrap ${_==="movements"?"bg-emerald-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300"}`,children:" Movimentaes"})]}),_==="overview"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm opacity-90",children:"Total de Produtos"}),d.jsx("p",{className:"text-3xl font-bold mt-2",children:s.totalProducts})]}),d.jsx("div",{className:"text-5xl opacity-50",children:""})]})}),d.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm opacity-90",children:"Valor do Inventrio"}),d.jsx("p",{className:"text-2xl font-bold mt-2",children:R(s.totalValue)})]}),d.jsx("div",{className:"text-5xl opacity-50",children:""})]})}),d.jsx("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white p-6 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm opacity-90",children:"Estoque Baixo"}),d.jsx("p",{className:"text-3xl font-bold mt-2",children:s.lowStockCount})]}),d.jsx("div",{className:"text-5xl opacity-50",children:""})]})}),d.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 text-white p-6 rounded-xl shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm opacity-90",children:"Sem Estoque"}),d.jsx("p",{className:"text-3xl font-bold mt-2",children:s.outOfStockCount})]}),d.jsx("div",{className:"text-5xl opacity-50",children:""})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Categorias Cadastradas"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mt-1",children:s.categoriesCount})]}),d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Fornecedores Cadastrados"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mt-1",children:s.suppliersCount})]}),d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[d.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Movimentaes (",S," dias)"]}),d.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mt-1",children:s.recentMovements})]})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-6 rounded-xl",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-200 mb-4",children:" Top 10 - Produtos com Maior Valor em Estoque"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-300 dark:border-gray-600",children:[d.jsx("th",{className:"text-left py-2 px-4 text-sm font-semibold",children:"#"}),d.jsx("th",{className:"text-left py-2 px-4 text-sm font-semibold",children:"Produto"}),d.jsx("th",{className:"text-left py-2 px-4 text-sm font-semibold",children:"Categoria"}),d.jsx("th",{className:"text-right py-2 px-4 text-sm font-semibold",children:"Qtd"}),d.jsx("th",{className:"text-right py-2 px-4 text-sm font-semibold",children:"Preo Unit."}),d.jsx("th",{className:"text-right py-2 px-4 text-sm font-semibold",children:"Valor Total"})]})}),d.jsx("tbody",{children:C().map((P,L)=>d.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600",children:[d.jsx("td",{className:"py-3 px-4 text-sm",children:L+1}),d.jsx("td",{className:"py-3 px-4 text-sm font-medium",children:P.name}),d.jsx("td",{className:"py-3 px-4 text-sm",children:P.categoryName}),d.jsx("td",{className:"py-3 px-4 text-sm text-right",children:P.stock}),d.jsx("td",{className:"py-3 px-4 text-sm text-right",children:R(P.price)}),d.jsx("td",{className:"py-3 px-4 text-sm text-right font-bold text-green-600",children:R(P.totalValue)})]},P.id))})]})})]})]}),_==="stock"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-bold text-red-800 dark:text-red-300 mb-2",children:" Produtos com Estoque Crtico"}),d.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400",children:[s.lowStockCount," produtos com estoque baixo e ",s.outOfStockCount," produtos sem estoque."]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[d.jsx("th",{className:"text-left py-3 px-4 font-semibold border-b-2 border-gray-300 dark:border-gray-600",children:"Produto"}),d.jsx("th",{className:"text-left py-3 px-4 font-semibold border-b-2 border-gray-300 dark:border-gray-600",children:"SKU"}),d.jsx("th",{className:"text-left py-3 px-4 font-semibold border-b-2 border-gray-300 dark:border-gray-600",children:"Categoria"}),d.jsx("th",{className:"text-left py-3 px-4 font-semibold border-b-2 border-gray-300 dark:border-gray-600",children:"Fornecedor"}),d.jsx("th",{className:"text-right py-3 px-4 font-semibold border-b-2 border-gray-300 dark:border-gray-600",children:"Atual"}),d.jsx("th",{className:"text-right py-3 px-4 font-semibold border-b-2 border-gray-300 dark:border-gray-600",children:"Mnimo"}),d.jsx("th",{className:"text-center py-3 px-4 font-semibold border-b-2 border-gray-300 dark:border-gray-600",children:"Status"})]})}),d.jsx("tbody",{children:O().map(P=>{const L=P.stock===0,V=P.minStock>0?P.stock/P.minStock*100:0;return d.jsxs("tr",{className:`border-b border-gray-200 dark:border-gray-700 ${L?"bg-red-50 dark:bg-red-900/10":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[d.jsx("td",{className:"py-3 px-4",children:P.name}),d.jsx("td",{className:"py-3 px-4 font-mono text-sm",children:P.sku}),d.jsx("td",{className:"py-3 px-4 text-sm",children:P.categoryName}),d.jsx("td",{className:"py-3 px-4 text-sm",children:P.supplierName}),d.jsx("td",{className:"py-3 px-4 text-right font-bold",children:P.stock}),d.jsx("td",{className:"py-3 px-4 text-right",children:P.minStock}),d.jsx("td",{className:"py-3 px-4 text-center",children:L?d.jsx("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:"SEM ESTOQUE"}):d.jsxs("span",{className:"bg-yellow-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:[Math.round(V),"%"]})})]},P.id)})})]})})]}),_==="categories"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-bold text-blue-800 dark:text-blue-300 mb-2",children:" Anlise por Categorias"}),d.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:"Distribuio de produtos e valores por categoria de produto."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(P=>d.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white p-5 rounded-xl shadow-lg",children:[d.jsx("h4",{className:"font-bold text-lg mb-3",children:P.categoryName}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"opacity-90",children:"Produtos:"}),d.jsx("span",{className:"font-bold",children:P.productCount})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"opacity-90",children:"Valor Total:"}),d.jsx("span",{className:"font-bold",children:R(P.totalValue)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"opacity-90",children:"Estoque Mdio:"}),d.jsxs("span",{className:"font-bold",children:[P.avgStock," un"]})]})]})]},P.categoryId))}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700 border-b-2 border-gray-300 dark:border-gray-600",children:[d.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Categoria"}),d.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"Produtos"}),d.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"Valor Total"}),d.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"Estoque Mdio"}),d.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"% do Total"})]})}),d.jsx("tbody",{children:c.map(P=>{const L=s.totalValue>0?(P.totalValue/s.totalValue*100).toFixed(1):"0";return d.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[d.jsx("td",{className:"py-3 px-4 font-medium",children:P.categoryName}),d.jsx("td",{className:"py-3 px-4 text-right",children:P.productCount}),d.jsx("td",{className:"py-3 px-4 text-right font-bold text-green-600",children:R(P.totalValue)}),d.jsx("td",{className:"py-3 px-4 text-right",children:P.avgStock}),d.jsxs("td",{className:"py-3 px-4 text-right font-semibold",children:[L,"%"]})]},P.categoryId)})})]})})]}),_==="suppliers"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-bold text-green-800 dark:text-green-300 mb-2",children:" Anlise por Fornecedores"}),d.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:"Distribuio de produtos e valores por fornecedor."})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700 border-b-2 border-gray-300 dark:border-gray-600",children:[d.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Fornecedor"}),d.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"Produtos"}),d.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"Valor Total"}),d.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"% do Total"})]})}),d.jsx("tbody",{children:p.map(P=>{const L=s.totalValue>0?(P.totalValue/s.totalValue*100).toFixed(1):"0";return d.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[d.jsx("td",{className:"py-3 px-4 font-medium",children:P.supplierName}),d.jsx("td",{className:"py-3 px-4 text-right",children:P.productCount}),d.jsx("td",{className:"py-3 px-4 text-right font-bold text-green-600",children:R(P.totalValue)}),d.jsxs("td",{className:"py-3 px-4 text-right font-semibold",children:[L,"%"]})]},P.supplierId)})})]})})]}),_==="movements"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-bold text-orange-800 dark:text-orange-300 mb-2",children:" Movimentaes Recentes"}),d.jsxs("p",{className:"text-sm text-orange-700 dark:text-orange-400",children:["ltimas ",o.length," movimentaes nos ltimos ",S," dias."]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700 border-b-2 border-gray-300 dark:border-gray-600",children:[d.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Data"}),d.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Tipo"}),d.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Produto"}),d.jsx("th",{className:"text-right py-3 px-4 font-semibold",children:"Quantidade"}),d.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Motivo"})]})}),d.jsx("tbody",{children:o.slice(0,50).map(P=>d.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[d.jsx("td",{className:"py-3 px-4 text-sm",children:G(P.date)}),d.jsxs("td",{className:"py-3 px-4",children:[P.type===tr.In&&d.jsx("span",{className:"bg-green-500 text-white px-2 py-1 rounded text-xs font-bold",children:"ENTRADA"}),P.type===tr.Out&&d.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs font-bold",children:"SADA"}),P.type===tr.Adjustment&&d.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-xs font-bold",children:"AJUSTE"})]}),d.jsx("td",{className:"py-3 px-4 font-medium",children:P.productName||`ID: ${P.productId}`}),d.jsx("td",{className:"py-3 px-4 text-right font-bold",children:P.quantity}),d.jsx("td",{className:"py-3 px-4 text-sm",children:P.reason})]},P.id))})]})})]}),d.jsx("style",{children:`
        @media print {
          @page { margin: 1cm; }
          body { print-color-adjust: exact; -webkit-print-color-adjust: exact; }
          .print\\:hidden { display: none !important; }
          .print\\:mb-4 { margin-bottom: 1rem !important; }
        }
      `})]})}const VW=({currentUser:e})=>{var v,S,w,_,T,A,N,k,I,O;const[t,n]=x.useState(null),[r,a]=x.useState({}),[i,o]=x.useState(!0),[l,s]=x.useState(!1),[u,c]=x.useState(null),[f,p]=x.useState(null);x.useEffect(()=>{g()},[]);const g=async()=>{try{o(!0),c(null);const C=await jo();n(C);const R={};Object.keys(C).forEach(G=>{R[G]=C[G].value}),a(R)}catch(C){c(C.message||"Erro ao carregar configuraes")}finally{o(!1)}},y=(C,R)=>{a(G=>({...G,[C]:R}))},b=async()=>{try{s(!0),c(null),p(null);const C=await SO(r);C.success&&(p(` ${C.updated} configuraes atualizadas com sucesso!`),await g(),setTimeout(()=>p(null),3e3)),C.errors.length>0&&c(` Alguns erros ocorreram: ${C.errors.join(", ")}`)}catch(C){c(C.message||"Erro ao salvar configuraes")}finally{s(!1)}},E=()=>{if(t){const C={};Object.keys(t).forEach(R=>{C[R]=t[R].value}),a(C),p(null),c(null)}};return i?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsxs("svg",{className:"animate-spin h-8 w-8 text-emerald-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:" Configuraes do Sistema"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Apenas Super Admin pode gerenciar estas configuraes"})]})}),f&&d.jsx("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg",children:d.jsx("p",{className:"text-emerald-700 dark:text-emerald-300",children:f})}),u&&d.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:d.jsx("p",{className:"text-red-700 dark:text-red-300",children:u})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:" Aparncia do Sistema"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome do Sistema"}),d.jsx("input",{type:"text",value:r.system_name||"",onChange:C=>y("system_name",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",placeholder:"Ex: Estoque Gemini"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(v=t==null?void 0:t.system_name)==null?void 0:v.description})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"URL da Logomarca"}),d.jsx("input",{type:"text",value:r.system_logo_url||"",onChange:C=>y("system_logo_url",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",placeholder:"https://exemplo.com/logo.png"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(S=t==null?void 0:t.system_logo_url)==null?void 0:S.description}),r.system_logo_url&&d.jsxs("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600",children:[d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Preview:"}),d.jsx("img",{src:r.system_logo_url,alt:"Logo preview",className:"h-12 object-contain",onError:C=>{C.target.style.display="none"}})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:" Integraes"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Google Gemini API Key"}),d.jsx("input",{type:"password",value:r.gemini_api_key||"",onChange:C=>y("gemini_api_key",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-mono text-sm",placeholder:"AIza..."}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(w=t==null?void 0:t.gemini_api_key)==null?void 0:w.description}),d.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 dark:text-blue-400 hover:underline mt-1 inline-block",children:" Obter chave de API"})]}),d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[d.jsx("input",{type:"checkbox",id:"enable_invoice",checked:r.enable_invoice_processing==="1",onChange:C=>y("enable_invoice_processing",C.target.checked?"1":"0"),className:"w-4 h-4 text-emerald-600 rounded"}),d.jsx("label",{htmlFor:"enable_invoice",className:"text-sm text-gray-700 dark:text-gray-300",children:"Habilitar processamento de notas fiscais"})]}),d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[d.jsx("input",{type:"checkbox",id:"enable_log",checked:r.enable_activity_log==="1",onChange:C=>y("enable_activity_log",C.target.checked?"1":"0"),className:"w-4 h-4 text-emerald-600 rounded"}),d.jsx("label",{htmlFor:"enable_log",className:"text-sm text-gray-700 dark:text-gray-300",children:"Habilitar log de atividades"})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:" Padres de Produtos"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categoria Padro (ID)"}),d.jsx("input",{type:"number",value:r.default_category_id||"",onChange:C=>y("default_category_id",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",min:"1"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(_=t==null?void 0:t.default_category_id)==null?void 0:_.description})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fornecedor Padro (ID)"}),d.jsx("input",{type:"number",value:r.default_supplier_id||"",onChange:C=>y("default_supplier_id",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",min:"1"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(T=t==null?void 0:t.default_supplier_id)==null?void 0:T.description})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Estoque Mnimo Padro"}),d.jsx("input",{type:"number",value:r.min_stock_default||"",onChange:C=>y("min_stock_default",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",min:"0"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(A=t==null?void 0:t.min_stock_default)==null?void 0:A.description})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:" Formatao e Localizao"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Smbolo da Moeda"}),d.jsx("input",{type:"text",value:r.currency_symbol||"",onChange:C=>y("currency_symbol",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",placeholder:"R$"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(N=t==null?void 0:t.currency_symbol)==null?void 0:N.description})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Locale de Formatao"}),d.jsx("input",{type:"text",value:r.currency_locale||"",onChange:C=>y("currency_locale",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",placeholder:"pt-BR"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(k=t==null?void 0:t.currency_locale)==null?void 0:k.description})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Itens por Pgina"}),d.jsx("input",{type:"number",value:r.items_per_page||"",onChange:C=>y("items_per_page",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",min:"10",step:"10"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(I=t==null?void 0:t.items_per_page)==null?void 0:I.description})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:" Segurana"}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Timeout de Sesso (minutos)"}),d.jsx("input",{type:"number",value:r.session_timeout_minutes||"",onChange:C=>y("session_timeout_minutes",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",min:"30",step:"30"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(O=t==null?void 0:t.session_timeout_minutes)==null?void 0:O.description})]})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:" Informaes da Empresa"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website"}),d.jsx("input",{type:"url",value:r.company_website||"",onChange:C=>y("company_website",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",placeholder:"https://exemplo.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email de Contato"}),d.jsx("input",{type:"email",value:r.company_email||"",onChange:C=>y("company_email",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",placeholder:"contato@exemplo.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Telefone"}),d.jsx("input",{type:"tel",value:r.company_phone||"",onChange:C=>y("company_phone",C.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",placeholder:"(00) 0000-0000"})]})]})]})]}),d.jsxs("div",{className:"flex gap-4 justify-end sticky bottom-4 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[d.jsxs("button",{onClick:E,disabled:l,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[d.jsx(Yg,{className:"w-5 h-5"}),"Cancelar Alteraes"]}),d.jsx("button",{onClick:b,disabled:l,className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-emerald-400 disabled:cursor-not-allowed flex items-center gap-2",children:l?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Salvando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Xl,{className:"w-5 h-5"}),"Salvar Configuraes"]})})]})]})},$W=({currentUser:e})=>{var J,se,te,le,bt,xe,$e,M;const[t,n]=x.useState(null),[r,a]=x.useState({}),[i,o]=x.useState(!0),[l,s]=x.useState(!1),[u,c]=x.useState(null),[f,p]=x.useState(null),[g,y]=x.useState(!1),[b,E]=x.useState([]),[v,S]=x.useState([]),[w,_]=x.useState(!1),[T,A]=x.useState(null),[N,k]=x.useState(null),[I,O]=x.useState(null);x.useEffect(()=>{y(e.role==="Admin"||e.role==="Super Admin"),R(),C()},[e]);const C=async()=>{try{const z=await vo();E(z)}catch(z){console.error("Erro ao carregar categorias:",z)}},R=async()=>{try{o(!0),c(null);const z=await Fg();n(z);const q={};Object.keys(z).forEach(j=>{q[j]=z[j].value}),a(q)}catch(z){c(z.message||"Erro ao carregar configuraes")}finally{o(!1)}},G=z=>{const{name:q,value:j,type:ae}=z.target;if(ae==="checkbox"){const F=z.target.checked;a(ee=>({...ee,[q]:F?"1":"0"}))}else a(F=>({...F,[q]:j}))},$=async z=>{if(z.preventDefault(),!g){c("Apenas administradores podem editar configuraes.");return}try{s(!0),c(null),p(null);const q=await EO(r);q.success&&(p(` ${q.updated} configurao(es) atualizada(s) com sucesso!`),setTimeout(()=>p(null),5e3),await R()),q.errors&&q.errors.length>0&&c(q.errors.join(", "))}catch(q){c(q.message||"Erro ao salvar configuraes")}finally{s(!1)}},K=()=>{if(t){const z={};Object.keys(t).forEach(q=>{z[q]=t[q].value}),a(z)}c(null),p(null)},P=z=>{S(q=>q.includes(z)?q.filter(j=>j!==z):[...q,z])},L=()=>{v.length===b.length?S([]):S(b.map(z=>z.id))},V=()=>{if(v.length===0){k("Selecione pelo menos uma categoria.");return}const z=b.filter(q=>v.includes(q.id)).map(q=>q.name).join(", ");O({show:!0,action:"zero-stock",message:` ATENO: Esta ao ir ZERAR o estoque de todos os produtos nas categorias: ${z}. Esta operao NO pode ser desfeita. Deseja continuar?`,onConfirm:async()=>{try{_(!0),k(null),A(null);const q=await wO(v);A(` ${q.affected} produtos tiveram o estoque zerado com sucesso!`),S([])}catch(q){k(q.message||"Erro ao zerar estoque")}finally{_(!1),O(null)}}})},D=()=>{if(v.length===0){k("Selecione pelo menos uma categoria.");return}const z=b.filter(q=>v.includes(q.id)).map(q=>q.name).join(", ");O({show:!0,action:"clear-movements",message:` PERIGO: Esta ao ir APAGAR TODAS as movimentaes de estoque dos produtos nas categorias: ${z}. TODO o histrico ser PERDIDO e NO pode ser recuperado. Tem CERTEZA ABSOLUTA?`,onConfirm:async()=>{try{_(!0),k(null),A(null);const q=await _O(v);A(` ${q.affected} movimentaes foram apagadas.`),S([])}catch(q){k(q.message||"Erro ao apagar movimentaes")}finally{_(!1),O(null)}}})},B=()=>{if(v.length===0){k("Selecione pelo menos uma categoria.");return}const z=b.filter(q=>v.includes(q.id)).map(q=>q.name).join(", ");O({show:!0,action:"delete-products",message:` PERIGO EXTREMO: Esta ao ir APAGAR PERMANENTEMENTE todos os produtos E suas movimentaes nas categorias: ${z}. Esta ao  IRREVERSVEL. Confirma a EXCLUSO PERMANENTE?`,onConfirm:async()=>{try{_(!0),k(null),A(null);const q=await TO(v);A(` ${q.affected} produtos foram apagados permanentemente.`),S([])}catch(q){k(q.message||"Erro ao apagar produtos")}finally{_(!1),O(null)}}})},Q=()=>{if(v.length===0){k("Selecione pelo menos uma categoria.");return}const z=v.length===b.length,q=z?"TODAS as categorias":b.filter(ae=>v.includes(ae.id)).map(ae=>ae.name).join(", "),j=z?" ATENO: Voc selecionou TODAS as categorias. A IA ir processar TODOS OS PRODUTOS cadastrados na empresa!":` A IA ir processar apenas os produtos das categorias: ${q}`;O({show:!0,action:"update-images",message:` Atualizao Automtica de Fotos por IA

${j}

Esta operao pode levar alguns minutos dependendo da quantidade de produtos. As fotos atuais sero substitudas por imagens adequadas baseadas no nome de cada produto.

 Certifique-se de ter configurado sua chave de API do Pixabay nas configuraes para evitar limite de requisies.

Deseja continuar?`,onConfirm:async()=>{try{_(!0),k(null),A(null);const ae=await CO(v),F=ae.updated+ae.skipped;A(` ${ae.updated} produtos tiveram suas fotos atualizadas com sucesso! ${ae.skipped>0?`
 ${ae.skipped} produtos no encontraram imagem adequada na API Pixabay.

 Total processado: ${F} produtos`:`

 Total processado: ${F} produtos`}`),S([])}catch(ae){k(ae.message||"Erro ao atualizar fotos")}finally{_(!1),O(null)}}})};return i?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Carregando configuraes..."})}):d.jsxs("div",{className:"container mx-auto p-6",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200",children:"Configuraes da Empresa"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:g?"Configure as preferncias e informaes da sua empresa":"Visualizao das configuraes da empresa (somente Admin pode editar)"})]}),u&&d.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2",children:[d.jsx(Yg,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),d.jsx("p",{className:"text-red-700 dark:text-red-300",children:u})]}),f&&d.jsxs("div",{className:"mb-4 p-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg flex items-center gap-2",children:[d.jsx(Xl,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),d.jsx("p",{className:"text-emerald-700 dark:text-emerald-300",children:f})]}),d.jsxs("form",{onSubmit:$,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[d.jsx("span",{children:""})," Integrao com IA"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"gemini_api_key",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Google Gemini API Key"}),d.jsx("input",{type:"password",id:"gemini_api_key",name:"gemini_api_key",value:r.gemini_api_key||"",onChange:G,disabled:!g,placeholder:"AIza...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed"}),d.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:(J=t==null?void 0:t.gemini_api_key)==null?void 0:J.description}),d.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline inline-block",children:" Obter chave de API do Google Gemini"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"pixabay_api_key",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pixabay API Key"}),d.jsx("input",{type:"text",id:"pixabay_api_key",name:"pixabay_api_key",value:r.pixabay_api_key||"",onChange:G,disabled:!g,placeholder:"46737899-b38ce8e1a26a3f4110dae3156",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed"}),d.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:((se=t==null?void 0:t.pixabay_api_key)==null?void 0:se.description)||"Chave de API do Pixabay para busca automtica de imagens de produtos"}),d.jsx("a",{href:"https://pixabay.com/api/docs/",target:"_blank",rel:"noopener noreferrer",className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline inline-block",children:" Obter chave de API do Pixabay (Gratuita)"})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[d.jsx("span",{children:""})," Documentos"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"invoice_prefix",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prefixo de Notas Fiscais"}),d.jsx("input",{type:"text",id:"invoice_prefix",name:"invoice_prefix",value:r.invoice_prefix||"",onChange:G,disabled:!g,placeholder:"INV-001-",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed"}),d.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:(te=t==null?void 0:t.invoice_prefix)==null?void 0:te.description})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"default_payment_terms",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prazo de Pagamento Padro (dias)"}),d.jsx("input",{type:"number",id:"default_payment_terms",name:"default_payment_terms",value:r.default_payment_terms||"",onChange:G,disabled:!g,min:"0",placeholder:"30",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed"}),d.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:(le=t==null?void 0:t.default_payment_terms)==null?void 0:le.description})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[d.jsx("span",{children:""})," Impostos e Finanas"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tax_rate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Taxa de Imposto Padro (%)"}),d.jsx("input",{type:"number",id:"tax_rate",name:"tax_rate",value:r.tax_rate||"",onChange:G,disabled:!g,min:"0",max:"100",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed"}),d.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:(bt=t==null?void 0:t.tax_rate)==null?void 0:bt.description})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"company_tax_id",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"CNPJ/CPF"}),d.jsx("input",{type:"text",id:"company_tax_id",name:"company_tax_id",value:r.company_tax_id||"",onChange:G,disabled:!g,placeholder:"00.000.000/0000-00",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed"}),d.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:(xe=t==null?void 0:t.company_tax_id)==null?void 0:xe.description})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[d.jsx("span",{children:""})," Alertas e Notificaes"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"low_stock_alert_enabled",name:"low_stock_alert_enabled",checked:r.low_stock_alert_enabled==="1",onChange:G,disabled:!g,className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed"}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"low_stock_alert_enabled",className:"text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer",children:"Alertas de Estoque Baixo"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:($e=t==null?void 0:t.low_stock_alert_enabled)==null?void 0:$e.description})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"email_notifications_enabled",name:"email_notifications_enabled",checked:r.email_notifications_enabled==="1",onChange:G,disabled:!g,className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed"}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email_notifications_enabled",className:"text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer",children:"Notificaes por Email"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(M=t==null?void 0:t.email_notifications_enabled)==null?void 0:M.description})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700 lg:col-span-2",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[d.jsx("span",{children:""})," Informaes da Empresa"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"company_logo_url",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"URL do Logotipo"}),d.jsx("input",{type:"text",id:"company_logo_url",name:"company_logo_url",value:r.company_logo_url||"",onChange:G,disabled:!g,placeholder:"https://exemplo.com/logo.png",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed"}),r.company_logo_url&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Preview:"}),d.jsx("img",{src:r.company_logo_url,alt:"Logo",className:"h-16 object-contain border border-gray-300 dark:border-gray-600 rounded",onError:z=>{z.target.style.display="none"}})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"company_address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Endereo Completo"}),d.jsx("textarea",{id:"company_address",name:"company_address",value:r.company_address||"",onChange:G,disabled:!g,rows:3,placeholder:"Rua, Nmero, Bairro, Cidade - UF, CEP",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed resize-none"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"company_phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Telefone"}),d.jsx("input",{type:"tel",id:"company_phone",name:"company_phone",value:r.company_phone||"",onChange:G,disabled:!g,placeholder:"(00) 0000-0000",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"company_email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),d.jsx("input",{type:"email",id:"company_email",name:"company_email",value:r.company_email||"",onChange:G,disabled:!g,placeholder:"contato@empresa.com",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"company_website",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website"}),d.jsx("input",{type:"url",id:"company_website",name:"company_website",value:r.company_website||"",onChange:G,disabled:!g,placeholder:"https://www.empresa.com",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed"})]})]})]}),g&&d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-6 border-2 border-red-300 dark:border-red-700",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"text-3xl",children:""}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-red-800 dark:text-red-300",children:"Ferramentas Administrativas"}),d.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"CUIDADO: Operaes irreversveis que podem apagar dados permanentemente!"})]})]}),T&&d.jsx("div",{className:"mb-4 p-3 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700 rounded-lg text-green-800 dark:text-green-300",children:T}),N&&d.jsxs("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg text-red-800 dark:text-red-300",children:[" ",N]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("label",{className:"block text-sm font-medium text-red-800 dark:text-red-300",children:'Selecione as Categorias (ou "Todas" para aplicar em todos os produtos)'}),d.jsx("button",{type:"button",onClick:L,className:"text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 font-medium",children:v.length===b.length?"Desmarcar Todas":"Selecionar Todas"})]}),d.jsxs("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[" ",d.jsx("strong",{children:"Dica:"})," Se voc selecionou todas as categorias, a operao ser aplicada em ",d.jsx("strong",{children:"TODOS os produtos da empresa"}),"."]}),d.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["Categorias selecionadas: ",d.jsx("strong",{children:v.length})," de ",d.jsx("strong",{children:b.length})]})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 max-h-60 overflow-y-auto p-3 bg-white dark:bg-gray-800 rounded-lg border border-red-200 dark:border-red-800",children:b.map(z=>d.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-red-50 dark:hover:bg-red-900/20 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:v.includes(z.id),onChange:()=>P(z.id),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),d.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:z.name})]},z.id))}),d.jsxs("p",{className:"mt-2 text-xs text-red-600 dark:text-red-400",children:[v.length," categoria(s) selecionada(s)"]})]}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("button",{type:"button",onClick:Q,disabled:w||v.length===0,className:"p-4 bg-blue-100 dark:bg-blue-900/30 border-2 border-blue-400 dark:border-blue-700 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx("div",{className:"text-3xl mb-2",children:""}),d.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-300 mb-1",children:"Atualizar Fotos (IA)"}),d.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"IA busca fotos adequadas para cada produto"})]}),d.jsxs("button",{type:"button",onClick:V,disabled:w||v.length===0,className:"p-4 bg-orange-100 dark:bg-orange-900/30 border-2 border-orange-400 dark:border-orange-700 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx("div",{className:"text-3xl mb-2",children:""}),d.jsx("h3",{className:"font-semibold text-orange-800 dark:text-orange-300 mb-1",children:"Zerar Estoque"}),d.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400",children:"Define estoque = 0 para produtos selecionados"})]}),d.jsxs("button",{type:"button",onClick:D,disabled:w||v.length===0,className:"p-4 bg-red-100 dark:bg-red-900/30 border-2 border-red-400 dark:border-red-700 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx("div",{className:"text-3xl mb-2",children:""}),d.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-300 mb-1",children:"Limpar Movimentaes"}),d.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Apaga TODO histrico de movimentaes"})]}),d.jsxs("button",{type:"button",onClick:B,disabled:w||v.length===0,className:"p-4 bg-red-200 dark:bg-red-900/50 border-2 border-red-500 dark:border-red-600 rounded-lg hover:bg-red-300 dark:hover:bg-red-900/70 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx("div",{className:"text-3xl mb-2",children:""}),d.jsx("h3",{className:"font-semibold text-red-900 dark:text-red-200 mb-1",children:"Apagar Produtos"}),d.jsx("p",{className:"text-xs text-red-700 dark:text-red-300",children:"Deleta permanentemente produtos e movimentaes"})]})]}),w&&d.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-red-600 dark:text-red-400",children:[d.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Processando..."})]})]})]}),I&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-4",children:" Confirmao Necessria"}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6 whitespace-pre-line",children:I.message}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{type:"button",onClick:()=>O(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancelar"}),d.jsx("button",{type:"button",onClick:I.onConfirm,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold",children:"Sim, Confirmo"})]})]})}),g&&d.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 rounded-lg shadow-lg flex justify-end gap-4",children:[d.jsx("button",{type:"button",onClick:K,disabled:l,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Salvando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Xl,{className:"w-5 h-5"}),"Salvar Configuraes"]})})]})]})]})};function GW(){const[e,t]=x.useState([]),[n,r]=x.useState(!0),[a,i]=x.useState(null),[o,l]=x.useState({startDate:new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],userId:"",companyId:"",actionType:"",tableName:""}),[s,u]=x.useState([]),[c,f]=x.useState([]);x.useEffect(()=>{p()},[]);const p=async()=>{try{r(!0),i(null);const S=await AO(o);t(S);const[w,_]=await Promise.all([HT(),Ss()]);u(w),f(_)}catch(S){i(S.message||"Erro ao carregar relatrio")}finally{r(!1)}},g=S=>{const{name:w,value:_}=S.target;l(T=>({...T,[w]:_}))},y=()=>{p()},b=()=>{const S=["Data/Hora","Usurio","Email","Empresa","Ao","Tabela","Registro ID","IP","Detalhes"],w=e.map(N=>[new Date(N.created_at).toLocaleString("pt-BR"),N.user_name,N.user_email,N.company_name,N.action_type,N.table_name,N.record_id,N.ip_address,JSON.stringify(N.new_value||N.old_value||{})]),_=[S.join(","),...w.map(N=>N.map(k=>`"${k}"`).join(","))].join(`
`),T=new Blob([_],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a");A.href=URL.createObjectURL(T),A.download=`atividades-criticas-${new Date().toISOString().split("T")[0]}.csv`,A.click()},E=S=>({CREATE:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",UPDATE:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",DELETE:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"})[S]||"bg-gray-100 text-gray-800",v=S=>{const _=["users","companies","company_settings","products"].includes(S.table_name),T=S.action_type==="DELETE";return T&&_?{level:"CRTICO",color:"text-red-600 dark:text-red-400"}:T||_&&S.action_type==="UPDATE"?{level:"ALTO",color:"text-orange-600 dark:text-orange-400"}:_?{level:"MDIO",color:"text-yellow-600 dark:text-yellow-400"}:{level:"BAIXO",color:"text-gray-600 dark:text-gray-400"}};return n?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Carregando relatrio..."})}):d.jsxs("div",{className:"container mx-auto p-6",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200 flex items-center gap-3",children:[d.jsx("span",{className:"text-4xl",children:""}),"Relatrio de Atividades Crticas"]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Monitoramento detalhado de aes crticas realizadas por usurios no sistema"})]}),a&&d.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:d.jsxs("p",{className:"text-red-700 dark:text-red-300",children:[" ",a]})}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6 border border-gray-200 dark:border-gray-700",children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[d.jsx("span",{children:""})," Filtros"]}),d.jsxs("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data Inicial"}),d.jsx("input",{type:"date",name:"startDate",value:o.startDate,onChange:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data Final"}),d.jsx("input",{type:"date",name:"endDate",value:o.endDate,onChange:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Usurio"}),d.jsxs("select",{name:"userId",value:o.userId,onChange:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todos"}),s.map(S=>d.jsxs("option",{value:S.id,children:[S.name," (",S.email,")"]},S.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Empresa"}),d.jsxs("select",{name:"companyId",value:o.companyId,onChange:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todas"}),c.map(S=>d.jsx("option",{value:S.id,children:S.name},S.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Ao"}),d.jsxs("select",{name:"actionType",value:o.actionType,onChange:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todas"}),d.jsx("option",{value:"CREATE",children:"CREATE"}),d.jsx("option",{value:"UPDATE",children:"UPDATE"}),d.jsx("option",{value:"DELETE",children:"DELETE"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tabela"}),d.jsxs("select",{name:"tableName",value:o.tableName,onChange:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Todas"}),d.jsx("option",{value:"users",children:"Usurios"}),d.jsx("option",{value:"companies",children:"Empresas"}),d.jsx("option",{value:"products",children:"Produtos"}),d.jsx("option",{value:"stock_movements",children:"Movimentaes"}),d.jsx("option",{value:"company_settings",children:"Configuraes"})]})]}),d.jsxs("div",{className:"flex items-end gap-2",children:[d.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Aplicar"}),d.jsx("button",{onClick:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Exportar para CSV",children:""})]})]})]}),d.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:[d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total de Atividades"}),d.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:e.length})]}),d.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg shadow-sm p-4 border border-green-200 dark:border-green-800",children:[d.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Criaes"}),d.jsx("div",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:e.filter(S=>S.action_type==="CREATE").length})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg shadow-sm p-4 border border-blue-200 dark:border-blue-800",children:[d.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Atualizaes"}),d.jsx("div",{className:"text-2xl font-bold text-blue-800 dark:text-blue-200",children:e.filter(S=>S.action_type==="UPDATE").length})]}),d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg shadow-sm p-4 border border-red-200 dark:border-red-800",children:[d.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Excluses"}),d.jsx("div",{className:"text-2xl font-bold text-red-800 dark:text-red-200",children:e.filter(S=>S.action_type==="DELETE").length})]})]}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Criticidade"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Data/Hora"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Usurio"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Empresa"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Ao"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Tabela"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Registro"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"IP"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Detalhes"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"Nenhuma atividade encontrada no perodo selecionado"})}):e.map(S=>{const w=v(S);return d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:`text-xs font-semibold ${w.color}`,children:w.level})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:new Date(S.created_at).toLocaleString("pt-BR")}),d.jsxs("td",{className:"px-4 py-3",children:[d.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:S.user_name}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:S.user_email})]}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:S.company_name}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${E(S.action_type)}`,children:S.action_type})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:S.table_name}),d.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100",children:["#",S.record_id]}),d.jsx("td",{className:"px-4 py-3 text-sm font-mono text-gray-600 dark:text-gray-400",children:S.ip_address||"N/A"}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("details",{className:"text-xs",children:[d.jsx("summary",{className:"cursor-pointer text-blue-600 dark:text-blue-400 hover:underline",children:"Ver"}),d.jsxs("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-900 rounded text-gray-700 dark:text-gray-300",children:[d.jsxs("div",{className:"mb-1",children:[d.jsx("strong",{children:"User Agent:"})," ",S.user_agent||"N/A"]}),S.old_value&&d.jsxs("div",{className:"mb-1",children:[d.jsx("strong",{children:"Valor Anterior:"}),d.jsx("pre",{className:"mt-1 text-xs overflow-x-auto",children:JSON.stringify(S.old_value,null,2)})]}),S.new_value&&d.jsxs("div",{children:[d.jsx("strong",{children:"Novo Valor:"}),d.jsx("pre",{className:"mt-1 text-xs overflow-x-auto",children:JSON.stringify(S.new_value,null,2)})]})]})]})})]},S.id)})})]})})})]})}class FW extends x.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){var t;return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg",children:d.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:" Erro ao carregar componente"}),d.jsxs("p",{className:"mb-2",children:[d.jsx("strong",{children:"Erro:"})," ",(t=this.state.error)==null?void 0:t.toString()]}),this.state.errorInfo&&d.jsxs("details",{className:"mt-4",children:[d.jsx("summary",{className:"cursor-pointer font-semibold",children:"Stack Trace"}),d.jsx("pre",{className:"mt-2 text-xs overflow-auto bg-red-50 p-2 rounded",children:this.state.errorInfo.componentStack})]}),d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Recarregar Pgina"})]})}):this.props.children}}const YW=()=>{const[e,t]=x.useState(null),[n,r]=x.useState("dashboard"),[a,i]=x.useState(!1),o=async(c,f)=>{const p=await hO(c,f);return p?(t(p),!0):!1},l=()=>{t(null),r("dashboard")},s=c=>{if(!e)return!1;const f={[ge.SuperAdmin]:3,[ge.Admin]:2,[ge.Manager]:1,[ge.Employee]:0};return f[e.role]>=f[c]},u=()=>{switch(n){case"dashboard":return d.jsx(mE,{setView:r,currentUser:e});case"products":return d.jsx(FW,{children:d.jsx(hF,{currentUser:e})});case"categories":return d.jsx(gF,{currentUser:e});case"suppliers":return d.jsx(yF,{currentUser:e});case"users":return d.jsx(xF,{currentUser:e});case"movements":return d.jsx(SF,{currentUser:e});case"invoice-processor":return d.jsx(zW,{currentUser:e});case"companies":return d.jsx(BW,{currentUser:e});case"activity-log":return d.jsx(qW,{currentUser:e});case"reports":return d.jsx(HW,{});case"settings":return d.jsx(VW,{currentUser:e});case"company-settings":return d.jsx($W,{currentUser:e});case"critical-activity-report":return d.jsx(GW,{});default:return d.jsx(mE,{setView:r,currentUser:e})}};return e?d.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200",children:[a&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>i(!1)}),d.jsx(mF,{view:n,setView:c=>{r(c),i(!1)},hasPermission:s,isOpen:a,onClose:()=>i(!1),currentUser:e}),d.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[d.jsx(pF,{currentUser:e,onLogout:l,onMenuClick:()=>i(!a)}),d.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 dark:bg-gray-900 p-4 sm:p-6 md:p-8",children:u()})]})]}):d.jsx(NO,{onLogin:o})},ZM=document.getElementById("root");if(!ZM)throw new Error("Could not find root element to mount to");const KW=eO.createRoot(ZM);KW.render(d.jsx(Ga.StrictMode,{children:d.jsx(YW,{})}));
